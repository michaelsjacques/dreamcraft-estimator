<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; connect-src https://api.anthropic.com https://api.monday.com https://gsjuqsmrqhyphzedwspa.supabase.co https://nominatim.openstreetmap.org; img-src 'self' data: blob:;">
  <title>DreamCraft Hub</title>
  <style>*{box-sizing:border-box;margin:0;padding:0;}html,body{min-height:100%;background:#000;}#err{display:none;position:fixed;top:0;left:0;right:0;background:#450a0a;color:#fca5a5;padding:14px 20px;font-family:monospace;font-size:12px;z-index:9999;white-space:pre-wrap;max-height:40vh;overflow:auto;}</style>
</head>
<body>
  <div id="err"></div>
  <div id="root"></div>
  <script>window.DCE_API_KEY=String.fromCharCode(115,107,45,97,110,116,45,97,112,105,48,51,45,78,97,107,115,70,98,56,53,50,112,54,54,103,80,69,45,48,50,66,95,110,116,104,77,95,90,84,122,84,97,109,113,86,99,86,88,70,79,75,50,70,85,85,74,101,116,78,78,87,122,114,71,83,84,69,69,49,81,121,80,57,120,55,112,68,82,70,56,76,100,89,120,52,98,79,52,69,89,90,111,84,111,85,107,84,119,45,119,114,80,75,52,103,65,65);</script>
  <script>window.onerror=function(m,s,l,c,e){var b=document.getElementById("err");b.style.display="block";b.textContent="Error: "+m+"\nLine:"+l+"\n"+(e&&e.stack?e.stack:"");};window.addEventListener("unhandledrejection",function(e){var b=document.getElementById("err");b.style.display="block";b.textContent="Promise: "+(e.reason&&e.reason.stack?e.reason.stack:String(e.reason));});</script>
  <script>(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var require_react_production=__commonJS({"home/claude/.npm-global/lib/node_modules/react/cjs/react.production.js"(exports){"use strict";var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element");var REACT_PORTAL_TYPE=Symbol.for("react.portal");var REACT_FRAGMENT_TYPE=Symbol.for("react.fragment");var REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode");var REACT_PROFILER_TYPE=Symbol.for("react.profiler");var REACT_CONSUMER_TYPE=Symbol.for("react.consumer");var REACT_CONTEXT_TYPE=Symbol.for("react.context");var REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref");var REACT_SUSPENSE_TYPE=Symbol.for("react.suspense");var REACT_MEMO_TYPE=Symbol.for("react.memo");var REACT_LAZY_TYPE=Symbol.for("react.lazy");var REACT_ACTIVITY_TYPE=Symbol.for("react.activity");var MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(maybeIterable){if(null===maybeIterable||"object"!==typeof maybeIterable)return null;maybeIterable=MAYBE_ITERATOR_SYMBOL&&maybeIterable[MAYBE_ITERATOR_SYMBOL]||maybeIterable["@@iterator"];return"function"===typeof maybeIterable?maybeIterable:null}var ReactNoopUpdateQueue={isMounted:function(){return false},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};var assign=Object.assign;var emptyObject={};function Component(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}Component.prototype.isReactComponent={};Component.prototype.setState=function(partialState,callback){if("object"!==typeof partialState&&"function"!==typeof partialState&&null!=partialState)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,partialState,callback,"setState")};Component.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this,callback,"forceUpdate")};function ComponentDummy(){}ComponentDummy.prototype=Component.prototype;function PureComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}var pureComponentPrototype=PureComponent.prototype=new ComponentDummy;pureComponentPrototype.constructor=PureComponent;assign(pureComponentPrototype,Component.prototype);pureComponentPrototype.isPureReactComponent=true;var isArrayImpl=Array.isArray;function noop(){}var ReactSharedInternals={H:null,A:null,T:null,S:null};var hasOwnProperty=Object.prototype.hasOwnProperty;function ReactElement(type,key,props){var refProp=props.ref;return{$$typeof:REACT_ELEMENT_TYPE,type,key,ref:void 0!==refProp?refProp:null,props}}function cloneAndReplaceKey(oldElement,newKey){return ReactElement(oldElement.type,newKey,oldElement.props)}function isValidElement(object){return"object"===typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE}function escape(key){var escaperLookup={"=":"=0",":":"=2"};return"$"+key.replace(/[=:]/g,function(match){return escaperLookup[match]})}var userProvidedKeyEscapeRegex=/\/+/g;function getElementKey(element,index){return"object"===typeof element&&null!==element&&null!=element.key?escape(""+element.key):index.toString(36)}function resolveThenable(thenable){switch(thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenable.reason;default:switch("string"===typeof thenable.status?thenable.then(noop,noop):(thenable.status="pending",thenable.then(function(fulfilledValue){"pending"===thenable.status&&(thenable.status="fulfilled",thenable.value=fulfilledValue)},function(error){"pending"===thenable.status&&(thenable.status="rejected",thenable.reason=error)})),thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenable.reason}}throw thenable}function mapIntoArray(children,array,escapedPrefix,nameSoFar,callback){var type=typeof children;if("undefined"===type||"boolean"===type)children=null;var invokeCallback=false;if(null===children)invokeCallback=true;else switch(type){case"bigint":case"string":case"number":invokeCallback=true;break;case"object":switch(children.$$typeof){case REACT_ELEMENT_TYPE:case REACT_PORTAL_TYPE:invokeCallback=true;break;case REACT_LAZY_TYPE:return invokeCallback=children._init,mapIntoArray(invokeCallback(children._payload),array,escapedPrefix,nameSoFar,callback)}}if(invokeCallback)return callback=callback(children),invokeCallback=""===nameSoFar?"."+getElementKey(children,0):nameSoFar,isArrayImpl(callback)?(escapedPrefix="",null!=invokeCallback&&(escapedPrefix=invokeCallback.replace(userProvidedKeyEscapeRegex,"$&/")+"/"),mapIntoArray(callback,array,escapedPrefix,"",function(c){return c})):null!=callback&&(isValidElement(callback)&&(callback=cloneAndReplaceKey(callback,escapedPrefix+(null==callback.key||children&&children.key===callback.key?"":(""+callback.key).replace(userProvidedKeyEscapeRegex,"$&/")+"/")+invokeCallback)),array.push(callback)),1;invokeCallback=0;var nextNamePrefix=""===nameSoFar?".":nameSoFar+":";if(isArrayImpl(children))for(var i=0;i<children.length;i++)nameSoFar=children[i],type=nextNamePrefix+getElementKey(nameSoFar,i),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if(i=getIteratorFn(children),"function"===typeof i)for(children=i.call(children),i=0;!(nameSoFar=children.next()).done;)nameSoFar=nameSoFar.value,type=nextNamePrefix+getElementKey(nameSoFar,i++),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if("object"===type){if("function"===typeof children.then)return mapIntoArray(resolveThenable(children),array,escapedPrefix,nameSoFar,callback);array=String(children);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===array?"object with keys {"+Object.keys(children).join(", ")+"}":array)+"). If you meant to render a collection of children, use an array instead.")}return invokeCallback}function mapChildren(children,func,context){if(null==children)return children;var result=[],count=0;mapIntoArray(children,result,"","",function(child){return func.call(context,child,count++)});return result}function lazyInitializer(payload){if(-1===payload._status){var ctor=payload._result;ctor=ctor();ctor.then(function(moduleObject){if(0===payload._status||-1===payload._status)payload._status=1,payload._result=moduleObject},function(error){if(0===payload._status||-1===payload._status)payload._status=2,payload._result=error});-1===payload._status&&(payload._status=0,payload._result=ctor)}if(1===payload._status)return payload._result.default;throw payload._result}var reportGlobalError="function"===typeof reportError?reportError:function(error){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var event=new window.ErrorEvent("error",{bubbles:true,cancelable:true,message:"object"===typeof error&&null!==error&&"string"===typeof error.message?String(error.message):String(error),error});if(!window.dispatchEvent(event))return}else if("object"===typeof process&&"function"===typeof process.emit){process.emit("uncaughtException",error);return}console.error(error)};var Children={map:mapChildren,forEach:function(children,forEachFunc,forEachContext){mapChildren(children,function(){forEachFunc.apply(this,arguments)},forEachContext)},count:function(children){var n=0;mapChildren(children,function(){n++});return n},toArray:function(children){return mapChildren(children,function(child){return child})||[]},only:function(children){if(!isValidElement(children))throw Error("React.Children.only expected to receive a single React element child.");return children}};exports.Activity=REACT_ACTIVITY_TYPE;exports.Children=Children;exports.Component=Component;exports.Fragment=REACT_FRAGMENT_TYPE;exports.Profiler=REACT_PROFILER_TYPE;exports.PureComponent=PureComponent;exports.StrictMode=REACT_STRICT_MODE_TYPE;exports.Suspense=REACT_SUSPENSE_TYPE;exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ReactSharedInternals;exports.__COMPILER_RUNTIME={__proto__:null,c:function(size){return ReactSharedInternals.H.useMemoCache(size)}};exports.cache=function(fn){return function(){return fn.apply(null,arguments)}};exports.cacheSignal=function(){return null};exports.cloneElement=function(element,config,children){if(null===element||void 0===element)throw Error("The argument must be a React element, but you passed "+element+".");var props=assign({},element.props),key=element.key;if(null!=config)for(propName in void 0!==config.key&&(key=""+config.key),config)!hasOwnProperty.call(config,propName)||"key"===propName||"__self"===propName||"__source"===propName||"ref"===propName&&void 0===config.ref||(props[propName]=config[propName]);var propName=arguments.length-2;if(1===propName)props.children=children;else if(1<propName){for(var childArray=Array(propName),i=0;i<propName;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,props)};exports.createContext=function(defaultValue){defaultValue={$$typeof:REACT_CONTEXT_TYPE,_currentValue:defaultValue,_currentValue2:defaultValue,_threadCount:0,Provider:null,Consumer:null};defaultValue.Provider=defaultValue;defaultValue.Consumer={$$typeof:REACT_CONSUMER_TYPE,_context:defaultValue};return defaultValue};exports.createElement=function(type,config,children){var propName,props={},key=null;if(null!=config)for(propName in void 0!==config.key&&(key=""+config.key),config)hasOwnProperty.call(config,propName)&&"key"!==propName&&"__self"!==propName&&"__source"!==propName&&(props[propName]=config[propName]);var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(1<childrenLength){for(var childArray=Array(childrenLength),i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps)for(propName in childrenLength=type.defaultProps,childrenLength)void 0===props[propName]&&(props[propName]=childrenLength[propName]);return ReactElement(type,key,props)};exports.createRef=function(){return{current:null}};exports.forwardRef=function(render){return{$$typeof:REACT_FORWARD_REF_TYPE,render}};exports.isValidElement=isValidElement;exports.lazy=function(ctor){return{$$typeof:REACT_LAZY_TYPE,_payload:{_status:-1,_result:ctor},_init:lazyInitializer}};exports.memo=function(type,compare){return{$$typeof:REACT_MEMO_TYPE,type,compare:void 0===compare?null:compare}};exports.startTransition=function(scope){var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition;try{var returnValue=scope(),onStartTransitionFinish=ReactSharedInternals.S;null!==onStartTransitionFinish&&onStartTransitionFinish(currentTransition,returnValue);"object"===typeof returnValue&&null!==returnValue&&"function"===typeof returnValue.then&&returnValue.then(noop,reportGlobalError)}catch(error){reportGlobalError(error)}finally{null!==prevTransition&&null!==currentTransition.types&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}};exports.unstable_useCacheRefresh=function(){return ReactSharedInternals.H.useCacheRefresh()};exports.use=function(usable){return ReactSharedInternals.H.use(usable)};exports.useActionState=function(action,initialState,permalink){return ReactSharedInternals.H.useActionState(action,initialState,permalink)};exports.useCallback=function(callback,deps){return ReactSharedInternals.H.useCallback(callback,deps)};exports.useContext=function(Context){return ReactSharedInternals.H.useContext(Context)};exports.useDebugValue=function(){};exports.useDeferredValue=function(value,initialValue){return ReactSharedInternals.H.useDeferredValue(value,initialValue)};exports.useEffect=function(create,deps){return ReactSharedInternals.H.useEffect(create,deps)};exports.useEffectEvent=function(callback){return ReactSharedInternals.H.useEffectEvent(callback)};exports.useId=function(){return ReactSharedInternals.H.useId()};exports.useImperativeHandle=function(ref,create,deps){return ReactSharedInternals.H.useImperativeHandle(ref,create,deps)};exports.useInsertionEffect=function(create,deps){return ReactSharedInternals.H.useInsertionEffect(create,deps)};exports.useLayoutEffect=function(create,deps){return ReactSharedInternals.H.useLayoutEffect(create,deps)};exports.useMemo=function(create,deps){return ReactSharedInternals.H.useMemo(create,deps)};exports.useOptimistic=function(passthrough,reducer){return ReactSharedInternals.H.useOptimistic(passthrough,reducer)};exports.useReducer=function(reducer,initialArg,init){return ReactSharedInternals.H.useReducer(reducer,initialArg,init)};exports.useRef=function(initialValue){return ReactSharedInternals.H.useRef(initialValue)};exports.useState=function(initialState){return ReactSharedInternals.H.useState(initialState)};exports.useSyncExternalStore=function(subscribe,getSnapshot,getServerSnapshot){return ReactSharedInternals.H.useSyncExternalStore(subscribe,getSnapshot,getServerSnapshot)};exports.useTransition=function(){return ReactSharedInternals.H.useTransition()};exports.version="19.2.4"}});var require_react=__commonJS({"home/claude/.npm-global/lib/node_modules/react/index.js"(exports,module){"use strict";if(true){module.exports=require_react_production()}else{module.exports=null}}});var require_scheduler_production=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.js"(exports){"use strict";function push(heap,node){var index=heap.length;heap.push(node);a:for(;0<index;){var parentIndex=index-1>>>1,parent=heap[parentIndex];if(0<compare(parent,node))heap[parentIndex]=node,heap[index]=parent,index=parentIndex;else break a}}function peek(heap){return 0===heap.length?null:heap[0]}function pop(heap){if(0===heap.length)return null;var first=heap[0],last=heap.pop();if(last!==first){heap[0]=last;a:for(var index=0,length=heap.length,halfLength=length>>>1;index<halfLength;){var leftIndex=2*(index+1)-1,left=heap[leftIndex],rightIndex=leftIndex+1,right=heap[rightIndex];if(0>compare(left,last))rightIndex<length&&0>compare(right,left)?(heap[index]=right,heap[rightIndex]=last,index=rightIndex):(heap[index]=left,heap[leftIndex]=last,index=leftIndex);else if(rightIndex<length&&0>compare(right,last))heap[index]=right,heap[rightIndex]=last,index=rightIndex;else break a}}return first}function compare(a,b){var diff=a.sortIndex-b.sortIndex;return 0!==diff?diff:a.id-b.id}exports.unstable_now=void 0;if("object"===typeof performance&&"function"===typeof performance.now){localPerformance=performance;exports.unstable_now=function(){return localPerformance.now()}}else{localDate=Date,initialTime=localDate.now();exports.unstable_now=function(){return localDate.now()-initialTime}}var localPerformance;var localDate;var initialTime;var taskQueue=[];var timerQueue=[];var taskIdCounter=1;var currentTask=null;var currentPriorityLevel=3;var isPerformingWork=false;var isHostCallbackScheduled=false;var isHostTimeoutScheduled=false;var needsPaint=false;var localSetTimeout="function"===typeof setTimeout?setTimeout:null;var localClearTimeout="function"===typeof clearTimeout?clearTimeout:null;var localSetImmediate="undefined"!==typeof setImmediate?setImmediate:null;function advanceTimers(currentTime){for(var timer=peek(timerQueue);null!==timer;){if(null===timer.callback)pop(timerQueue);else if(timer.startTime<=currentTime)pop(timerQueue),timer.sortIndex=timer.expirationTime,push(taskQueue,timer);else break;timer=peek(timerQueue)}}function handleTimeout(currentTime){isHostTimeoutScheduled=false;advanceTimers(currentTime);if(!isHostCallbackScheduled)if(null!==peek(taskQueue))isHostCallbackScheduled=true,isMessageLoopRunning||(isMessageLoopRunning=true,schedulePerformWorkUntilDeadline());else{var firstTimer=peek(timerQueue);null!==firstTimer&&requestHostTimeout(handleTimeout,firstTimer.startTime-currentTime)}}var isMessageLoopRunning=false;var taskTimeoutID=-1;var frameInterval=5;var startTime=-1;function shouldYieldToHost(){return needsPaint?true:exports.unstable_now()-startTime<frameInterval?false:true}function performWorkUntilDeadline(){needsPaint=false;if(isMessageLoopRunning){var currentTime=exports.unstable_now();startTime=currentTime;var hasMoreWork=true;try{a:{isHostCallbackScheduled=false;isHostTimeoutScheduled&&(isHostTimeoutScheduled=false,localClearTimeout(taskTimeoutID),taskTimeoutID=-1);isPerformingWork=true;var previousPriorityLevel=currentPriorityLevel;try{b:{advanceTimers(currentTime);for(currentTask=peek(taskQueue);null!==currentTask&&!(currentTask.expirationTime>currentTime&&shouldYieldToHost());){var callback=currentTask.callback;if("function"===typeof callback){currentTask.callback=null;currentPriorityLevel=currentTask.priorityLevel;var continuationCallback=callback(currentTask.expirationTime<=currentTime);currentTime=exports.unstable_now();if("function"===typeof continuationCallback){currentTask.callback=continuationCallback;advanceTimers(currentTime);hasMoreWork=true;break b}currentTask===peek(taskQueue)&&pop(taskQueue);advanceTimers(currentTime)}else pop(taskQueue);currentTask=peek(taskQueue)}if(null!==currentTask)hasMoreWork=true;else{var firstTimer=peek(timerQueue);null!==firstTimer&&requestHostTimeout(handleTimeout,firstTimer.startTime-currentTime);hasMoreWork=false}}break a}finally{currentTask=null,currentPriorityLevel=previousPriorityLevel,isPerformingWork=false}hasMoreWork=void 0}}finally{hasMoreWork?schedulePerformWorkUntilDeadline():isMessageLoopRunning=false}}}var schedulePerformWorkUntilDeadline;if("function"===typeof localSetImmediate)schedulePerformWorkUntilDeadline=function(){localSetImmediate(performWorkUntilDeadline)};else if("undefined"!==typeof MessageChannel){channel=new MessageChannel,port=channel.port2;channel.port1.onmessage=performWorkUntilDeadline;schedulePerformWorkUntilDeadline=function(){port.postMessage(null)}}else schedulePerformWorkUntilDeadline=function(){localSetTimeout(performWorkUntilDeadline,0)};var channel;var port;function requestHostTimeout(callback,ms){taskTimeoutID=localSetTimeout(function(){callback(exports.unstable_now())},ms)}exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(task){task.callback=null};exports.unstable_forceFrameRate=function(fps){0>fps||125<fps?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):frameInterval=0<fps?Math.floor(1e3/fps):5};exports.unstable_getCurrentPriorityLevel=function(){return currentPriorityLevel};exports.unstable_next=function(eventHandler){switch(currentPriorityLevel){case 1:case 2:case 3:var priorityLevel=3;break;default:priorityLevel=currentPriorityLevel}var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=priorityLevel;try{return eventHandler()}finally{currentPriorityLevel=previousPriorityLevel}};exports.unstable_requestPaint=function(){needsPaint=true};exports.unstable_runWithPriority=function(priorityLevel,eventHandler){switch(priorityLevel){case 1:case 2:case 3:case 4:case 5:break;default:priorityLevel=3}var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=priorityLevel;try{return eventHandler()}finally{currentPriorityLevel=previousPriorityLevel}};exports.unstable_scheduleCallback=function(priorityLevel,callback,options){var currentTime=exports.unstable_now();"object"===typeof options&&null!==options?(options=options.delay,options="number"===typeof options&&0<options?currentTime+options:currentTime):options=currentTime;switch(priorityLevel){case 1:var timeout=-1;break;case 2:timeout=250;break;case 5:timeout=1073741823;break;case 4:timeout=1e4;break;default:timeout=5e3}timeout=options+timeout;priorityLevel={id:taskIdCounter++,callback,priorityLevel,startTime:options,expirationTime:timeout,sortIndex:-1};options>currentTime?(priorityLevel.sortIndex=options,push(timerQueue,priorityLevel),null===peek(taskQueue)&&priorityLevel===peek(timerQueue)&&(isHostTimeoutScheduled?(localClearTimeout(taskTimeoutID),taskTimeoutID=-1):isHostTimeoutScheduled=true,requestHostTimeout(handleTimeout,options-currentTime))):(priorityLevel.sortIndex=timeout,push(taskQueue,priorityLevel),isHostCallbackScheduled||isPerformingWork||(isHostCallbackScheduled=true,isMessageLoopRunning||(isMessageLoopRunning=true,schedulePerformWorkUntilDeadline())));return priorityLevel};exports.unstable_shouldYield=shouldYieldToHost;exports.unstable_wrapCallback=function(callback){var parentPriorityLevel=currentPriorityLevel;return function(){var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=parentPriorityLevel;try{return callback.apply(this,arguments)}finally{currentPriorityLevel=previousPriorityLevel}}}}});var require_scheduler=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/node_modules/scheduler/index.js"(exports,module){"use strict";if(true){module.exports=require_scheduler_production()}else{module.exports=null}}});var require_react_dom_production=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/cjs/react-dom.production.js"(exports){"use strict";var React2=require_react();function formatProdErrorMessage(code){var url="https://react.dev/errors/"+code;if(1<arguments.length){url+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)url+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+code+"; visit "+url+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop(){}var Internals={d:{f:noop,r:function(){throw Error(formatProdErrorMessage(522))},D:noop,C:noop,L:noop,m:noop,X:noop,S:noop,M:noop},p:0,findDOMNode:null};var REACT_PORTAL_TYPE=Symbol.for("react.portal");function createPortal$1(children,containerInfo,implementation){var key=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE,key:null==key?null:""+key,children,containerInfo,implementation}}var ReactSharedInternals=React2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(as,input){if("font"===as)return"";if("string"===typeof input)return"use-credentials"===input?input:""}exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Internals;exports.createPortal=function(children,container2){var key=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!container2||1!==container2.nodeType&&9!==container2.nodeType&&11!==container2.nodeType)throw Error(formatProdErrorMessage(299));return createPortal$1(children,container2,null,key)};exports.flushSync=function(fn){var previousTransition=ReactSharedInternals.T,previousUpdatePriority=Internals.p;try{if(ReactSharedInternals.T=null,Internals.p=2,fn)return fn()}finally{ReactSharedInternals.T=previousTransition,Internals.p=previousUpdatePriority,Internals.d.f()}};exports.preconnect=function(href,options){"string"===typeof href&&(options?(options=options.crossOrigin,options="string"===typeof options?"use-credentials"===options?options:"":void 0):options=null,Internals.d.C(href,options))};exports.prefetchDNS=function(href){"string"===typeof href&&Internals.d.D(href)};exports.preinit=function(href,options){if("string"===typeof href&&options&&"string"===typeof options.as){var as=options.as,crossOrigin=getCrossOriginStringAs(as,options.crossOrigin),integrity="string"===typeof options.integrity?options.integrity:void 0,fetchPriority="string"===typeof options.fetchPriority?options.fetchPriority:void 0;"style"===as?Internals.d.S(href,"string"===typeof options.precedence?options.precedence:void 0,{crossOrigin,integrity,fetchPriority}):"script"===as&&Internals.d.X(href,{crossOrigin,integrity,fetchPriority,nonce:"string"===typeof options.nonce?options.nonce:void 0})}};exports.preinitModule=function(href,options){if("string"===typeof href)if("object"===typeof options&&null!==options){if(null==options.as||"script"===options.as){var crossOrigin=getCrossOriginStringAs(options.as,options.crossOrigin);Internals.d.M(href,{crossOrigin,integrity:"string"===typeof options.integrity?options.integrity:void 0,nonce:"string"===typeof options.nonce?options.nonce:void 0})}}else null==options&&Internals.d.M(href)};exports.preload=function(href,options){if("string"===typeof href&&"object"===typeof options&&null!==options&&"string"===typeof options.as){var as=options.as,crossOrigin=getCrossOriginStringAs(as,options.crossOrigin);Internals.d.L(href,as,{crossOrigin,integrity:"string"===typeof options.integrity?options.integrity:void 0,nonce:"string"===typeof options.nonce?options.nonce:void 0,type:"string"===typeof options.type?options.type:void 0,fetchPriority:"string"===typeof options.fetchPriority?options.fetchPriority:void 0,referrerPolicy:"string"===typeof options.referrerPolicy?options.referrerPolicy:void 0,imageSrcSet:"string"===typeof options.imageSrcSet?options.imageSrcSet:void 0,imageSizes:"string"===typeof options.imageSizes?options.imageSizes:void 0,media:"string"===typeof options.media?options.media:void 0})}};exports.preloadModule=function(href,options){if("string"===typeof href)if(options){var crossOrigin=getCrossOriginStringAs(options.as,options.crossOrigin);Internals.d.m(href,{as:"string"===typeof options.as&&"script"!==options.as?options.as:void 0,crossOrigin,integrity:"string"===typeof options.integrity?options.integrity:void 0})}else Internals.d.m(href)};exports.requestFormReset=function(form){Internals.d.r(form)};exports.unstable_batchedUpdates=function(fn,a){return fn(a)};exports.useFormState=function(action,initialState,permalink){return ReactSharedInternals.H.useFormState(action,initialState,permalink)};exports.useFormStatus=function(){return ReactSharedInternals.H.useHostTransitionStatus()};exports.version="19.2.4"}});var require_react_dom=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/index.js"(exports,module){"use strict";function checkDCE(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){throw new Error("^_^")}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}if(true){checkDCE();module.exports=require_react_dom_production()}else{module.exports=null}}});var require_react_dom_client_production=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/cjs/react-dom-client.production.js"(exports){"use strict";var Scheduler=require_scheduler();var React2=require_react();var ReactDOM2=require_react_dom();function formatProdErrorMessage(code){var url="https://react.dev/errors/"+code;if(1<arguments.length){url+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)url+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+code+"; visit "+url+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function isValidContainer(node){return!(!node||1!==node.nodeType&&9!==node.nodeType&&11!==node.nodeType)}function getNearestMountedFiber(fiber){var node=fiber,nearestMounted=fiber;if(fiber.alternate)for(;node.return;)node=node.return;else{fiber=node;do node=fiber,0!==(node.flags&4098)&&(nearestMounted=node.return),fiber=node.return;while(fiber)}return 3===node.tag?nearestMounted:null}function getSuspenseInstanceFromFiber(fiber){if(13===fiber.tag){var suspenseState=fiber.memoizedState;null===suspenseState&&(fiber=fiber.alternate,null!==fiber&&(suspenseState=fiber.memoizedState));if(null!==suspenseState)return suspenseState.dehydrated}return null}function getActivityInstanceFromFiber(fiber){if(31===fiber.tag){var activityState=fiber.memoizedState;null===activityState&&(fiber=fiber.alternate,null!==fiber&&(activityState=fiber.memoizedState));if(null!==activityState)return activityState.dehydrated}return null}function assertIsMounted(fiber){if(getNearestMountedFiber(fiber)!==fiber)throw Error(formatProdErrorMessage(188))}function findCurrentFiberUsingSlowPath(fiber){var alternate=fiber.alternate;if(!alternate){alternate=getNearestMountedFiber(fiber);if(null===alternate)throw Error(formatProdErrorMessage(188));return alternate!==fiber?null:fiber}for(var a=fiber,b=alternate;;){var parentA=a.return;if(null===parentA)break;var parentB=parentA.alternate;if(null===parentB){b=parentA.return;if(null!==b){a=b;continue}break}if(parentA.child===parentB.child){for(parentB=parentA.child;parentB;){if(parentB===a)return assertIsMounted(parentA),fiber;if(parentB===b)return assertIsMounted(parentA),alternate;parentB=parentB.sibling}throw Error(formatProdErrorMessage(188))}if(a.return!==b.return)a=parentA,b=parentB;else{for(var didFindChild=false,child$0=parentA.child;child$0;){if(child$0===a){didFindChild=true;a=parentA;b=parentB;break}if(child$0===b){didFindChild=true;b=parentA;a=parentB;break}child$0=child$0.sibling}if(!didFindChild){for(child$0=parentB.child;child$0;){if(child$0===a){didFindChild=true;a=parentB;b=parentA;break}if(child$0===b){didFindChild=true;b=parentB;a=parentA;break}child$0=child$0.sibling}if(!didFindChild)throw Error(formatProdErrorMessage(189))}}if(a.alternate!==b)throw Error(formatProdErrorMessage(190))}if(3!==a.tag)throw Error(formatProdErrorMessage(188));return a.stateNode.current===a?fiber:alternate}function findCurrentHostFiberImpl(node){var tag=node.tag;if(5===tag||26===tag||27===tag||6===tag)return node;for(node=node.child;null!==node;){tag=findCurrentHostFiberImpl(node);if(null!==tag)return tag;node=node.sibling}return null}var assign=Object.assign;var REACT_LEGACY_ELEMENT_TYPE=Symbol.for("react.element");var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element");var REACT_PORTAL_TYPE=Symbol.for("react.portal");var REACT_FRAGMENT_TYPE=Symbol.for("react.fragment");var REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode");var REACT_PROFILER_TYPE=Symbol.for("react.profiler");var REACT_CONSUMER_TYPE=Symbol.for("react.consumer");var REACT_CONTEXT_TYPE=Symbol.for("react.context");var REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref");var REACT_SUSPENSE_TYPE=Symbol.for("react.suspense");var REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list");var REACT_MEMO_TYPE=Symbol.for("react.memo");var REACT_LAZY_TYPE=Symbol.for("react.lazy");var REACT_ACTIVITY_TYPE=Symbol.for("react.activity");var REACT_MEMO_CACHE_SENTINEL=Symbol.for("react.memo_cache_sentinel");var MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(maybeIterable){if(null===maybeIterable||"object"!==typeof maybeIterable)return null;maybeIterable=MAYBE_ITERATOR_SYMBOL&&maybeIterable[MAYBE_ITERATOR_SYMBOL]||maybeIterable["@@iterator"];return"function"===typeof maybeIterable?maybeIterable:null}var REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function getComponentNameFromType(type){if(null==type)return null;if("function"===typeof type)return type.$$typeof===REACT_CLIENT_REFERENCE?null:type.displayName||type.name||null;if("string"===typeof type)return type;switch(type){case REACT_FRAGMENT_TYPE:return"Fragment";case REACT_PROFILER_TYPE:return"Profiler";case REACT_STRICT_MODE_TYPE:return"StrictMode";case REACT_SUSPENSE_TYPE:return"Suspense";case REACT_SUSPENSE_LIST_TYPE:return"SuspenseList";case REACT_ACTIVITY_TYPE:return"Activity"}if("object"===typeof type)switch(type.$$typeof){case REACT_PORTAL_TYPE:return"Portal";case REACT_CONTEXT_TYPE:return type.displayName||"Context";case REACT_CONSUMER_TYPE:return(type._context.displayName||"Context")+".Consumer";case REACT_FORWARD_REF_TYPE:var innerType=type.render;type=type.displayName;type||(type=innerType.displayName||innerType.name||"",type=""!==type?"ForwardRef("+type+")":"ForwardRef");return type;case REACT_MEMO_TYPE:return innerType=type.displayName||null,null!==innerType?innerType:getComponentNameFromType(type.type)||"Memo";case REACT_LAZY_TYPE:innerType=type._payload;type=type._init;try{return getComponentNameFromType(type(innerType))}catch(x){}}return null}var isArrayImpl=Array.isArray;var ReactSharedInternals=React2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;var ReactDOMSharedInternals=ReactDOM2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;var sharedNotPendingObject={pending:false,data:null,method:null,action:null};var valueStack=[];var index=-1;function createCursor(defaultValue){return{current:defaultValue}}function pop(cursor){0>index||(cursor.current=valueStack[index],valueStack[index]=null,index--)}function push(cursor,value){index++;valueStack[index]=cursor.current;cursor.current=value}var contextStackCursor=createCursor(null);var contextFiberStackCursor=createCursor(null);var rootInstanceStackCursor=createCursor(null);var hostTransitionProviderCursor=createCursor(null);function pushHostContainer(fiber,nextRootInstance){push(rootInstanceStackCursor,nextRootInstance);push(contextFiberStackCursor,fiber);push(contextStackCursor,null);switch(nextRootInstance.nodeType){case 9:case 11:fiber=(fiber=nextRootInstance.documentElement)?(fiber=fiber.namespaceURI)?getOwnHostContext(fiber):0:0;break;default:if(fiber=nextRootInstance.tagName,nextRootInstance=nextRootInstance.namespaceURI)nextRootInstance=getOwnHostContext(nextRootInstance),fiber=getChildHostContextProd(nextRootInstance,fiber);else switch(fiber){case"svg":fiber=1;break;case"math":fiber=2;break;default:fiber=0}}pop(contextStackCursor);push(contextStackCursor,fiber)}function popHostContainer(){pop(contextStackCursor);pop(contextFiberStackCursor);pop(rootInstanceStackCursor)}function pushHostContext(fiber){null!==fiber.memoizedState&&push(hostTransitionProviderCursor,fiber);var context=contextStackCursor.current;var JSCompiler_inline_result=getChildHostContextProd(context,fiber.type);context!==JSCompiler_inline_result&&(push(contextFiberStackCursor,fiber),push(contextStackCursor,JSCompiler_inline_result))}function popHostContext(fiber){contextFiberStackCursor.current===fiber&&(pop(contextStackCursor),pop(contextFiberStackCursor));hostTransitionProviderCursor.current===fiber&&(pop(hostTransitionProviderCursor),HostTransitionContext._currentValue=sharedNotPendingObject)}var prefix;var suffix;function describeBuiltInComponentFrame(name){if(void 0===prefix)try{throw Error()}catch(x){var match=x.stack.trim().match(/\n( *(at )?)/);prefix=match&&match[1]||"";suffix=-1<x.stack.indexOf("\n    at")?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+prefix+name+suffix}var reentry=false;function describeNativeComponentFrame(fn,construct){if(!fn||reentry)return"";reentry=true;var previousPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var RunInRootFrame={DetermineComponentFrameRoot:function(){try{if(construct){var Fake=function(){throw Error()};Object.defineProperty(Fake.prototype,"props",{set:function(){throw Error()}});if("object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(Fake,[])}catch(x){var control=x}Reflect.construct(fn,[],Fake)}else{try{Fake.call()}catch(x$1){control=x$1}fn.call(Fake.prototype)}}else{try{throw Error()}catch(x$2){control=x$2}(Fake=fn())&&"function"===typeof Fake.catch&&Fake.catch(function(){})}}catch(sample){if(sample&&control&&"string"===typeof sample.stack)return[sample.stack,control.stack]}return[null,null]}};RunInRootFrame.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var namePropDescriptor=Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot,"name");namePropDescriptor&&namePropDescriptor.configurable&&Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _RunInRootFrame$Deter=RunInRootFrame.DetermineComponentFrameRoot(),sampleStack=_RunInRootFrame$Deter[0],controlStack=_RunInRootFrame$Deter[1];if(sampleStack&&controlStack){var sampleLines=sampleStack.split("\n"),controlLines=controlStack.split("\n");for(namePropDescriptor=RunInRootFrame=0;RunInRootFrame<sampleLines.length&&!sampleLines[RunInRootFrame].includes("DetermineComponentFrameRoot");)RunInRootFrame++;for(;namePropDescriptor<controlLines.length&&!controlLines[namePropDescriptor].includes("DetermineComponentFrameRoot");)namePropDescriptor++;if(RunInRootFrame===sampleLines.length||namePropDescriptor===controlLines.length)for(RunInRootFrame=sampleLines.length-1,namePropDescriptor=controlLines.length-1;1<=RunInRootFrame&&0<=namePropDescriptor&&sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor];)namePropDescriptor--;for(;1<=RunInRootFrame&&0<=namePropDescriptor;RunInRootFrame--,namePropDescriptor--)if(sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor]){if(1!==RunInRootFrame||1!==namePropDescriptor){do if(RunInRootFrame--,namePropDescriptor--,0>namePropDescriptor||sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor]){var frame="\n"+sampleLines[RunInRootFrame].replace(" at new "," at ");fn.displayName&&frame.includes("<anonymous>")&&(frame=frame.replace("<anonymous>",fn.displayName));return frame}while(1<=RunInRootFrame&&0<=namePropDescriptor)}break}}}finally{reentry=false,Error.prepareStackTrace=previousPrepareStackTrace}return(previousPrepareStackTrace=fn?fn.displayName||fn.name:"")?describeBuiltInComponentFrame(previousPrepareStackTrace):""}function describeFiber(fiber,childFiber){switch(fiber.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(fiber.type);case 16:return describeBuiltInComponentFrame("Lazy");case 13:return fiber.child!==childFiber&&null!==childFiber?describeBuiltInComponentFrame("Suspense Fallback"):describeBuiltInComponentFrame("Suspense");case 19:return describeBuiltInComponentFrame("SuspenseList");case 0:case 15:return describeNativeComponentFrame(fiber.type,false);case 11:return describeNativeComponentFrame(fiber.type.render,false);case 1:return describeNativeComponentFrame(fiber.type,true);case 31:return describeBuiltInComponentFrame("Activity");default:return""}}function getStackByFiberInDevAndProd(workInProgress2){try{var info="",previous=null;do info+=describeFiber(workInProgress2,previous),previous=workInProgress2,workInProgress2=workInProgress2.return;while(workInProgress2);return info}catch(x){return"\nError generating stack: "+x.message+"\n"+x.stack}}var hasOwnProperty=Object.prototype.hasOwnProperty;var scheduleCallback$3=Scheduler.unstable_scheduleCallback;var cancelCallback$1=Scheduler.unstable_cancelCallback;var shouldYield=Scheduler.unstable_shouldYield;var requestPaint=Scheduler.unstable_requestPaint;var now=Scheduler.unstable_now;var getCurrentPriorityLevel=Scheduler.unstable_getCurrentPriorityLevel;var ImmediatePriority=Scheduler.unstable_ImmediatePriority;var UserBlockingPriority=Scheduler.unstable_UserBlockingPriority;var NormalPriority$1=Scheduler.unstable_NormalPriority;var LowPriority=Scheduler.unstable_LowPriority;var IdlePriority=Scheduler.unstable_IdlePriority;var log$1=Scheduler.log;var unstable_setDisableYieldValue=Scheduler.unstable_setDisableYieldValue;var rendererID=null;var injectedHook=null;function setIsStrictModeForDevtools(newIsStrictMode){"function"===typeof log$1&&unstable_setDisableYieldValue(newIsStrictMode);if(injectedHook&&"function"===typeof injectedHook.setStrictMode)try{injectedHook.setStrictMode(rendererID,newIsStrictMode)}catch(err){}}var clz32=Math.clz32?Math.clz32:clz32Fallback;var log=Math.log;var LN2=Math.LN2;function clz32Fallback(x){x>>>=0;return 0===x?32:31-(log(x)/LN2|0)|0}var nextTransitionUpdateLane=256;var nextTransitionDeferredLane=262144;var nextRetryLane=4194304;function getHighestPriorityLanes(lanes){var pendingSyncLanes=lanes&42;if(0!==pendingSyncLanes)return pendingSyncLanes;switch(lanes&-lanes){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return lanes&261888;case 262144:case 524288:case 1048576:case 2097152:return lanes&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return lanes&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return lanes}}function getNextLanes(root3,wipLanes,rootHasPendingCommit){var pendingLanes=root3.pendingLanes;if(0===pendingLanes)return 0;var nextLanes=0,suspendedLanes=root3.suspendedLanes,pingedLanes=root3.pingedLanes;root3=root3.warmLanes;var nonIdlePendingLanes=pendingLanes&134217727;0!==nonIdlePendingLanes?(pendingLanes=nonIdlePendingLanes&~suspendedLanes,0!==pendingLanes?nextLanes=getHighestPriorityLanes(pendingLanes):(pingedLanes&=nonIdlePendingLanes,0!==pingedLanes?nextLanes=getHighestPriorityLanes(pingedLanes):rootHasPendingCommit||(rootHasPendingCommit=nonIdlePendingLanes&~root3,0!==rootHasPendingCommit&&(nextLanes=getHighestPriorityLanes(rootHasPendingCommit))))):(nonIdlePendingLanes=pendingLanes&~suspendedLanes,0!==nonIdlePendingLanes?nextLanes=getHighestPriorityLanes(nonIdlePendingLanes):0!==pingedLanes?nextLanes=getHighestPriorityLanes(pingedLanes):rootHasPendingCommit||(rootHasPendingCommit=pendingLanes&~root3,0!==rootHasPendingCommit&&(nextLanes=getHighestPriorityLanes(rootHasPendingCommit))));return 0===nextLanes?0:0!==wipLanes&&wipLanes!==nextLanes&&0===(wipLanes&suspendedLanes)&&(suspendedLanes=nextLanes&-nextLanes,rootHasPendingCommit=wipLanes&-wipLanes,suspendedLanes>=rootHasPendingCommit||32===suspendedLanes&&0!==(rootHasPendingCommit&4194048))?wipLanes:nextLanes}function checkIfRootIsPrerendering(root3,renderLanes2){return 0===(root3.pendingLanes&~(root3.suspendedLanes&~root3.pingedLanes)&renderLanes2)}function computeExpirationTime(lane,currentTime){switch(lane){case 1:case 2:case 4:case 8:case 64:return currentTime+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return currentTime+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function claimNextRetryLane(){var lane=nextRetryLane;nextRetryLane<<=1;0===(nextRetryLane&62914560)&&(nextRetryLane=4194304);return lane}function createLaneMap(initial){for(var laneMap=[],i=0;31>i;i++)laneMap.push(initial);return laneMap}function markRootUpdated$1(root3,updateLane){root3.pendingLanes|=updateLane;268435456!==updateLane&&(root3.suspendedLanes=0,root3.pingedLanes=0,root3.warmLanes=0)}function markRootFinished(root3,finishedLanes,remainingLanes,spawnedLane,updatedLanes,suspendedRetryLanes){var previouslyPendingLanes=root3.pendingLanes;root3.pendingLanes=remainingLanes;root3.suspendedLanes=0;root3.pingedLanes=0;root3.warmLanes=0;root3.expiredLanes&=remainingLanes;root3.entangledLanes&=remainingLanes;root3.errorRecoveryDisabledLanes&=remainingLanes;root3.shellSuspendCounter=0;var entanglements=root3.entanglements,expirationTimes=root3.expirationTimes,hiddenUpdates=root3.hiddenUpdates;for(remainingLanes=previouslyPendingLanes&~remainingLanes;0<remainingLanes;){var index$7=31-clz32(remainingLanes),lane=1<<index$7;entanglements[index$7]=0;expirationTimes[index$7]=-1;var hiddenUpdatesForLane=hiddenUpdates[index$7];if(null!==hiddenUpdatesForLane)for(hiddenUpdates[index$7]=null,index$7=0;index$7<hiddenUpdatesForLane.length;index$7++){var update=hiddenUpdatesForLane[index$7];null!==update&&(update.lane&=-536870913)}remainingLanes&=~lane}0!==spawnedLane&&markSpawnedDeferredLane(root3,spawnedLane,0);0!==suspendedRetryLanes&&0===updatedLanes&&0!==root3.tag&&(root3.suspendedLanes|=suspendedRetryLanes&~(previouslyPendingLanes&~finishedLanes))}function markSpawnedDeferredLane(root3,spawnedLane,entangledLanes){root3.pendingLanes|=spawnedLane;root3.suspendedLanes&=~spawnedLane;var spawnedLaneIndex=31-clz32(spawnedLane);root3.entangledLanes|=spawnedLane;root3.entanglements[spawnedLaneIndex]=root3.entanglements[spawnedLaneIndex]|1073741824|entangledLanes&261930}function markRootEntangled(root3,entangledLanes){var rootEntangledLanes=root3.entangledLanes|=entangledLanes;for(root3=root3.entanglements;rootEntangledLanes;){var index$8=31-clz32(rootEntangledLanes),lane=1<<index$8;lane&entangledLanes|root3[index$8]&entangledLanes&&(root3[index$8]|=entangledLanes);rootEntangledLanes&=~lane}}function getBumpedLaneForHydration(root3,renderLanes2){var renderLane=renderLanes2&-renderLanes2;renderLane=0!==(renderLane&42)?1:getBumpedLaneForHydrationByLane(renderLane);return 0!==(renderLane&(root3.suspendedLanes|renderLanes2))?0:renderLane}function getBumpedLaneForHydrationByLane(lane){switch(lane){case 2:lane=1;break;case 8:lane=4;break;case 32:lane=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:lane=128;break;case 268435456:lane=134217728;break;default:lane=0}return lane}function lanesToEventPriority(lanes){lanes&=-lanes;return 2<lanes?8<lanes?0!==(lanes&134217727)?32:268435456:8:2}function resolveUpdatePriority(){var updatePriority=ReactDOMSharedInternals.p;if(0!==updatePriority)return updatePriority;updatePriority=window.event;return void 0===updatePriority?32:getEventPriority(updatePriority.type)}function runWithPriority(priority,fn){var previousPriority=ReactDOMSharedInternals.p;try{return ReactDOMSharedInternals.p=priority,fn()}finally{ReactDOMSharedInternals.p=previousPriority}}var randomKey=Math.random().toString(36).slice(2);var internalInstanceKey="__reactFiber$"+randomKey;var internalPropsKey="__reactProps$"+randomKey;var internalContainerInstanceKey="__reactContainer$"+randomKey;var internalEventHandlersKey="__reactEvents$"+randomKey;var internalEventHandlerListenersKey="__reactListeners$"+randomKey;var internalEventHandlesSetKey="__reactHandles$"+randomKey;var internalRootNodeResourcesKey="__reactResources$"+randomKey;var internalHoistableMarker="__reactMarker$"+randomKey;function detachDeletedInstance(node){delete node[internalInstanceKey];delete node[internalPropsKey];delete node[internalEventHandlersKey];delete node[internalEventHandlerListenersKey];delete node[internalEventHandlesSetKey]}function getClosestInstanceFromNode(targetNode){var targetInst=targetNode[internalInstanceKey];if(targetInst)return targetInst;for(var parentNode=targetNode.parentNode;parentNode;){if(targetInst=parentNode[internalContainerInstanceKey]||parentNode[internalInstanceKey]){parentNode=targetInst.alternate;if(null!==targetInst.child||null!==parentNode&&null!==parentNode.child)for(targetNode=getParentHydrationBoundary(targetNode);null!==targetNode;){if(parentNode=targetNode[internalInstanceKey])return parentNode;targetNode=getParentHydrationBoundary(targetNode)}return targetInst}targetNode=parentNode;parentNode=targetNode.parentNode}return null}function getInstanceFromNode(node){if(node=node[internalInstanceKey]||node[internalContainerInstanceKey]){var tag=node.tag;if(5===tag||6===tag||13===tag||31===tag||26===tag||27===tag||3===tag)return node}return null}function getNodeFromInstance(inst){var tag=inst.tag;if(5===tag||26===tag||27===tag||6===tag)return inst.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(root3){var resources=root3[internalRootNodeResourcesKey];resources||(resources=root3[internalRootNodeResourcesKey]={hoistableStyles:new Map,hoistableScripts:new Map});return resources}function markNodeAsHoistable(node){node[internalHoistableMarker]=true}var allNativeEvents=new Set;var registrationNameDependencies={};function registerTwoPhaseEvent(registrationName,dependencies){registerDirectEvent(registrationName,dependencies);registerDirectEvent(registrationName+"Capture",dependencies)}function registerDirectEvent(registrationName,dependencies){registrationNameDependencies[registrationName]=dependencies;for(registrationName=0;registrationName<dependencies.length;registrationName++)allNativeEvents.add(dependencies[registrationName])}var VALID_ATTRIBUTE_NAME_REGEX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");var illegalAttributeNameCache={};var validatedAttributeNameCache={};function isAttributeNameSafe(attributeName){if(hasOwnProperty.call(validatedAttributeNameCache,attributeName))return true;if(hasOwnProperty.call(illegalAttributeNameCache,attributeName))return false;if(VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))return validatedAttributeNameCache[attributeName]=true;illegalAttributeNameCache[attributeName]=true;return false}function setValueForAttribute(node,name,value){if(isAttributeNameSafe(name))if(null===value)node.removeAttribute(name);else{switch(typeof value){case"undefined":case"function":case"symbol":node.removeAttribute(name);return;case"boolean":var prefix$10=name.toLowerCase().slice(0,5);if("data-"!==prefix$10&&"aria-"!==prefix$10){node.removeAttribute(name);return}}node.setAttribute(name,""+value)}}function setValueForKnownAttribute(node,name,value){if(null===value)node.removeAttribute(name);else{switch(typeof value){case"undefined":case"function":case"symbol":case"boolean":node.removeAttribute(name);return}node.setAttribute(name,""+value)}}function setValueForNamespacedAttribute(node,namespace,name,value){if(null===value)node.removeAttribute(name);else{switch(typeof value){case"undefined":case"function":case"symbol":case"boolean":node.removeAttribute(name);return}node.setAttributeNS(namespace,name,""+value)}}function getToStringValue(value){switch(typeof value){case"bigint":case"boolean":case"number":case"string":case"undefined":return value;case"object":return value;default:return""}}function isCheckable(elem){var type=elem.type;return(elem=elem.nodeName)&&"input"===elem.toLowerCase()&&("checkbox"===type||"radio"===type)}function trackValueOnNode(node,valueField,currentValue){var descriptor=Object.getOwnPropertyDescriptor(node.constructor.prototype,valueField);if(!node.hasOwnProperty(valueField)&&"undefined"!==typeof descriptor&&"function"===typeof descriptor.get&&"function"===typeof descriptor.set){var get=descriptor.get,set=descriptor.set;Object.defineProperty(node,valueField,{configurable:true,get:function(){return get.call(this)},set:function(value){currentValue=""+value;set.call(this,value)}});Object.defineProperty(node,valueField,{enumerable:descriptor.enumerable});return{getValue:function(){return currentValue},setValue:function(value){currentValue=""+value},stopTracking:function(){node._valueTracker=null;delete node[valueField]}}}}function track(node){if(!node._valueTracker){var valueField=isCheckable(node)?"checked":"value";node._valueTracker=trackValueOnNode(node,valueField,""+node[valueField])}}function updateValueIfChanged(node){if(!node)return false;var tracker=node._valueTracker;if(!tracker)return true;var lastValue=tracker.getValue();var value="";node&&(value=isCheckable(node)?node.checked?"true":"false":node.value);node=value;return node!==lastValue?(tracker.setValue(node),true):false}function getActiveElement(doc){doc=doc||("undefined"!==typeof document?document:void 0);if("undefined"===typeof doc)return null;try{return doc.activeElement||doc.body}catch(e){return doc.body}}var escapeSelectorAttributeValueInsideDoubleQuotesRegex=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(value){return value.replace(escapeSelectorAttributeValueInsideDoubleQuotesRegex,function(ch){return"\\"+ch.charCodeAt(0).toString(16)+" "})}function updateInput(element,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name){element.name="";null!=type&&"function"!==typeof type&&"symbol"!==typeof type&&"boolean"!==typeof type?element.type=type:element.removeAttribute("type");if(null!=value)if("number"===type){if(0===value&&""===element.value||element.value!=value)element.value=""+getToStringValue(value)}else element.value!==""+getToStringValue(value)&&(element.value=""+getToStringValue(value));else"submit"!==type&&"reset"!==type||element.removeAttribute("value");null!=value?setDefaultValue(element,type,getToStringValue(value)):null!=defaultValue?setDefaultValue(element,type,getToStringValue(defaultValue)):null!=lastDefaultValue&&element.removeAttribute("value");null==checked&&null!=defaultChecked&&(element.defaultChecked=!!defaultChecked);null!=checked&&(element.checked=checked&&"function"!==typeof checked&&"symbol"!==typeof checked);null!=name&&"function"!==typeof name&&"symbol"!==typeof name&&"boolean"!==typeof name?element.name=""+getToStringValue(name):element.removeAttribute("name")}function initInput(element,value,defaultValue,checked,defaultChecked,type,name,isHydrating2){null!=type&&"function"!==typeof type&&"symbol"!==typeof type&&"boolean"!==typeof type&&(element.type=type);if(null!=value||null!=defaultValue){if(!("submit"!==type&&"reset"!==type||void 0!==value&&null!==value)){track(element);return}defaultValue=null!=defaultValue?""+getToStringValue(defaultValue):"";value=null!=value?""+getToStringValue(value):defaultValue;isHydrating2||value===element.value||(element.value=value);element.defaultValue=value}checked=null!=checked?checked:defaultChecked;checked="function"!==typeof checked&&"symbol"!==typeof checked&&!!checked;element.checked=isHydrating2?element.checked:!!checked;element.defaultChecked=!!checked;null!=name&&"function"!==typeof name&&"symbol"!==typeof name&&"boolean"!==typeof name&&(element.name=name);track(element)}function setDefaultValue(node,type,value){"number"===type&&getActiveElement(node.ownerDocument)===node||node.defaultValue===""+value||(node.defaultValue=""+value)}function updateOptions(node,multiple,propValue,setDefaultSelected){node=node.options;if(multiple){multiple={};for(var i=0;i<propValue.length;i++)multiple["$"+propValue[i]]=true;for(propValue=0;propValue<node.length;propValue++)i=multiple.hasOwnProperty("$"+node[propValue].value),node[propValue].selected!==i&&(node[propValue].selected=i),i&&setDefaultSelected&&(node[propValue].defaultSelected=true)}else{propValue=""+getToStringValue(propValue);multiple=null;for(i=0;i<node.length;i++){if(node[i].value===propValue){node[i].selected=true;setDefaultSelected&&(node[i].defaultSelected=true);return}null!==multiple||node[i].disabled||(multiple=node[i])}null!==multiple&&(multiple.selected=true)}}function updateTextarea(element,value,defaultValue){if(null!=value&&(value=""+getToStringValue(value),value!==element.value&&(element.value=value),null==defaultValue)){element.defaultValue!==value&&(element.defaultValue=value);return}element.defaultValue=null!=defaultValue?""+getToStringValue(defaultValue):""}function initTextarea(element,value,defaultValue,children){if(null==value){if(null!=children){if(null!=defaultValue)throw Error(formatProdErrorMessage(92));if(isArrayImpl(children)){if(1<children.length)throw Error(formatProdErrorMessage(93));children=children[0]}defaultValue=children}null==defaultValue&&(defaultValue="");value=defaultValue}defaultValue=getToStringValue(value);element.defaultValue=defaultValue;children=element.textContent;children===defaultValue&&""!==children&&null!==children&&(element.value=children);track(element)}function setTextContent(node,text){if(text){var firstChild=node.firstChild;if(firstChild&&firstChild===node.lastChild&&3===firstChild.nodeType){firstChild.nodeValue=text;return}}node.textContent=text}var unitlessNumbers=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function setValueForStyle(style2,styleName,value){var isCustomProperty=0===styleName.indexOf("--");null==value||"boolean"===typeof value||""===value?isCustomProperty?style2.setProperty(styleName,""):"float"===styleName?style2.cssFloat="":style2[styleName]="":isCustomProperty?style2.setProperty(styleName,value):"number"!==typeof value||0===value||unitlessNumbers.has(styleName)?"float"===styleName?style2.cssFloat=value:style2[styleName]=(""+value).trim():style2[styleName]=value+"px"}function setValueForStyles(node,styles,prevStyles){if(null!=styles&&"object"!==typeof styles)throw Error(formatProdErrorMessage(62));node=node.style;if(null!=prevStyles){for(var styleName in prevStyles)!prevStyles.hasOwnProperty(styleName)||null!=styles&&styles.hasOwnProperty(styleName)||(0===styleName.indexOf("--")?node.setProperty(styleName,""):"float"===styleName?node.cssFloat="":node[styleName]="");for(var styleName$16 in styles)styleName=styles[styleName$16],styles.hasOwnProperty(styleName$16)&&prevStyles[styleName$16]!==styleName&&setValueForStyle(node,styleName$16,styleName)}else for(var styleName$17 in styles)styles.hasOwnProperty(styleName$17)&&setValueForStyle(node,styleName$17,styles[styleName$17])}function isCustomElement(tagName){if(-1===tagName.indexOf("-"))return false;switch(tagName){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return false;default:return true}}var aliases=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]);var isJavaScriptProtocol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(url){return isJavaScriptProtocol.test(""+url)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":url}function noop$1(){}var currentReplayingEvent=null;function getEventTarget(nativeEvent){nativeEvent=nativeEvent.target||nativeEvent.srcElement||window;nativeEvent.correspondingUseElement&&(nativeEvent=nativeEvent.correspondingUseElement);return 3===nativeEvent.nodeType?nativeEvent.parentNode:nativeEvent}var restoreTarget=null;var restoreQueue=null;function restoreStateOfTarget(target){var internalInstance=getInstanceFromNode(target);if(internalInstance&&(target=internalInstance.stateNode)){var props=target[internalPropsKey]||null;a:switch(target=internalInstance.stateNode,internalInstance.type){case"input":updateInput(target,props.value,props.defaultValue,props.defaultValue,props.checked,props.defaultChecked,props.type,props.name);internalInstance=props.name;if("radio"===props.type&&null!=internalInstance){for(props=target;props.parentNode;)props=props.parentNode;props=props.querySelectorAll('input[name="'+escapeSelectorAttributeValueInsideDoubleQuotes(""+internalInstance)+'"][type="radio"]');for(internalInstance=0;internalInstance<props.length;internalInstance++){var otherNode=props[internalInstance];if(otherNode!==target&&otherNode.form===target.form){var otherProps=otherNode[internalPropsKey]||null;if(!otherProps)throw Error(formatProdErrorMessage(90));updateInput(otherNode,otherProps.value,otherProps.defaultValue,otherProps.defaultValue,otherProps.checked,otherProps.defaultChecked,otherProps.type,otherProps.name)}}for(internalInstance=0;internalInstance<props.length;internalInstance++)otherNode=props[internalInstance],otherNode.form===target.form&&updateValueIfChanged(otherNode)}break a;case"textarea":updateTextarea(target,props.value,props.defaultValue);break a;case"select":internalInstance=props.value,null!=internalInstance&&updateOptions(target,!!props.multiple,internalInstance,false)}}}var isInsideEventHandler=false;function batchedUpdates$1(fn,a,b){if(isInsideEventHandler)return fn(a,b);isInsideEventHandler=true;try{var JSCompiler_inline_result=fn(a);return JSCompiler_inline_result}finally{if(isInsideEventHandler=false,null!==restoreTarget||null!==restoreQueue){if(flushSyncWork$1(),restoreTarget&&(a=restoreTarget,fn=restoreQueue,restoreQueue=restoreTarget=null,restoreStateOfTarget(a),fn))for(a=0;a<fn.length;a++)restoreStateOfTarget(fn[a])}}}function getListener(inst,registrationName){var stateNode=inst.stateNode;if(null===stateNode)return null;var props=stateNode[internalPropsKey]||null;if(null===props)return null;stateNode=props[registrationName];a:switch(registrationName){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(props=!props.disabled)||(inst=inst.type,props=!("button"===inst||"input"===inst||"select"===inst||"textarea"===inst));inst=!props;break a;default:inst=false}if(inst)return null;if(stateNode&&"function"!==typeof stateNode)throw Error(formatProdErrorMessage(231,registrationName,typeof stateNode));return stateNode}var canUseDOM=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement);var passiveBrowserEventsSupported=false;if(canUseDOM)try{options={};Object.defineProperty(options,"passive",{get:function(){passiveBrowserEventsSupported=true}});window.addEventListener("test",options,options);window.removeEventListener("test",options,options)}catch(e){passiveBrowserEventsSupported=false}var options;var root2=null;var startText=null;var fallbackText=null;function getData(){if(fallbackText)return fallbackText;var start,startValue=startText,startLength=startValue.length,end,endValue="value"in root2?root2.value:root2.textContent,endLength=endValue.length;for(start=0;start<startLength&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;end<=minEnd&&startValue[startLength-end]===endValue[endLength-end];end++);return fallbackText=endValue.slice(start,1<end?1-end:void 0)}function getEventCharCode(nativeEvent){var keyCode=nativeEvent.keyCode;"charCode"in nativeEvent?(nativeEvent=nativeEvent.charCode,0===nativeEvent&&13===keyCode&&(nativeEvent=13)):nativeEvent=keyCode;10===nativeEvent&&(nativeEvent=13);return 32<=nativeEvent||13===nativeEvent?nativeEvent:0}function functionThatReturnsTrue(){return true}function functionThatReturnsFalse(){return false}function createSyntheticEvent(Interface){function SyntheticBaseEvent(reactName,reactEventType,targetInst,nativeEvent,nativeEventTarget){this._reactName=reactName;this._targetInst=targetInst;this.type=reactEventType;this.nativeEvent=nativeEvent;this.target=nativeEventTarget;this.currentTarget=null;for(var propName in Interface)Interface.hasOwnProperty(propName)&&(reactName=Interface[propName],this[propName]=reactName?reactName(nativeEvent):nativeEvent[propName]);this.isDefaultPrevented=(null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:false===nativeEvent.returnValue)?functionThatReturnsTrue:functionThatReturnsFalse;this.isPropagationStopped=functionThatReturnsFalse;return this}assign(SyntheticBaseEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;event&&(event.preventDefault?event.preventDefault():"unknown"!==typeof event.returnValue&&(event.returnValue=false),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;event&&(event.stopPropagation?event.stopPropagation():"unknown"!==typeof event.cancelBubble&&(event.cancelBubble=true),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue});return SyntheticBaseEvent}var EventInterface={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};var SyntheticEvent=createSyntheticEvent(EventInterface);var UIEventInterface=assign({},EventInterface,{view:0,detail:0});var SyntheticUIEvent=createSyntheticEvent(UIEventInterface);var lastMovementX;var lastMovementY;var lastMouseEvent;var MouseEventInterface=assign({},UIEventInterface,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(event){return void 0===event.relatedTarget?event.fromElement===event.srcElement?event.toElement:event.fromElement:event.relatedTarget},movementX:function(event){if("movementX"in event)return event.movementX;event!==lastMouseEvent&&(lastMouseEvent&&"mousemove"===event.type?(lastMovementX=event.screenX-lastMouseEvent.screenX,lastMovementY=event.screenY-lastMouseEvent.screenY):lastMovementY=lastMovementX=0,lastMouseEvent=event);return lastMovementX},movementY:function(event){return"movementY"in event?event.movementY:lastMovementY}});var SyntheticMouseEvent=createSyntheticEvent(MouseEventInterface);var DragEventInterface=assign({},MouseEventInterface,{dataTransfer:0});var SyntheticDragEvent=createSyntheticEvent(DragEventInterface);var FocusEventInterface=assign({},UIEventInterface,{relatedTarget:0});var SyntheticFocusEvent=createSyntheticEvent(FocusEventInterface);var AnimationEventInterface=assign({},EventInterface,{animationName:0,elapsedTime:0,pseudoElement:0});var SyntheticAnimationEvent=createSyntheticEvent(AnimationEventInterface);var ClipboardEventInterface=assign({},EventInterface,{clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}});var SyntheticClipboardEvent=createSyntheticEvent(ClipboardEventInterface);var CompositionEventInterface=assign({},EventInterface,{data:0});var SyntheticCompositionEvent=createSyntheticEvent(CompositionEventInterface);var normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(keyArg){var nativeEvent=this.nativeEvent;return nativeEvent.getModifierState?nativeEvent.getModifierState(keyArg):(keyArg=modifierKeyToProp[keyArg])?!!nativeEvent[keyArg]:false}function getEventModifierState(){return modifierStateGetter}var KeyboardEventInterface=assign({},UIEventInterface,{key:function(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if("Unidentified"!==key)return key}return"keypress"===nativeEvent.type?(nativeEvent=getEventCharCode(nativeEvent),13===nativeEvent?"Enter":String.fromCharCode(nativeEvent)):"keydown"===nativeEvent.type||"keyup"===nativeEvent.type?translateToKey[nativeEvent.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(event){return"keypress"===event.type?getEventCharCode(event):0},keyCode:function(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function(event){return"keypress"===event.type?getEventCharCode(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}});var SyntheticKeyboardEvent=createSyntheticEvent(KeyboardEventInterface);var PointerEventInterface=assign({},MouseEventInterface,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0});var SyntheticPointerEvent=createSyntheticEvent(PointerEventInterface);var TouchEventInterface=assign({},UIEventInterface,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState});var SyntheticTouchEvent=createSyntheticEvent(TouchEventInterface);var TransitionEventInterface=assign({},EventInterface,{propertyName:0,elapsedTime:0,pseudoElement:0});var SyntheticTransitionEvent=createSyntheticEvent(TransitionEventInterface);var WheelEventInterface=assign({},MouseEventInterface,{deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:0,deltaMode:0});var SyntheticWheelEvent=createSyntheticEvent(WheelEventInterface);var ToggleEventInterface=assign({},EventInterface,{newState:0,oldState:0});var SyntheticToggleEvent=createSyntheticEvent(ToggleEventInterface);var END_KEYCODES=[9,13,27,32];var canUseCompositionEvent=canUseDOM&&"CompositionEvent"in window;var documentMode=null;canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=canUseDOM&&"TextEvent"in window&&!documentMode;var useFallbackCompositionData=canUseDOM&&(!canUseCompositionEvent||documentMode&&8<documentMode&&11>=documentMode);var SPACEBAR_CHAR=String.fromCharCode(32);var hasSpaceKeypress=false;function isFallbackCompositionEnd(domEventName,nativeEvent){switch(domEventName){case"keyup":return-1!==END_KEYCODES.indexOf(nativeEvent.keyCode);case"keydown":return 229!==nativeEvent.keyCode;case"keypress":case"mousedown":case"focusout":return true;default:return false}}function getDataFromCustomEvent(nativeEvent){nativeEvent=nativeEvent.detail;return"object"===typeof nativeEvent&&"data"in nativeEvent?nativeEvent.data:null}var isComposing=false;function getNativeBeforeInputChars(domEventName,nativeEvent){switch(domEventName){case"compositionend":return getDataFromCustomEvent(nativeEvent);case"keypress":if(32!==nativeEvent.which)return null;hasSpaceKeypress=true;return SPACEBAR_CHAR;case"textInput":return domEventName=nativeEvent.data,domEventName===SPACEBAR_CHAR&&hasSpaceKeypress?null:domEventName;default:return null}}function getFallbackBeforeInputChars(domEventName,nativeEvent){if(isComposing)return"compositionend"===domEventName||!canUseCompositionEvent&&isFallbackCompositionEnd(domEventName,nativeEvent)?(domEventName=getData(),fallbackText=startText=root2=null,isComposing=false,domEventName):null;switch(domEventName){case"paste":return null;case"keypress":if(!(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)||nativeEvent.ctrlKey&&nativeEvent.altKey){if(nativeEvent.char&&1<nativeEvent.char.length)return nativeEvent.char;if(nativeEvent.which)return String.fromCharCode(nativeEvent.which)}return null;case"compositionend":return useFallbackCompositionData&&"ko"!==nativeEvent.locale?null:nativeEvent.data;default:return null}}var supportedInputTypes={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return"input"===nodeName?!!supportedInputTypes[elem.type]:"textarea"===nodeName?true:false}function createAndAccumulateChangeEvent(dispatchQueue,inst,nativeEvent,target){restoreTarget?restoreQueue?restoreQueue.push(target):restoreQueue=[target]:restoreTarget=target;inst=accumulateTwoPhaseListeners(inst,"onChange");0<inst.length&&(nativeEvent=new SyntheticEvent("onChange","change",null,nativeEvent,target),dispatchQueue.push({event:nativeEvent,listeners:inst}))}var activeElement$1=null;var activeElementInst$1=null;function runEventInBatch(dispatchQueue){processDispatchQueue(dispatchQueue,0)}function getInstIfValueChanged(targetInst){var targetNode=getNodeFromInstance(targetInst);if(updateValueIfChanged(targetNode))return targetInst}function getTargetInstForChangeEvent(domEventName,targetInst){if("change"===domEventName)return targetInst}var isInputEventSupported=false;if(canUseDOM){if(canUseDOM){isSupported$jscomp$inline_427="oninput"in document;if(!isSupported$jscomp$inline_427){element$jscomp$inline_428=document.createElement("div");element$jscomp$inline_428.setAttribute("oninput","return;");isSupported$jscomp$inline_427="function"===typeof element$jscomp$inline_428.oninput}JSCompiler_inline_result$jscomp$286=isSupported$jscomp$inline_427}else JSCompiler_inline_result$jscomp$286=false;isInputEventSupported=JSCompiler_inline_result$jscomp$286&&(!document.documentMode||9<document.documentMode)}var JSCompiler_inline_result$jscomp$286;var isSupported$jscomp$inline_427;var element$jscomp$inline_428;function stopWatchingForValueChange(){activeElement$1&&(activeElement$1.detachEvent("onpropertychange",handlePropertyChange),activeElementInst$1=activeElement$1=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName&&getInstIfValueChanged(activeElementInst$1)){var dispatchQueue=[];createAndAccumulateChangeEvent(dispatchQueue,activeElementInst$1,nativeEvent,getEventTarget(nativeEvent));batchedUpdates$1(runEventInBatch,dispatchQueue)}}function handleEventsForInputEventPolyfill(domEventName,target,targetInst){"focusin"===domEventName?(stopWatchingForValueChange(),activeElement$1=target,activeElementInst$1=targetInst,activeElement$1.attachEvent("onpropertychange",handlePropertyChange)):"focusout"===domEventName&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(domEventName){if("selectionchange"===domEventName||"keyup"===domEventName||"keydown"===domEventName)return getInstIfValueChanged(activeElementInst$1)}function getTargetInstForClickEvent(domEventName,targetInst){if("click"===domEventName)return getInstIfValueChanged(targetInst)}function getTargetInstForInputOrChangeEvent(domEventName,targetInst){if("input"===domEventName||"change"===domEventName)return getInstIfValueChanged(targetInst)}function is(x,y){return x===y&&(0!==x||1/x===1/y)||x!==x&&y!==y}var objectIs="function"===typeof Object.is?Object.is:is;function shallowEqual(objA,objB){if(objectIs(objA,objB))return true;if("object"!==typeof objA||null===objA||"object"!==typeof objB||null===objB)return false;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return false;for(keysB=0;keysB<keysA.length;keysB++){var currentKey=keysA[keysB];if(!hasOwnProperty.call(objB,currentKey)||!objectIs(objA[currentKey],objB[currentKey]))return false}return true}function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getNodeForCharacterOffset(root3,offset){var node=getLeafNode(root3);root3=0;for(var nodeEnd;node;){if(3===node.nodeType){nodeEnd=root3+node.textContent.length;if(root3<=offset&&nodeEnd>=offset)return{node,offset:offset-root3};root3=nodeEnd}a:{for(;node;){if(node.nextSibling){node=node.nextSibling;break a}node=node.parentNode}node=void 0}node=getLeafNode(node)}}function containsNode(outerNode,innerNode){return outerNode&&innerNode?outerNode===innerNode?true:outerNode&&3===outerNode.nodeType?false:innerNode&&3===innerNode.nodeType?containsNode(outerNode,innerNode.parentNode):"contains"in outerNode?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(outerNode.compareDocumentPosition(innerNode)&16):false:false}function getActiveElementDeep(containerInfo){containerInfo=null!=containerInfo&&null!=containerInfo.ownerDocument&&null!=containerInfo.ownerDocument.defaultView?containerInfo.ownerDocument.defaultView:window;for(var element=getActiveElement(containerInfo.document);element instanceof containerInfo.HTMLIFrameElement;){try{var JSCompiler_inline_result="string"===typeof element.contentWindow.location.href}catch(err){JSCompiler_inline_result=false}if(JSCompiler_inline_result)containerInfo=element.contentWindow;else break;element=getActiveElement(containerInfo.document)}return element}function hasSelectionCapabilities(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&("text"===elem.type||"search"===elem.type||"tel"===elem.type||"url"===elem.type||"password"===elem.type)||"textarea"===nodeName||"true"===elem.contentEditable)}var skipSelectionChangeEvent=canUseDOM&&"documentMode"in document&&11>=document.documentMode;var activeElement=null;var activeElementInst=null;var lastSelection=null;var mouseDown=false;function constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget){var doc=nativeEventTarget.window===nativeEventTarget?nativeEventTarget.document:9===nativeEventTarget.nodeType?nativeEventTarget:nativeEventTarget.ownerDocument;mouseDown||null==activeElement||activeElement!==getActiveElement(doc)||(doc=activeElement,"selectionStart"in doc&&hasSelectionCapabilities(doc)?doc={start:doc.selectionStart,end:doc.selectionEnd}:(doc=(doc.ownerDocument&&doc.ownerDocument.defaultView||window).getSelection(),doc={anchorNode:doc.anchorNode,anchorOffset:doc.anchorOffset,focusNode:doc.focusNode,focusOffset:doc.focusOffset}),lastSelection&&shallowEqual(lastSelection,doc)||(lastSelection=doc,doc=accumulateTwoPhaseListeners(activeElementInst,"onSelect"),0<doc.length&&(nativeEvent=new SyntheticEvent("onSelect","select",null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:nativeEvent,listeners:doc}),nativeEvent.target=activeElement)))}function makePrefixMap(styleProp,eventName){var prefixes={};prefixes[styleProp.toLowerCase()]=eventName.toLowerCase();prefixes["Webkit"+styleProp]="webkit"+eventName;prefixes["Moz"+styleProp]="moz"+eventName;return prefixes}var vendorPrefixes={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionrun:makePrefixMap("Transition","TransitionRun"),transitionstart:makePrefixMap("Transition","TransitionStart"),transitioncancel:makePrefixMap("Transition","TransitionCancel"),transitionend:makePrefixMap("Transition","TransitionEnd")};var prefixedEventNames={};var style={};canUseDOM&&(style=document.createElement("div").style,"AnimationEvent"in window||(delete vendorPrefixes.animationend.animation,delete vendorPrefixes.animationiteration.animation,delete vendorPrefixes.animationstart.animation),"TransitionEvent"in window||delete vendorPrefixes.transitionend.transition);function getVendorPrefixedEventName(eventName){if(prefixedEventNames[eventName])return prefixedEventNames[eventName];if(!vendorPrefixes[eventName])return eventName;var prefixMap=vendorPrefixes[eventName],styleProp;for(styleProp in prefixMap)if(prefixMap.hasOwnProperty(styleProp)&&styleProp in style)return prefixedEventNames[eventName]=prefixMap[styleProp];return eventName}var ANIMATION_END=getVendorPrefixedEventName("animationend");var ANIMATION_ITERATION=getVendorPrefixedEventName("animationiteration");var ANIMATION_START=getVendorPrefixedEventName("animationstart");var TRANSITION_RUN=getVendorPrefixedEventName("transitionrun");var TRANSITION_START=getVendorPrefixedEventName("transitionstart");var TRANSITION_CANCEL=getVendorPrefixedEventName("transitioncancel");var TRANSITION_END=getVendorPrefixedEventName("transitionend");var topLevelEventsToReactNames=new Map;var simpleEventPluginEvents="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");simpleEventPluginEvents.push("scrollEnd");function registerSimpleEvent(domEventName,reactName){topLevelEventsToReactNames.set(domEventName,reactName);registerTwoPhaseEvent(reactName,[domEventName])}var reportGlobalError="function"===typeof reportError?reportError:function(error){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var event=new window.ErrorEvent("error",{bubbles:true,cancelable:true,message:"object"===typeof error&&null!==error&&"string"===typeof error.message?String(error.message):String(error),error});if(!window.dispatchEvent(event))return}else if("object"===typeof process&&"function"===typeof process.emit){process.emit("uncaughtException",error);return}console.error(error)};var concurrentQueues=[];var concurrentQueuesIndex=0;var concurrentlyUpdatedLanes=0;function finishQueueingConcurrentUpdates(){for(var endIndex=concurrentQueuesIndex,i=concurrentlyUpdatedLanes=concurrentQueuesIndex=0;i<endIndex;){var fiber=concurrentQueues[i];concurrentQueues[i++]=null;var queue=concurrentQueues[i];concurrentQueues[i++]=null;var update=concurrentQueues[i];concurrentQueues[i++]=null;var lane=concurrentQueues[i];concurrentQueues[i++]=null;if(null!==queue&&null!==update){var pending=queue.pending;null===pending?update.next=update:(update.next=pending.next,pending.next=update);queue.pending=update}0!==lane&&markUpdateLaneFromFiberToRoot(fiber,update,lane)}}function enqueueUpdate$1(fiber,queue,update,lane){concurrentQueues[concurrentQueuesIndex++]=fiber;concurrentQueues[concurrentQueuesIndex++]=queue;concurrentQueues[concurrentQueuesIndex++]=update;concurrentQueues[concurrentQueuesIndex++]=lane;concurrentlyUpdatedLanes|=lane;fiber.lanes|=lane;fiber=fiber.alternate;null!==fiber&&(fiber.lanes|=lane)}function enqueueConcurrentHookUpdate(fiber,queue,update,lane){enqueueUpdate$1(fiber,queue,update,lane);return getRootForUpdatedFiber(fiber)}function enqueueConcurrentRenderForLane(fiber,lane){enqueueUpdate$1(fiber,null,null,lane);return getRootForUpdatedFiber(fiber)}function markUpdateLaneFromFiberToRoot(sourceFiber,update,lane){sourceFiber.lanes|=lane;var alternate=sourceFiber.alternate;null!==alternate&&(alternate.lanes|=lane);for(var isHidden=false,parent=sourceFiber.return;null!==parent;)parent.childLanes|=lane,alternate=parent.alternate,null!==alternate&&(alternate.childLanes|=lane),22===parent.tag&&(sourceFiber=parent.stateNode,null===sourceFiber||sourceFiber._visibility&1||(isHidden=true)),sourceFiber=parent,parent=parent.return;return 3===sourceFiber.tag?(parent=sourceFiber.stateNode,isHidden&&null!==update&&(isHidden=31-clz32(lane),sourceFiber=parent.hiddenUpdates,alternate=sourceFiber[isHidden],null===alternate?sourceFiber[isHidden]=[update]:alternate.push(update),update.lane=lane|536870912),parent):null}function getRootForUpdatedFiber(sourceFiber){if(50<nestedUpdateCount)throw nestedUpdateCount=0,rootWithNestedUpdates=null,Error(formatProdErrorMessage(185));for(var parent=sourceFiber.return;null!==parent;)sourceFiber=parent,parent=sourceFiber.return;return 3===sourceFiber.tag?sourceFiber.stateNode:null}var emptyContextObject={};function FiberNode(tag,pendingProps,key,mode){this.tag=tag;this.key=key;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.refCleanup=this.ref=null;this.pendingProps=pendingProps;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=mode;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function createFiberImplClass(tag,pendingProps,key,mode){return new FiberNode(tag,pendingProps,key,mode)}function shouldConstruct(Component){Component=Component.prototype;return!(!Component||!Component.isReactComponent)}function createWorkInProgress(current,pendingProps){var workInProgress2=current.alternate;null===workInProgress2?(workInProgress2=createFiberImplClass(current.tag,pendingProps,current.key,current.mode),workInProgress2.elementType=current.elementType,workInProgress2.type=current.type,workInProgress2.stateNode=current.stateNode,workInProgress2.alternate=current,current.alternate=workInProgress2):(workInProgress2.pendingProps=pendingProps,workInProgress2.type=current.type,workInProgress2.flags=0,workInProgress2.subtreeFlags=0,workInProgress2.deletions=null);workInProgress2.flags=current.flags&65011712;workInProgress2.childLanes=current.childLanes;workInProgress2.lanes=current.lanes;workInProgress2.child=current.child;workInProgress2.memoizedProps=current.memoizedProps;workInProgress2.memoizedState=current.memoizedState;workInProgress2.updateQueue=current.updateQueue;pendingProps=current.dependencies;workInProgress2.dependencies=null===pendingProps?null:{lanes:pendingProps.lanes,firstContext:pendingProps.firstContext};workInProgress2.sibling=current.sibling;workInProgress2.index=current.index;workInProgress2.ref=current.ref;workInProgress2.refCleanup=current.refCleanup;return workInProgress2}function resetWorkInProgress(workInProgress2,renderLanes2){workInProgress2.flags&=65011714;var current=workInProgress2.alternate;null===current?(workInProgress2.childLanes=0,workInProgress2.lanes=renderLanes2,workInProgress2.child=null,workInProgress2.subtreeFlags=0,workInProgress2.memoizedProps=null,workInProgress2.memoizedState=null,workInProgress2.updateQueue=null,workInProgress2.dependencies=null,workInProgress2.stateNode=null):(workInProgress2.childLanes=current.childLanes,workInProgress2.lanes=current.lanes,workInProgress2.child=current.child,workInProgress2.subtreeFlags=0,workInProgress2.deletions=null,workInProgress2.memoizedProps=current.memoizedProps,workInProgress2.memoizedState=current.memoizedState,workInProgress2.updateQueue=current.updateQueue,workInProgress2.type=current.type,renderLanes2=current.dependencies,workInProgress2.dependencies=null===renderLanes2?null:{lanes:renderLanes2.lanes,firstContext:renderLanes2.firstContext});return workInProgress2}function createFiberFromTypeAndProps(type,key,pendingProps,owner,mode,lanes){var fiberTag=0;owner=type;if("function"===typeof type)shouldConstruct(type)&&(fiberTag=1);else if("string"===typeof type)fiberTag=isHostHoistableType(type,pendingProps,contextStackCursor.current)?26:"html"===type||"head"===type||"body"===type?27:5;else a:switch(type){case REACT_ACTIVITY_TYPE:return type=createFiberImplClass(31,pendingProps,key,mode),type.elementType=REACT_ACTIVITY_TYPE,type.lanes=lanes,type;case REACT_FRAGMENT_TYPE:return createFiberFromFragment(pendingProps.children,mode,lanes,key);case REACT_STRICT_MODE_TYPE:fiberTag=8;mode|=24;break;case REACT_PROFILER_TYPE:return type=createFiberImplClass(12,pendingProps,key,mode|2),type.elementType=REACT_PROFILER_TYPE,type.lanes=lanes,type;case REACT_SUSPENSE_TYPE:return type=createFiberImplClass(13,pendingProps,key,mode),type.elementType=REACT_SUSPENSE_TYPE,type.lanes=lanes,type;case REACT_SUSPENSE_LIST_TYPE:return type=createFiberImplClass(19,pendingProps,key,mode),type.elementType=REACT_SUSPENSE_LIST_TYPE,type.lanes=lanes,type;default:if("object"===typeof type&&null!==type)switch(type.$$typeof){case REACT_CONTEXT_TYPE:fiberTag=10;break a;case REACT_CONSUMER_TYPE:fiberTag=9;break a;case REACT_FORWARD_REF_TYPE:fiberTag=11;break a;case REACT_MEMO_TYPE:fiberTag=14;break a;case REACT_LAZY_TYPE:fiberTag=16;owner=null;break a}fiberTag=29;pendingProps=Error(formatProdErrorMessage(130,null===type?"null":typeof type,""));owner=null}key=createFiberImplClass(fiberTag,pendingProps,key,mode);key.elementType=type;key.type=owner;key.lanes=lanes;return key}function createFiberFromFragment(elements,mode,lanes,key){elements=createFiberImplClass(7,elements,key,mode);elements.lanes=lanes;return elements}function createFiberFromText(content,mode,lanes){content=createFiberImplClass(6,content,null,mode);content.lanes=lanes;return content}function createFiberFromDehydratedFragment(dehydratedNode){var fiber=createFiberImplClass(18,null,null,0);fiber.stateNode=dehydratedNode;return fiber}function createFiberFromPortal(portal,mode,lanes){mode=createFiberImplClass(4,null!==portal.children?portal.children:[],portal.key,mode);mode.lanes=lanes;mode.stateNode={containerInfo:portal.containerInfo,pendingChildren:null,implementation:portal.implementation};return mode}var CapturedStacks=new WeakMap;function createCapturedValueAtFiber(value,source){if("object"===typeof value&&null!==value){var existing=CapturedStacks.get(value);if(void 0!==existing)return existing;source={value,source,stack:getStackByFiberInDevAndProd(source)};CapturedStacks.set(value,source);return source}return{value,source,stack:getStackByFiberInDevAndProd(source)}}var forkStack=[];var forkStackIndex=0;var treeForkProvider=null;var treeForkCount=0;var idStack=[];var idStackIndex=0;var treeContextProvider=null;var treeContextId=1;var treeContextOverflow="";function pushTreeFork(workInProgress2,totalChildren){forkStack[forkStackIndex++]=treeForkCount;forkStack[forkStackIndex++]=treeForkProvider;treeForkProvider=workInProgress2;treeForkCount=totalChildren}function pushTreeId(workInProgress2,totalChildren,index2){idStack[idStackIndex++]=treeContextId;idStack[idStackIndex++]=treeContextOverflow;idStack[idStackIndex++]=treeContextProvider;treeContextProvider=workInProgress2;var baseIdWithLeadingBit=treeContextId;workInProgress2=treeContextOverflow;var baseLength=32-clz32(baseIdWithLeadingBit)-1;baseIdWithLeadingBit&=~(1<<baseLength);index2+=1;var length=32-clz32(totalChildren)+baseLength;if(30<length){var numberOfOverflowBits=baseLength-baseLength%5;length=(baseIdWithLeadingBit&(1<<numberOfOverflowBits)-1).toString(32);baseIdWithLeadingBit>>=numberOfOverflowBits;baseLength-=numberOfOverflowBits;treeContextId=1<<32-clz32(totalChildren)+baseLength|index2<<baseLength|baseIdWithLeadingBit;treeContextOverflow=length+workInProgress2}else treeContextId=1<<length|index2<<baseLength|baseIdWithLeadingBit,treeContextOverflow=workInProgress2}function pushMaterializedTreeId(workInProgress2){null!==workInProgress2.return&&(pushTreeFork(workInProgress2,1),pushTreeId(workInProgress2,1,0))}function popTreeContext(workInProgress2){for(;workInProgress2===treeForkProvider;)treeForkProvider=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null,treeForkCount=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null;for(;workInProgress2===treeContextProvider;)treeContextProvider=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextOverflow=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextId=idStack[--idStackIndex],idStack[idStackIndex]=null}function restoreSuspendedTreeContext(workInProgress2,suspendedContext){idStack[idStackIndex++]=treeContextId;idStack[idStackIndex++]=treeContextOverflow;idStack[idStackIndex++]=treeContextProvider;treeContextId=suspendedContext.id;treeContextOverflow=suspendedContext.overflow;treeContextProvider=workInProgress2}var hydrationParentFiber=null;var nextHydratableInstance=null;var isHydrating=false;var hydrationErrors=null;var rootOrSingletonContext=false;var HydrationMismatchException=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(fiber){var error=Error(formatProdErrorMessage(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML",""));queueHydrationError(createCapturedValueAtFiber(error,fiber));throw HydrationMismatchException}function prepareToHydrateHostInstance(fiber){var instance=fiber.stateNode,type=fiber.type,props=fiber.memoizedProps;instance[internalInstanceKey]=fiber;instance[internalPropsKey]=props;switch(type){case"dialog":listenToNonDelegatedEvent("cancel",instance);listenToNonDelegatedEvent("close",instance);break;case"iframe":case"object":case"embed":listenToNonDelegatedEvent("load",instance);break;case"video":case"audio":for(type=0;type<mediaEventTypes.length;type++)listenToNonDelegatedEvent(mediaEventTypes[type],instance);break;case"source":listenToNonDelegatedEvent("error",instance);break;case"img":case"image":case"link":listenToNonDelegatedEvent("error",instance);listenToNonDelegatedEvent("load",instance);break;case"details":listenToNonDelegatedEvent("toggle",instance);break;case"input":listenToNonDelegatedEvent("invalid",instance);initInput(instance,props.value,props.defaultValue,props.checked,props.defaultChecked,props.type,props.name,true);break;case"select":listenToNonDelegatedEvent("invalid",instance);break;case"textarea":listenToNonDelegatedEvent("invalid",instance),initTextarea(instance,props.value,props.defaultValue,props.children)}type=props.children;"string"!==typeof type&&"number"!==typeof type&&"bigint"!==typeof type||instance.textContent===""+type||true===props.suppressHydrationWarning||checkForUnmatchedText(instance.textContent,type)?(null!=props.popover&&(listenToNonDelegatedEvent("beforetoggle",instance),listenToNonDelegatedEvent("toggle",instance)),null!=props.onScroll&&listenToNonDelegatedEvent("scroll",instance),null!=props.onScrollEnd&&listenToNonDelegatedEvent("scrollend",instance),null!=props.onClick&&(instance.onclick=noop$1),instance=true):instance=false;instance||throwOnHydrationMismatch(fiber,true)}function popToNextHostParent(fiber){for(hydrationParentFiber=fiber.return;hydrationParentFiber;)switch(hydrationParentFiber.tag){case 5:case 31:case 13:rootOrSingletonContext=false;return;case 27:case 3:rootOrSingletonContext=true;return;default:hydrationParentFiber=hydrationParentFiber.return}}function popHydrationState(fiber){if(fiber!==hydrationParentFiber)return false;if(!isHydrating)return popToNextHostParent(fiber),isHydrating=true,false;var tag=fiber.tag,JSCompiler_temp;if(JSCompiler_temp=3!==tag&&27!==tag){if(JSCompiler_temp=5===tag)JSCompiler_temp=fiber.type,JSCompiler_temp=!("form"!==JSCompiler_temp&&"button"!==JSCompiler_temp)||shouldSetTextContent(fiber.type,fiber.memoizedProps);JSCompiler_temp=!JSCompiler_temp}JSCompiler_temp&&nextHydratableInstance&&throwOnHydrationMismatch(fiber);popToNextHostParent(fiber);if(13===tag){fiber=fiber.memoizedState;fiber=null!==fiber?fiber.dehydrated:null;if(!fiber)throw Error(formatProdErrorMessage(317));nextHydratableInstance=getNextHydratableInstanceAfterHydrationBoundary(fiber)}else if(31===tag){fiber=fiber.memoizedState;fiber=null!==fiber?fiber.dehydrated:null;if(!fiber)throw Error(formatProdErrorMessage(317));nextHydratableInstance=getNextHydratableInstanceAfterHydrationBoundary(fiber)}else 27===tag?(tag=nextHydratableInstance,isSingletonScope(fiber.type)?(fiber=previousHydratableOnEnteringScopedSingleton,previousHydratableOnEnteringScopedSingleton=null,nextHydratableInstance=fiber):nextHydratableInstance=tag):nextHydratableInstance=hydrationParentFiber?getNextHydratable(fiber.stateNode.nextSibling):null;return true}function resetHydrationState(){nextHydratableInstance=hydrationParentFiber=null;isHydrating=false}function upgradeHydrationErrorsToRecoverable(){var queuedErrors=hydrationErrors;null!==queuedErrors&&(null===workInProgressRootRecoverableErrors?workInProgressRootRecoverableErrors=queuedErrors:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,queuedErrors),hydrationErrors=null);return queuedErrors}function queueHydrationError(error){null===hydrationErrors?hydrationErrors=[error]:hydrationErrors.push(error)}var valueCursor=createCursor(null);var currentlyRenderingFiber$1=null;var lastContextDependency=null;function pushProvider(providerFiber,context,nextValue){push(valueCursor,context._currentValue);context._currentValue=nextValue}function popProvider(context){context._currentValue=valueCursor.current;pop(valueCursor)}function scheduleContextWorkOnParentPath(parent,renderLanes2,propagationRoot){for(;null!==parent;){var alternate=parent.alternate;(parent.childLanes&renderLanes2)!==renderLanes2?(parent.childLanes|=renderLanes2,null!==alternate&&(alternate.childLanes|=renderLanes2)):null!==alternate&&(alternate.childLanes&renderLanes2)!==renderLanes2&&(alternate.childLanes|=renderLanes2);if(parent===propagationRoot)break;parent=parent.return}}function propagateContextChanges(workInProgress2,contexts,renderLanes2,forcePropagateEntireTree){var fiber=workInProgress2.child;null!==fiber&&(fiber.return=workInProgress2);for(;null!==fiber;){var list=fiber.dependencies;if(null!==list){var nextFiber=fiber.child;list=list.firstContext;a:for(;null!==list;){var dependency=list;list=fiber;for(var i=0;i<contexts.length;i++)if(dependency.context===contexts[i]){list.lanes|=renderLanes2;dependency=list.alternate;null!==dependency&&(dependency.lanes|=renderLanes2);scheduleContextWorkOnParentPath(list.return,renderLanes2,workInProgress2);forcePropagateEntireTree||(nextFiber=null);break a}list=dependency.next}}else if(18===fiber.tag){nextFiber=fiber.return;if(null===nextFiber)throw Error(formatProdErrorMessage(341));nextFiber.lanes|=renderLanes2;list=nextFiber.alternate;null!==list&&(list.lanes|=renderLanes2);scheduleContextWorkOnParentPath(nextFiber,renderLanes2,workInProgress2);nextFiber=null}else nextFiber=fiber.child;if(null!==nextFiber)nextFiber.return=fiber;else for(nextFiber=fiber;null!==nextFiber;){if(nextFiber===workInProgress2){nextFiber=null;break}fiber=nextFiber.sibling;if(null!==fiber){fiber.return=nextFiber.return;nextFiber=fiber;break}nextFiber=nextFiber.return}fiber=nextFiber}}function propagateParentContextChanges(current,workInProgress2,renderLanes2,forcePropagateEntireTree){current=null;for(var parent=workInProgress2,isInsidePropagationBailout=false;null!==parent;){if(!isInsidePropagationBailout){if(0!==(parent.flags&524288))isInsidePropagationBailout=true;else if(0!==(parent.flags&262144))break}if(10===parent.tag){var currentParent=parent.alternate;if(null===currentParent)throw Error(formatProdErrorMessage(387));currentParent=currentParent.memoizedProps;if(null!==currentParent){var context=parent.type;objectIs(parent.pendingProps.value,currentParent.value)||(null!==current?current.push(context):current=[context])}}else if(parent===hostTransitionProviderCursor.current){currentParent=parent.alternate;if(null===currentParent)throw Error(formatProdErrorMessage(387));currentParent.memoizedState.memoizedState!==parent.memoizedState.memoizedState&&(null!==current?current.push(HostTransitionContext):current=[HostTransitionContext])}parent=parent.return}null!==current&&propagateContextChanges(workInProgress2,current,renderLanes2,forcePropagateEntireTree);workInProgress2.flags|=262144}function checkIfContextChanged(currentDependencies){for(currentDependencies=currentDependencies.firstContext;null!==currentDependencies;){if(!objectIs(currentDependencies.context._currentValue,currentDependencies.memoizedValue))return true;currentDependencies=currentDependencies.next}return false}function prepareToReadContext(workInProgress2){currentlyRenderingFiber$1=workInProgress2;lastContextDependency=null;workInProgress2=workInProgress2.dependencies;null!==workInProgress2&&(workInProgress2.firstContext=null)}function readContext(context){return readContextForConsumer(currentlyRenderingFiber$1,context)}function readContextDuringReconciliation(consumer,context){null===currentlyRenderingFiber$1&&prepareToReadContext(consumer);return readContextForConsumer(consumer,context)}function readContextForConsumer(consumer,context){var value=context._currentValue;context={context,memoizedValue:value,next:null};if(null===lastContextDependency){if(null===consumer)throw Error(formatProdErrorMessage(308));lastContextDependency=context;consumer.dependencies={lanes:0,firstContext:context};consumer.flags|=524288}else lastContextDependency=lastContextDependency.next=context;return value}var AbortControllerLocal="undefined"!==typeof AbortController?AbortController:function(){var listeners=[],signal=this.signal={aborted:false,addEventListener:function(type,listener){listeners.push(listener)}};this.abort=function(){signal.aborted=true;listeners.forEach(function(listener){return listener()})}};var scheduleCallback$2=Scheduler.unstable_scheduleCallback;var NormalPriority=Scheduler.unstable_NormalPriority;var CacheContext={$$typeof:REACT_CONTEXT_TYPE,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache(){return{controller:new AbortControllerLocal,data:new Map,refCount:0}}function releaseCache(cache){cache.refCount--;0===cache.refCount&&scheduleCallback$2(NormalPriority,function(){cache.controller.abort()})}var currentEntangledListeners=null;var currentEntangledPendingCount=0;var currentEntangledLane=0;var currentEntangledActionThenable=null;function entangleAsyncAction(transition,thenable){if(null===currentEntangledListeners){var entangledListeners=currentEntangledListeners=[];currentEntangledPendingCount=0;currentEntangledLane=requestTransitionLane();currentEntangledActionThenable={status:"pending",value:void 0,then:function(resolve){entangledListeners.push(resolve)}}}currentEntangledPendingCount++;thenable.then(pingEngtangledActionScope,pingEngtangledActionScope);return thenable}function pingEngtangledActionScope(){if(0===--currentEntangledPendingCount&&null!==currentEntangledListeners){null!==currentEntangledActionThenable&&(currentEntangledActionThenable.status="fulfilled");var listeners=currentEntangledListeners;currentEntangledListeners=null;currentEntangledLane=0;currentEntangledActionThenable=null;for(var i=0;i<listeners.length;i++)(0,listeners[i])()}}function chainThenableValue(thenable,result){var listeners=[],thenableWithOverride={status:"pending",value:null,reason:null,then:function(resolve){listeners.push(resolve)}};thenable.then(function(){thenableWithOverride.status="fulfilled";thenableWithOverride.value=result;for(var i=0;i<listeners.length;i++)(0,listeners[i])(result)},function(error){thenableWithOverride.status="rejected";thenableWithOverride.reason=error;for(error=0;error<listeners.length;error++)(0,listeners[error])(void 0)});return thenableWithOverride}var prevOnStartTransitionFinish=ReactSharedInternals.S;ReactSharedInternals.S=function(transition,returnValue){globalMostRecentTransitionTime=now();"object"===typeof returnValue&&null!==returnValue&&"function"===typeof returnValue.then&&entangleAsyncAction(transition,returnValue);null!==prevOnStartTransitionFinish&&prevOnStartTransitionFinish(transition,returnValue)};var resumedCache=createCursor(null);function peekCacheFromPool(){var cacheResumedFromPreviousRender=resumedCache.current;return null!==cacheResumedFromPreviousRender?cacheResumedFromPreviousRender:workInProgressRoot.pooledCache}function pushTransition(offscreenWorkInProgress,prevCachePool){null===prevCachePool?push(resumedCache,resumedCache.current):push(resumedCache,prevCachePool.pool)}function getSuspendedCache(){var cacheFromPool=peekCacheFromPool();return null===cacheFromPool?null:{parent:CacheContext._currentValue,pool:cacheFromPool}}var SuspenseException=Error(formatProdErrorMessage(460));var SuspenseyCommitException=Error(formatProdErrorMessage(474));var SuspenseActionException=Error(formatProdErrorMessage(542));var noopSuspenseyCommitThenable={then:function(){}};function isThenableResolved(thenable){thenable=thenable.status;return"fulfilled"===thenable||"rejected"===thenable}function trackUsedThenable(thenableState2,thenable,index2){index2=thenableState2[index2];void 0===index2?thenableState2.push(thenable):index2!==thenable&&(thenable.then(noop$1,noop$1),thenable=index2);switch(thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenableState2=thenable.reason,checkIfUseWrappedInAsyncCatch(thenableState2),thenableState2;default:if("string"===typeof thenable.status)thenable.then(noop$1,noop$1);else{thenableState2=workInProgressRoot;if(null!==thenableState2&&100<thenableState2.shellSuspendCounter)throw Error(formatProdErrorMessage(482));thenableState2=thenable;thenableState2.status="pending";thenableState2.then(function(fulfilledValue){if("pending"===thenable.status){var fulfilledThenable=thenable;fulfilledThenable.status="fulfilled";fulfilledThenable.value=fulfilledValue}},function(error){if("pending"===thenable.status){var rejectedThenable=thenable;rejectedThenable.status="rejected";rejectedThenable.reason=error}})}switch(thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenableState2=thenable.reason,checkIfUseWrappedInAsyncCatch(thenableState2),thenableState2}suspendedThenable=thenable;throw SuspenseException}}function resolveLazy(lazyType){try{var init=lazyType._init;return init(lazyType._payload)}catch(x){if(null!==x&&"object"===typeof x&&"function"===typeof x.then)throw suspendedThenable=x,SuspenseException;throw x}}var suspendedThenable=null;function getSuspendedThenable(){if(null===suspendedThenable)throw Error(formatProdErrorMessage(459));var thenable=suspendedThenable;suspendedThenable=null;return thenable}function checkIfUseWrappedInAsyncCatch(rejectedReason){if(rejectedReason===SuspenseException||rejectedReason===SuspenseActionException)throw Error(formatProdErrorMessage(483))}var thenableState$1=null;var thenableIndexCounter$1=0;function unwrapThenable(thenable){var index2=thenableIndexCounter$1;thenableIndexCounter$1+=1;null===thenableState$1&&(thenableState$1=[]);return trackUsedThenable(thenableState$1,thenable,index2)}function coerceRef(workInProgress2,element){element=element.props.ref;workInProgress2.ref=void 0!==element?element:null}function throwOnInvalidObjectTypeImpl(returnFiber,newChild){if(newChild.$$typeof===REACT_LEGACY_ELEMENT_TYPE)throw Error(formatProdErrorMessage(525));returnFiber=Object.prototype.toString.call(newChild);throw Error(formatProdErrorMessage(31,"[object Object]"===returnFiber?"object with keys {"+Object.keys(newChild).join(", ")+"}":returnFiber))}function createChildReconciler(shouldTrackSideEffects){function deleteChild(returnFiber,childToDelete){if(shouldTrackSideEffects){var deletions=returnFiber.deletions;null===deletions?(returnFiber.deletions=[childToDelete],returnFiber.flags|=16):deletions.push(childToDelete)}}function deleteRemainingChildren(returnFiber,currentFirstChild){if(!shouldTrackSideEffects)return null;for(;null!==currentFirstChild;)deleteChild(returnFiber,currentFirstChild),currentFirstChild=currentFirstChild.sibling;return null}function mapRemainingChildren(currentFirstChild){for(var existingChildren=new Map;null!==currentFirstChild;)null!==currentFirstChild.key?existingChildren.set(currentFirstChild.key,currentFirstChild):existingChildren.set(currentFirstChild.index,currentFirstChild),currentFirstChild=currentFirstChild.sibling;return existingChildren}function useFiber(fiber,pendingProps){fiber=createWorkInProgress(fiber,pendingProps);fiber.index=0;fiber.sibling=null;return fiber}function placeChild(newFiber,lastPlacedIndex,newIndex){newFiber.index=newIndex;if(!shouldTrackSideEffects)return newFiber.flags|=1048576,lastPlacedIndex;newIndex=newFiber.alternate;if(null!==newIndex)return newIndex=newIndex.index,newIndex<lastPlacedIndex?(newFiber.flags|=67108866,lastPlacedIndex):newIndex;newFiber.flags|=67108866;return lastPlacedIndex}function placeSingleChild(newFiber){shouldTrackSideEffects&&null===newFiber.alternate&&(newFiber.flags|=67108866);return newFiber}function updateTextNode(returnFiber,current,textContent,lanes){if(null===current||6!==current.tag)return current=createFiberFromText(textContent,returnFiber.mode,lanes),current.return=returnFiber,current;current=useFiber(current,textContent);current.return=returnFiber;return current}function updateElement(returnFiber,current,element,lanes){var elementType=element.type;if(elementType===REACT_FRAGMENT_TYPE)return updateFragment(returnFiber,current,element.props.children,lanes,element.key);if(null!==current&&(current.elementType===elementType||"object"===typeof elementType&&null!==elementType&&elementType.$$typeof===REACT_LAZY_TYPE&&resolveLazy(elementType)===current.type))return current=useFiber(current,element.props),coerceRef(current,element),current.return=returnFiber,current;current=createFiberFromTypeAndProps(element.type,element.key,element.props,null,returnFiber.mode,lanes);coerceRef(current,element);current.return=returnFiber;return current}function updatePortal(returnFiber,current,portal,lanes){if(null===current||4!==current.tag||current.stateNode.containerInfo!==portal.containerInfo||current.stateNode.implementation!==portal.implementation)return current=createFiberFromPortal(portal,returnFiber.mode,lanes),current.return=returnFiber,current;current=useFiber(current,portal.children||[]);current.return=returnFiber;return current}function updateFragment(returnFiber,current,fragment,lanes,key){if(null===current||7!==current.tag)return current=createFiberFromFragment(fragment,returnFiber.mode,lanes,key),current.return=returnFiber,current;current=useFiber(current,fragment);current.return=returnFiber;return current}function createChild(returnFiber,newChild,lanes){if("string"===typeof newChild&&""!==newChild||"number"===typeof newChild||"bigint"===typeof newChild)return newChild=createFiberFromText(""+newChild,returnFiber.mode,lanes),newChild.return=returnFiber,newChild;if("object"===typeof newChild&&null!==newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE:return lanes=createFiberFromTypeAndProps(newChild.type,newChild.key,newChild.props,null,returnFiber.mode,lanes),coerceRef(lanes,newChild),lanes.return=returnFiber,lanes;case REACT_PORTAL_TYPE:return newChild=createFiberFromPortal(newChild,returnFiber.mode,lanes),newChild.return=returnFiber,newChild;case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),createChild(returnFiber,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return newChild=createFiberFromFragment(newChild,returnFiber.mode,lanes,null),newChild.return=returnFiber,newChild;if("function"===typeof newChild.then)return createChild(returnFiber,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return createChild(returnFiber,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function updateSlot(returnFiber,oldFiber,newChild,lanes){var key=null!==oldFiber?oldFiber.key:null;if("string"===typeof newChild&&""!==newChild||"number"===typeof newChild||"bigint"===typeof newChild)return null!==key?null:updateTextNode(returnFiber,oldFiber,""+newChild,lanes);if("object"===typeof newChild&&null!==newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE:return newChild.key===key?updateElement(returnFiber,oldFiber,newChild,lanes):null;case REACT_PORTAL_TYPE:return newChild.key===key?updatePortal(returnFiber,oldFiber,newChild,lanes):null;case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),updateSlot(returnFiber,oldFiber,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return null!==key?null:updateFragment(returnFiber,oldFiber,newChild,lanes,null);if("function"===typeof newChild.then)return updateSlot(returnFiber,oldFiber,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return updateSlot(returnFiber,oldFiber,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function updateFromMap(existingChildren,returnFiber,newIdx,newChild,lanes){if("string"===typeof newChild&&""!==newChild||"number"===typeof newChild||"bigint"===typeof newChild)return existingChildren=existingChildren.get(newIdx)||null,updateTextNode(returnFiber,existingChildren,""+newChild,lanes);if("object"===typeof newChild&&null!==newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE:return existingChildren=existingChildren.get(null===newChild.key?newIdx:newChild.key)||null,updateElement(returnFiber,existingChildren,newChild,lanes);case REACT_PORTAL_TYPE:return existingChildren=existingChildren.get(null===newChild.key?newIdx:newChild.key)||null,updatePortal(returnFiber,existingChildren,newChild,lanes);case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),updateFromMap(existingChildren,returnFiber,newIdx,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return existingChildren=existingChildren.get(newIdx)||null,updateFragment(returnFiber,existingChildren,newChild,lanes,null);if("function"===typeof newChild.then)return updateFromMap(existingChildren,returnFiber,newIdx,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return updateFromMap(existingChildren,returnFiber,newIdx,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function reconcileChildrenArray(returnFiber,currentFirstChild,newChildren,lanes){for(var resultingFirstChild=null,previousNewFiber=null,oldFiber=currentFirstChild,newIdx=currentFirstChild=0,nextOldFiber=null;null!==oldFiber&&newIdx<newChildren.length;newIdx++){oldFiber.index>newIdx?(nextOldFiber=oldFiber,oldFiber=null):nextOldFiber=oldFiber.sibling;var newFiber=updateSlot(returnFiber,oldFiber,newChildren[newIdx],lanes);if(null===newFiber){null===oldFiber&&(oldFiber=nextOldFiber);break}shouldTrackSideEffects&&oldFiber&&null===newFiber.alternate&&deleteChild(returnFiber,oldFiber);currentFirstChild=placeChild(newFiber,currentFirstChild,newIdx);null===previousNewFiber?resultingFirstChild=newFiber:previousNewFiber.sibling=newFiber;previousNewFiber=newFiber;oldFiber=nextOldFiber}if(newIdx===newChildren.length)return deleteRemainingChildren(returnFiber,oldFiber),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild;if(null===oldFiber){for(;newIdx<newChildren.length;newIdx++)oldFiber=createChild(returnFiber,newChildren[newIdx],lanes),null!==oldFiber&&(currentFirstChild=placeChild(oldFiber,currentFirstChild,newIdx),null===previousNewFiber?resultingFirstChild=oldFiber:previousNewFiber.sibling=oldFiber,previousNewFiber=oldFiber);isHydrating&&pushTreeFork(returnFiber,newIdx);return resultingFirstChild}for(oldFiber=mapRemainingChildren(oldFiber);newIdx<newChildren.length;newIdx++)nextOldFiber=updateFromMap(oldFiber,returnFiber,newIdx,newChildren[newIdx],lanes),null!==nextOldFiber&&(shouldTrackSideEffects&&null!==nextOldFiber.alternate&&oldFiber.delete(null===nextOldFiber.key?newIdx:nextOldFiber.key),currentFirstChild=placeChild(nextOldFiber,currentFirstChild,newIdx),null===previousNewFiber?resultingFirstChild=nextOldFiber:previousNewFiber.sibling=nextOldFiber,previousNewFiber=nextOldFiber);shouldTrackSideEffects&&oldFiber.forEach(function(child){return deleteChild(returnFiber,child)});isHydrating&&pushTreeFork(returnFiber,newIdx);return resultingFirstChild}function reconcileChildrenIterator(returnFiber,currentFirstChild,newChildren,lanes){if(null==newChildren)throw Error(formatProdErrorMessage(151));for(var resultingFirstChild=null,previousNewFiber=null,oldFiber=currentFirstChild,newIdx=currentFirstChild=0,nextOldFiber=null,step=newChildren.next();null!==oldFiber&&!step.done;newIdx++,step=newChildren.next()){oldFiber.index>newIdx?(nextOldFiber=oldFiber,oldFiber=null):nextOldFiber=oldFiber.sibling;var newFiber=updateSlot(returnFiber,oldFiber,step.value,lanes);if(null===newFiber){null===oldFiber&&(oldFiber=nextOldFiber);break}shouldTrackSideEffects&&oldFiber&&null===newFiber.alternate&&deleteChild(returnFiber,oldFiber);currentFirstChild=placeChild(newFiber,currentFirstChild,newIdx);null===previousNewFiber?resultingFirstChild=newFiber:previousNewFiber.sibling=newFiber;previousNewFiber=newFiber;oldFiber=nextOldFiber}if(step.done)return deleteRemainingChildren(returnFiber,oldFiber),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild;if(null===oldFiber){for(;!step.done;newIdx++,step=newChildren.next())step=createChild(returnFiber,step.value,lanes),null!==step&&(currentFirstChild=placeChild(step,currentFirstChild,newIdx),null===previousNewFiber?resultingFirstChild=step:previousNewFiber.sibling=step,previousNewFiber=step);isHydrating&&pushTreeFork(returnFiber,newIdx);return resultingFirstChild}for(oldFiber=mapRemainingChildren(oldFiber);!step.done;newIdx++,step=newChildren.next())step=updateFromMap(oldFiber,returnFiber,newIdx,step.value,lanes),null!==step&&(shouldTrackSideEffects&&null!==step.alternate&&oldFiber.delete(null===step.key?newIdx:step.key),currentFirstChild=placeChild(step,currentFirstChild,newIdx),null===previousNewFiber?resultingFirstChild=step:previousNewFiber.sibling=step,previousNewFiber=step);shouldTrackSideEffects&&oldFiber.forEach(function(child){return deleteChild(returnFiber,child)});isHydrating&&pushTreeFork(returnFiber,newIdx);return resultingFirstChild}function reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes){"object"===typeof newChild&&null!==newChild&&newChild.type===REACT_FRAGMENT_TYPE&&null===newChild.key&&(newChild=newChild.props.children);if("object"===typeof newChild&&null!==newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE:a:{for(var key=newChild.key;null!==currentFirstChild;){if(currentFirstChild.key===key){key=newChild.type;if(key===REACT_FRAGMENT_TYPE){if(7===currentFirstChild.tag){deleteRemainingChildren(returnFiber,currentFirstChild.sibling);lanes=useFiber(currentFirstChild,newChild.props.children);lanes.return=returnFiber;returnFiber=lanes;break a}}else if(currentFirstChild.elementType===key||"object"===typeof key&&null!==key&&key.$$typeof===REACT_LAZY_TYPE&&resolveLazy(key)===currentFirstChild.type){deleteRemainingChildren(returnFiber,currentFirstChild.sibling);lanes=useFiber(currentFirstChild,newChild.props);coerceRef(lanes,newChild);lanes.return=returnFiber;returnFiber=lanes;break a}deleteRemainingChildren(returnFiber,currentFirstChild);break}else deleteChild(returnFiber,currentFirstChild);currentFirstChild=currentFirstChild.sibling}newChild.type===REACT_FRAGMENT_TYPE?(lanes=createFiberFromFragment(newChild.props.children,returnFiber.mode,lanes,newChild.key),lanes.return=returnFiber,returnFiber=lanes):(lanes=createFiberFromTypeAndProps(newChild.type,newChild.key,newChild.props,null,returnFiber.mode,lanes),coerceRef(lanes,newChild),lanes.return=returnFiber,returnFiber=lanes)}return placeSingleChild(returnFiber);case REACT_PORTAL_TYPE:a:{for(key=newChild.key;null!==currentFirstChild;){if(currentFirstChild.key===key)if(4===currentFirstChild.tag&&currentFirstChild.stateNode.containerInfo===newChild.containerInfo&&currentFirstChild.stateNode.implementation===newChild.implementation){deleteRemainingChildren(returnFiber,currentFirstChild.sibling);lanes=useFiber(currentFirstChild,newChild.children||[]);lanes.return=returnFiber;returnFiber=lanes;break a}else{deleteRemainingChildren(returnFiber,currentFirstChild);break}else deleteChild(returnFiber,currentFirstChild);currentFirstChild=currentFirstChild.sibling}lanes=createFiberFromPortal(newChild,returnFiber.mode,lanes);lanes.return=returnFiber;returnFiber=lanes}return placeSingleChild(returnFiber);case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes)}if(isArrayImpl(newChild))return reconcileChildrenArray(returnFiber,currentFirstChild,newChild,lanes);if(getIteratorFn(newChild)){key=getIteratorFn(newChild);if("function"!==typeof key)throw Error(formatProdErrorMessage(150));newChild=key.call(newChild);return reconcileChildrenIterator(returnFiber,currentFirstChild,newChild,lanes)}if("function"===typeof newChild.then)return reconcileChildFibersImpl(returnFiber,currentFirstChild,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return reconcileChildFibersImpl(returnFiber,currentFirstChild,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return"string"===typeof newChild&&""!==newChild||"number"===typeof newChild||"bigint"===typeof newChild?(newChild=""+newChild,null!==currentFirstChild&&6===currentFirstChild.tag?(deleteRemainingChildren(returnFiber,currentFirstChild.sibling),lanes=useFiber(currentFirstChild,newChild),lanes.return=returnFiber,returnFiber=lanes):(deleteRemainingChildren(returnFiber,currentFirstChild),lanes=createFiberFromText(newChild,returnFiber.mode,lanes),lanes.return=returnFiber,returnFiber=lanes),placeSingleChild(returnFiber)):deleteRemainingChildren(returnFiber,currentFirstChild)}return function(returnFiber,currentFirstChild,newChild,lanes){try{thenableIndexCounter$1=0;var firstChildFiber=reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes);thenableState$1=null;return firstChildFiber}catch(x){if(x===SuspenseException||x===SuspenseActionException)throw x;var fiber=createFiberImplClass(29,x,null,returnFiber.mode);fiber.lanes=lanes;fiber.return=returnFiber;return fiber}finally{}}}var reconcileChildFibers=createChildReconciler(true);var mountChildFibers=createChildReconciler(false);var hasForceUpdate=false;function initializeUpdateQueue(fiber){fiber.updateQueue={baseState:fiber.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(current,workInProgress2){current=current.updateQueue;workInProgress2.updateQueue===current&&(workInProgress2.updateQueue={baseState:current.baseState,firstBaseUpdate:current.firstBaseUpdate,lastBaseUpdate:current.lastBaseUpdate,shared:current.shared,callbacks:null})}function createUpdate(lane){return{lane,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(fiber,update,lane){var updateQueue=fiber.updateQueue;if(null===updateQueue)return null;updateQueue=updateQueue.shared;if(0!==(executionContext&2)){var pending=updateQueue.pending;null===pending?update.next=update:(update.next=pending.next,pending.next=update);updateQueue.pending=update;update=getRootForUpdatedFiber(fiber);markUpdateLaneFromFiberToRoot(fiber,null,lane);return update}enqueueUpdate$1(fiber,updateQueue,update,lane);return getRootForUpdatedFiber(fiber)}function entangleTransitions(root3,fiber,lane){fiber=fiber.updateQueue;if(null!==fiber&&(fiber=fiber.shared,0!==(lane&4194048))){var queueLanes=fiber.lanes;queueLanes&=root3.pendingLanes;lane|=queueLanes;fiber.lanes=lane;markRootEntangled(root3,lane)}}function enqueueCapturedUpdate(workInProgress2,capturedUpdate){var queue=workInProgress2.updateQueue,current=workInProgress2.alternate;if(null!==current&&(current=current.updateQueue,queue===current)){var newFirst=null,newLast=null;queue=queue.firstBaseUpdate;if(null!==queue){do{var clone={lane:queue.lane,tag:queue.tag,payload:queue.payload,callback:null,next:null};null===newLast?newFirst=newLast=clone:newLast=newLast.next=clone;queue=queue.next}while(null!==queue);null===newLast?newFirst=newLast=capturedUpdate:newLast=newLast.next=capturedUpdate}else newFirst=newLast=capturedUpdate;queue={baseState:current.baseState,firstBaseUpdate:newFirst,lastBaseUpdate:newLast,shared:current.shared,callbacks:current.callbacks};workInProgress2.updateQueue=queue;return}workInProgress2=queue.lastBaseUpdate;null===workInProgress2?queue.firstBaseUpdate=capturedUpdate:workInProgress2.next=capturedUpdate;queue.lastBaseUpdate=capturedUpdate}var didReadFromEntangledAsyncAction=false;function suspendIfUpdateReadFromEntangledAsyncAction(){if(didReadFromEntangledAsyncAction){var entangledActionThenable=currentEntangledActionThenable;if(null!==entangledActionThenable)throw entangledActionThenable}}function processUpdateQueue(workInProgress$jscomp$0,props,instance$jscomp$0,renderLanes2){didReadFromEntangledAsyncAction=false;var queue=workInProgress$jscomp$0.updateQueue;hasForceUpdate=false;var firstBaseUpdate=queue.firstBaseUpdate,lastBaseUpdate=queue.lastBaseUpdate,pendingQueue=queue.shared.pending;if(null!==pendingQueue){queue.shared.pending=null;var lastPendingUpdate=pendingQueue,firstPendingUpdate=lastPendingUpdate.next;lastPendingUpdate.next=null;null===lastBaseUpdate?firstBaseUpdate=firstPendingUpdate:lastBaseUpdate.next=firstPendingUpdate;lastBaseUpdate=lastPendingUpdate;var current=workInProgress$jscomp$0.alternate;null!==current&&(current=current.updateQueue,pendingQueue=current.lastBaseUpdate,pendingQueue!==lastBaseUpdate&&(null===pendingQueue?current.firstBaseUpdate=firstPendingUpdate:pendingQueue.next=firstPendingUpdate,current.lastBaseUpdate=lastPendingUpdate))}if(null!==firstBaseUpdate){var newState=queue.baseState;lastBaseUpdate=0;current=firstPendingUpdate=lastPendingUpdate=null;pendingQueue=firstBaseUpdate;do{var updateLane=pendingQueue.lane&-536870913,isHiddenUpdate=updateLane!==pendingQueue.lane;if(isHiddenUpdate?(workInProgressRootRenderLanes&updateLane)===updateLane:(renderLanes2&updateLane)===updateLane){0!==updateLane&&updateLane===currentEntangledLane&&(didReadFromEntangledAsyncAction=true);null!==current&&(current=current.next={lane:0,tag:pendingQueue.tag,payload:pendingQueue.payload,callback:null,next:null});a:{var workInProgress2=workInProgress$jscomp$0,update=pendingQueue;updateLane=props;var instance=instance$jscomp$0;switch(update.tag){case 1:workInProgress2=update.payload;if("function"===typeof workInProgress2){newState=workInProgress2.call(instance,newState,updateLane);break a}newState=workInProgress2;break a;case 3:workInProgress2.flags=workInProgress2.flags&-65537|128;case 0:workInProgress2=update.payload;updateLane="function"===typeof workInProgress2?workInProgress2.call(instance,newState,updateLane):workInProgress2;if(null===updateLane||void 0===updateLane)break a;newState=assign({},newState,updateLane);break a;case 2:hasForceUpdate=true}}updateLane=pendingQueue.callback;null!==updateLane&&(workInProgress$jscomp$0.flags|=64,isHiddenUpdate&&(workInProgress$jscomp$0.flags|=8192),isHiddenUpdate=queue.callbacks,null===isHiddenUpdate?queue.callbacks=[updateLane]:isHiddenUpdate.push(updateLane))}else isHiddenUpdate={lane:updateLane,tag:pendingQueue.tag,payload:pendingQueue.payload,callback:pendingQueue.callback,next:null},null===current?(firstPendingUpdate=current=isHiddenUpdate,lastPendingUpdate=newState):current=current.next=isHiddenUpdate,lastBaseUpdate|=updateLane;pendingQueue=pendingQueue.next;if(null===pendingQueue)if(pendingQueue=queue.shared.pending,null===pendingQueue)break;else isHiddenUpdate=pendingQueue,pendingQueue=isHiddenUpdate.next,isHiddenUpdate.next=null,queue.lastBaseUpdate=isHiddenUpdate,queue.shared.pending=null}while(1);null===current&&(lastPendingUpdate=newState);queue.baseState=lastPendingUpdate;queue.firstBaseUpdate=firstPendingUpdate;queue.lastBaseUpdate=current;null===firstBaseUpdate&&(queue.shared.lanes=0);workInProgressRootSkippedLanes|=lastBaseUpdate;workInProgress$jscomp$0.lanes=lastBaseUpdate;workInProgress$jscomp$0.memoizedState=newState}}function callCallback(callback,context){if("function"!==typeof callback)throw Error(formatProdErrorMessage(191,callback));callback.call(context)}function commitCallbacks(updateQueue,context){var callbacks=updateQueue.callbacks;if(null!==callbacks)for(updateQueue.callbacks=null,updateQueue=0;updateQueue<callbacks.length;updateQueue++)callCallback(callbacks[updateQueue],context)}var currentTreeHiddenStackCursor=createCursor(null);var prevEntangledRenderLanesCursor=createCursor(0);function pushHiddenContext(fiber,context){fiber=entangledRenderLanes;push(prevEntangledRenderLanesCursor,fiber);push(currentTreeHiddenStackCursor,context);entangledRenderLanes=fiber|context.baseLanes}function reuseHiddenContextOnStack(){push(prevEntangledRenderLanesCursor,entangledRenderLanes);push(currentTreeHiddenStackCursor,currentTreeHiddenStackCursor.current)}function popHiddenContext(){entangledRenderLanes=prevEntangledRenderLanesCursor.current;pop(currentTreeHiddenStackCursor);pop(prevEntangledRenderLanesCursor)}var suspenseHandlerStackCursor=createCursor(null);var shellBoundary=null;function pushPrimaryTreeSuspenseHandler(handler){var current=handler.alternate;push(suspenseStackCursor,suspenseStackCursor.current&1);push(suspenseHandlerStackCursor,handler);null===shellBoundary&&(null===current||null!==currentTreeHiddenStackCursor.current?shellBoundary=handler:null!==current.memoizedState&&(shellBoundary=handler))}function pushDehydratedActivitySuspenseHandler(fiber){push(suspenseStackCursor,suspenseStackCursor.current);push(suspenseHandlerStackCursor,fiber);null===shellBoundary&&(shellBoundary=fiber)}function pushOffscreenSuspenseHandler(fiber){22===fiber.tag?(push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,fiber),null===shellBoundary&&(shellBoundary=fiber)):reuseSuspenseHandlerOnStack(fiber)}function reuseSuspenseHandlerOnStack(){push(suspenseStackCursor,suspenseStackCursor.current);push(suspenseHandlerStackCursor,suspenseHandlerStackCursor.current)}function popSuspenseHandler(fiber){pop(suspenseHandlerStackCursor);shellBoundary===fiber&&(shellBoundary=null);pop(suspenseStackCursor)}var suspenseStackCursor=createCursor(0);function findFirstSuspended(row){for(var node=row;null!==node;){if(13===node.tag){var state=node.memoizedState;if(null!==state&&(state=state.dehydrated,null===state||isSuspenseInstancePending(state)||isSuspenseInstanceFallback(state)))return node}else if(19===node.tag&&("forwards"===node.memoizedProps.revealOrder||"backwards"===node.memoizedProps.revealOrder||"unstable_legacy-backwards"===node.memoizedProps.revealOrder||"together"===node.memoizedProps.revealOrder)){if(0!==(node.flags&128))return node}else if(null!==node.child){node.child.return=node;node=node.child;continue}if(node===row)break;for(;null===node.sibling;){if(null===node.return||node.return===row)return null;node=node.return}node.sibling.return=node.return;node=node.sibling}return null}var renderLanes=0;var currentlyRenderingFiber=null;var currentHook=null;var workInProgressHook=null;var didScheduleRenderPhaseUpdate=false;var didScheduleRenderPhaseUpdateDuringThisPass=false;var shouldDoubleInvokeUserFnsInHooksDEV=false;var localIdCounter=0;var thenableIndexCounter=0;var thenableState=null;var globalClientIdCounter=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(nextDeps,prevDeps){if(null===prevDeps)return false;for(var i=0;i<prevDeps.length&&i<nextDeps.length;i++)if(!objectIs(nextDeps[i],prevDeps[i]))return false;return true}function renderWithHooks(current,workInProgress2,Component,props,secondArg,nextRenderLanes){renderLanes=nextRenderLanes;currentlyRenderingFiber=workInProgress2;workInProgress2.memoizedState=null;workInProgress2.updateQueue=null;workInProgress2.lanes=0;ReactSharedInternals.H=null===current||null===current.memoizedState?HooksDispatcherOnMount:HooksDispatcherOnUpdate;shouldDoubleInvokeUserFnsInHooksDEV=false;nextRenderLanes=Component(props,secondArg);shouldDoubleInvokeUserFnsInHooksDEV=false;didScheduleRenderPhaseUpdateDuringThisPass&&(nextRenderLanes=renderWithHooksAgain(workInProgress2,Component,props,secondArg));finishRenderingHooks(current);return nextRenderLanes}function finishRenderingHooks(current){ReactSharedInternals.H=ContextOnlyDispatcher;var didRenderTooFewHooks=null!==currentHook&&null!==currentHook.next;renderLanes=0;workInProgressHook=currentHook=currentlyRenderingFiber=null;didScheduleRenderPhaseUpdate=false;thenableIndexCounter=0;thenableState=null;if(didRenderTooFewHooks)throw Error(formatProdErrorMessage(300));null===current||didReceiveUpdate||(current=current.dependencies,null!==current&&checkIfContextChanged(current)&&(didReceiveUpdate=true))}function renderWithHooksAgain(workInProgress2,Component,props,secondArg){currentlyRenderingFiber=workInProgress2;var numberOfReRenders=0;do{didScheduleRenderPhaseUpdateDuringThisPass&&(thenableState=null);thenableIndexCounter=0;didScheduleRenderPhaseUpdateDuringThisPass=false;if(25<=numberOfReRenders)throw Error(formatProdErrorMessage(301));numberOfReRenders+=1;workInProgressHook=currentHook=null;if(null!=workInProgress2.updateQueue){var children=workInProgress2.updateQueue;children.lastEffect=null;children.events=null;children.stores=null;null!=children.memoCache&&(children.memoCache.index=0)}ReactSharedInternals.H=HooksDispatcherOnRerender;children=Component(props,secondArg)}while(didScheduleRenderPhaseUpdateDuringThisPass);return children}function TransitionAwareHostComponent(){var dispatcher=ReactSharedInternals.H,maybeThenable=dispatcher.useState()[0];maybeThenable="function"===typeof maybeThenable.then?useThenable(maybeThenable):maybeThenable;dispatcher=dispatcher.useState()[0];(null!==currentHook?currentHook.memoizedState:null)!==dispatcher&&(currentlyRenderingFiber.flags|=1024);return maybeThenable}function checkDidRenderIdHook(){var didRenderIdHook=0!==localIdCounter;localIdCounter=0;return didRenderIdHook}function bailoutHooks(current,workInProgress2,lanes){workInProgress2.updateQueue=current.updateQueue;workInProgress2.flags&=-2053;current.lanes&=~lanes}function resetHooksOnUnwind(workInProgress2){if(didScheduleRenderPhaseUpdate){for(workInProgress2=workInProgress2.memoizedState;null!==workInProgress2;){var queue=workInProgress2.queue;null!==queue&&(queue.pending=null);workInProgress2=workInProgress2.next}didScheduleRenderPhaseUpdate=false}renderLanes=0;workInProgressHook=currentHook=currentlyRenderingFiber=null;didScheduleRenderPhaseUpdateDuringThisPass=false;thenableIndexCounter=localIdCounter=0;thenableState=null}function mountWorkInProgressHook(){var hook={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===workInProgressHook?currentlyRenderingFiber.memoizedState=workInProgressHook=hook:workInProgressHook=workInProgressHook.next=hook;return workInProgressHook}function updateWorkInProgressHook(){if(null===currentHook){var nextCurrentHook=currentlyRenderingFiber.alternate;nextCurrentHook=null!==nextCurrentHook?nextCurrentHook.memoizedState:null}else nextCurrentHook=currentHook.next;var nextWorkInProgressHook=null===workInProgressHook?currentlyRenderingFiber.memoizedState:workInProgressHook.next;if(null!==nextWorkInProgressHook)workInProgressHook=nextWorkInProgressHook,currentHook=nextCurrentHook;else{if(null===nextCurrentHook){if(null===currentlyRenderingFiber.alternate)throw Error(formatProdErrorMessage(467));throw Error(formatProdErrorMessage(310))}currentHook=nextCurrentHook;nextCurrentHook={memoizedState:currentHook.memoizedState,baseState:currentHook.baseState,baseQueue:currentHook.baseQueue,queue:currentHook.queue,next:null};null===workInProgressHook?currentlyRenderingFiber.memoizedState=workInProgressHook=nextCurrentHook:workInProgressHook=workInProgressHook.next=nextCurrentHook}return workInProgressHook}function createFunctionComponentUpdateQueue(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function useThenable(thenable){var index2=thenableIndexCounter;thenableIndexCounter+=1;null===thenableState&&(thenableState=[]);thenable=trackUsedThenable(thenableState,thenable,index2);index2=currentlyRenderingFiber;null===(null===workInProgressHook?index2.memoizedState:workInProgressHook.next)&&(index2=index2.alternate,ReactSharedInternals.H=null===index2||null===index2.memoizedState?HooksDispatcherOnMount:HooksDispatcherOnUpdate);return thenable}function use(usable){if(null!==usable&&"object"===typeof usable){if("function"===typeof usable.then)return useThenable(usable);if(usable.$$typeof===REACT_CONTEXT_TYPE)return readContext(usable)}throw Error(formatProdErrorMessage(438,String(usable)))}function useMemoCache(size){var memoCache=null,updateQueue=currentlyRenderingFiber.updateQueue;null!==updateQueue&&(memoCache=updateQueue.memoCache);if(null==memoCache){var current=currentlyRenderingFiber.alternate;null!==current&&(current=current.updateQueue,null!==current&&(current=current.memoCache,null!=current&&(memoCache={data:current.data.map(function(array){return array.slice()}),index:0})))}null==memoCache&&(memoCache={data:[],index:0});null===updateQueue&&(updateQueue=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=updateQueue);updateQueue.memoCache=memoCache;updateQueue=memoCache.data[memoCache.index];if(void 0===updateQueue)for(updateQueue=memoCache.data[memoCache.index]=Array(size),current=0;current<size;current++)updateQueue[current]=REACT_MEMO_CACHE_SENTINEL;memoCache.index++;return updateQueue}function basicStateReducer(state,action){return"function"===typeof action?action(state):action}function updateReducer(reducer){var hook=updateWorkInProgressHook();return updateReducerImpl(hook,currentHook,reducer)}function updateReducerImpl(hook,current,reducer){var queue=hook.queue;if(null===queue)throw Error(formatProdErrorMessage(311));queue.lastRenderedReducer=reducer;var baseQueue=hook.baseQueue,pendingQueue=queue.pending;if(null!==pendingQueue){if(null!==baseQueue){var baseFirst=baseQueue.next;baseQueue.next=pendingQueue.next;pendingQueue.next=baseFirst}current.baseQueue=baseQueue=pendingQueue;queue.pending=null}pendingQueue=hook.baseState;if(null===baseQueue)hook.memoizedState=pendingQueue;else{current=baseQueue.next;var newBaseQueueFirst=baseFirst=null,newBaseQueueLast=null,update=current,didReadFromEntangledAsyncAction$60=false;do{var updateLane=update.lane&-536870913;if(updateLane!==update.lane?(workInProgressRootRenderLanes&updateLane)===updateLane:(renderLanes&updateLane)===updateLane){var revertLane=update.revertLane;if(0===revertLane)null!==newBaseQueueLast&&(newBaseQueueLast=newBaseQueueLast.next={lane:0,revertLane:0,gesture:null,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null}),updateLane===currentEntangledLane&&(didReadFromEntangledAsyncAction$60=true);else if((renderLanes&revertLane)===revertLane){update=update.next;revertLane===currentEntangledLane&&(didReadFromEntangledAsyncAction$60=true);continue}else updateLane={lane:0,revertLane:update.revertLane,gesture:null,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null},null===newBaseQueueLast?(newBaseQueueFirst=newBaseQueueLast=updateLane,baseFirst=pendingQueue):newBaseQueueLast=newBaseQueueLast.next=updateLane,currentlyRenderingFiber.lanes|=revertLane,workInProgressRootSkippedLanes|=revertLane;updateLane=update.action;shouldDoubleInvokeUserFnsInHooksDEV&&reducer(pendingQueue,updateLane);pendingQueue=update.hasEagerState?update.eagerState:reducer(pendingQueue,updateLane)}else revertLane={lane:updateLane,revertLane:update.revertLane,gesture:update.gesture,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null},null===newBaseQueueLast?(newBaseQueueFirst=newBaseQueueLast=revertLane,baseFirst=pendingQueue):newBaseQueueLast=newBaseQueueLast.next=revertLane,currentlyRenderingFiber.lanes|=updateLane,workInProgressRootSkippedLanes|=updateLane;update=update.next}while(null!==update&&update!==current);null===newBaseQueueLast?baseFirst=pendingQueue:newBaseQueueLast.next=newBaseQueueFirst;if(!objectIs(pendingQueue,hook.memoizedState)&&(didReceiveUpdate=true,didReadFromEntangledAsyncAction$60&&(reducer=currentEntangledActionThenable,null!==reducer)))throw reducer;hook.memoizedState=pendingQueue;hook.baseState=baseFirst;hook.baseQueue=newBaseQueueLast;queue.lastRenderedState=pendingQueue}null===baseQueue&&(queue.lanes=0);return[hook.memoizedState,queue.dispatch]}function rerenderReducer(reducer){var hook=updateWorkInProgressHook(),queue=hook.queue;if(null===queue)throw Error(formatProdErrorMessage(311));queue.lastRenderedReducer=reducer;var dispatch=queue.dispatch,lastRenderPhaseUpdate=queue.pending,newState=hook.memoizedState;if(null!==lastRenderPhaseUpdate){queue.pending=null;var update=lastRenderPhaseUpdate=lastRenderPhaseUpdate.next;do newState=reducer(newState,update.action),update=update.next;while(update!==lastRenderPhaseUpdate);objectIs(newState,hook.memoizedState)||(didReceiveUpdate=true);hook.memoizedState=newState;null===hook.baseQueue&&(hook.baseState=newState);queue.lastRenderedState=newState}return[newState,dispatch]}function updateSyncExternalStore(subscribe,getSnapshot,getServerSnapshot){var fiber=currentlyRenderingFiber,hook=updateWorkInProgressHook(),isHydrating$jscomp$0=isHydrating;if(isHydrating$jscomp$0){if(void 0===getServerSnapshot)throw Error(formatProdErrorMessage(407));getServerSnapshot=getServerSnapshot()}else getServerSnapshot=getSnapshot();var snapshotChanged=!objectIs((currentHook||hook).memoizedState,getServerSnapshot);snapshotChanged&&(hook.memoizedState=getServerSnapshot,didReceiveUpdate=true);hook=hook.queue;updateEffect(subscribeToStore.bind(null,fiber,hook,subscribe),[subscribe]);if(hook.getSnapshot!==getSnapshot||snapshotChanged||null!==workInProgressHook&&workInProgressHook.memoizedState.tag&1){fiber.flags|=2048;pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,fiber,hook,getServerSnapshot,getSnapshot),null);if(null===workInProgressRoot)throw Error(formatProdErrorMessage(349));isHydrating$jscomp$0||0!==(renderLanes&127)||pushStoreConsistencyCheck(fiber,getSnapshot,getServerSnapshot)}return getServerSnapshot}function pushStoreConsistencyCheck(fiber,getSnapshot,renderedSnapshot){fiber.flags|=16384;fiber={getSnapshot,value:renderedSnapshot};getSnapshot=currentlyRenderingFiber.updateQueue;null===getSnapshot?(getSnapshot=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=getSnapshot,getSnapshot.stores=[fiber]):(renderedSnapshot=getSnapshot.stores,null===renderedSnapshot?getSnapshot.stores=[fiber]:renderedSnapshot.push(fiber))}function updateStoreInstance(fiber,inst,nextSnapshot,getSnapshot){inst.value=nextSnapshot;inst.getSnapshot=getSnapshot;checkIfSnapshotChanged(inst)&&forceStoreRerender(fiber)}function subscribeToStore(fiber,inst,subscribe){return subscribe(function(){checkIfSnapshotChanged(inst)&&forceStoreRerender(fiber)})}function checkIfSnapshotChanged(inst){var latestGetSnapshot=inst.getSnapshot;inst=inst.value;try{var nextValue=latestGetSnapshot();return!objectIs(inst,nextValue)}catch(error){return true}}function forceStoreRerender(fiber){var root3=enqueueConcurrentRenderForLane(fiber,2);null!==root3&&scheduleUpdateOnFiber(root3,fiber,2)}function mountStateImpl(initialState){var hook=mountWorkInProgressHook();if("function"===typeof initialState){var initialStateInitializer=initialState;initialState=initialStateInitializer();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(true);try{initialStateInitializer()}finally{setIsStrictModeForDevtools(false)}}}hook.memoizedState=hook.baseState=initialState;hook.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:initialState};return hook}function updateOptimisticImpl(hook,current,passthrough,reducer){hook.baseState=passthrough;return updateReducerImpl(hook,currentHook,"function"===typeof reducer?reducer:basicStateReducer)}function dispatchActionState(fiber,actionQueue,setPendingState,setState,payload){if(isRenderPhaseUpdate(fiber))throw Error(formatProdErrorMessage(485));fiber=actionQueue.action;if(null!==fiber){var actionNode={payload,action:fiber,next:null,isTransition:true,status:"pending",value:null,reason:null,listeners:[],then:function(listener){actionNode.listeners.push(listener)}};null!==ReactSharedInternals.T?setPendingState(true):actionNode.isTransition=false;setState(actionNode);setPendingState=actionQueue.pending;null===setPendingState?(actionNode.next=actionQueue.pending=actionNode,runActionStateAction(actionQueue,actionNode)):(actionNode.next=setPendingState.next,actionQueue.pending=setPendingState.next=actionNode)}}function runActionStateAction(actionQueue,node){var action=node.action,payload=node.payload,prevState=actionQueue.state;if(node.isTransition){var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition;try{var returnValue=action(prevState,payload),onStartTransitionFinish=ReactSharedInternals.S;null!==onStartTransitionFinish&&onStartTransitionFinish(currentTransition,returnValue);handleActionReturnValue(actionQueue,node,returnValue)}catch(error){onActionError(actionQueue,node,error)}finally{null!==prevTransition&&null!==currentTransition.types&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}}else try{prevTransition=action(prevState,payload),handleActionReturnValue(actionQueue,node,prevTransition)}catch(error$66){onActionError(actionQueue,node,error$66)}}function handleActionReturnValue(actionQueue,node,returnValue){null!==returnValue&&"object"===typeof returnValue&&"function"===typeof returnValue.then?returnValue.then(function(nextState){onActionSuccess(actionQueue,node,nextState)},function(error){return onActionError(actionQueue,node,error)}):onActionSuccess(actionQueue,node,returnValue)}function onActionSuccess(actionQueue,actionNode,nextState){actionNode.status="fulfilled";actionNode.value=nextState;notifyActionListeners(actionNode);actionQueue.state=nextState;actionNode=actionQueue.pending;null!==actionNode&&(nextState=actionNode.next,nextState===actionNode?actionQueue.pending=null:(nextState=nextState.next,actionNode.next=nextState,runActionStateAction(actionQueue,nextState)))}function onActionError(actionQueue,actionNode,error){var last=actionQueue.pending;actionQueue.pending=null;if(null!==last){last=last.next;do actionNode.status="rejected",actionNode.reason=error,notifyActionListeners(actionNode),actionNode=actionNode.next;while(actionNode!==last)}actionQueue.action=null}function notifyActionListeners(actionNode){actionNode=actionNode.listeners;for(var i=0;i<actionNode.length;i++)(0,actionNode[i])()}function actionStateReducer(oldState,newState){return newState}function mountActionState(action,initialStateProp){if(isHydrating){var ssrFormState=workInProgressRoot.formState;if(null!==ssrFormState){a:{var JSCompiler_inline_result=currentlyRenderingFiber;if(isHydrating){if(nextHydratableInstance){b:{var JSCompiler_inline_result$jscomp$0=nextHydratableInstance;for(var inRootOrSingleton=rootOrSingletonContext;8!==JSCompiler_inline_result$jscomp$0.nodeType;){if(!inRootOrSingleton){JSCompiler_inline_result$jscomp$0=null;break b}JSCompiler_inline_result$jscomp$0=getNextHydratable(JSCompiler_inline_result$jscomp$0.nextSibling);if(null===JSCompiler_inline_result$jscomp$0){JSCompiler_inline_result$jscomp$0=null;break b}}inRootOrSingleton=JSCompiler_inline_result$jscomp$0.data;JSCompiler_inline_result$jscomp$0="F!"===inRootOrSingleton||"F"===inRootOrSingleton?JSCompiler_inline_result$jscomp$0:null}if(JSCompiler_inline_result$jscomp$0){nextHydratableInstance=getNextHydratable(JSCompiler_inline_result$jscomp$0.nextSibling);JSCompiler_inline_result="F!"===JSCompiler_inline_result$jscomp$0.data;break a}}throwOnHydrationMismatch(JSCompiler_inline_result)}JSCompiler_inline_result=false}JSCompiler_inline_result&&(initialStateProp=ssrFormState[0])}}ssrFormState=mountWorkInProgressHook();ssrFormState.memoizedState=ssrFormState.baseState=initialStateProp;JSCompiler_inline_result={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:initialStateProp};ssrFormState.queue=JSCompiler_inline_result;ssrFormState=dispatchSetState.bind(null,currentlyRenderingFiber,JSCompiler_inline_result);JSCompiler_inline_result.dispatch=ssrFormState;JSCompiler_inline_result=mountStateImpl(false);inRootOrSingleton=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber,false,JSCompiler_inline_result.queue);JSCompiler_inline_result=mountWorkInProgressHook();JSCompiler_inline_result$jscomp$0={state:initialStateProp,dispatch:null,action,pending:null};JSCompiler_inline_result.queue=JSCompiler_inline_result$jscomp$0;ssrFormState=dispatchActionState.bind(null,currentlyRenderingFiber,JSCompiler_inline_result$jscomp$0,inRootOrSingleton,ssrFormState);JSCompiler_inline_result$jscomp$0.dispatch=ssrFormState;JSCompiler_inline_result.memoizedState=action;return[initialStateProp,ssrFormState,false]}function updateActionState(action){var stateHook=updateWorkInProgressHook();return updateActionStateImpl(stateHook,currentHook,action)}function updateActionStateImpl(stateHook,currentStateHook,action){currentStateHook=updateReducerImpl(stateHook,currentStateHook,actionStateReducer)[0];stateHook=updateReducer(basicStateReducer)[0];if("object"===typeof currentStateHook&&null!==currentStateHook&&"function"===typeof currentStateHook.then)try{var state=useThenable(currentStateHook)}catch(x){if(x===SuspenseException)throw SuspenseActionException;throw x}else state=currentStateHook;currentStateHook=updateWorkInProgressHook();var actionQueue=currentStateHook.queue,dispatch=actionQueue.dispatch;action!==currentStateHook.memoizedState&&(currentlyRenderingFiber.flags|=2048,pushSimpleEffect(9,{destroy:void 0},actionStateActionEffect.bind(null,actionQueue,action),null));return[state,dispatch,stateHook]}function actionStateActionEffect(actionQueue,action){actionQueue.action=action}function rerenderActionState(action){var stateHook=updateWorkInProgressHook(),currentStateHook=currentHook;if(null!==currentStateHook)return updateActionStateImpl(stateHook,currentStateHook,action);updateWorkInProgressHook();stateHook=stateHook.memoizedState;currentStateHook=updateWorkInProgressHook();var dispatch=currentStateHook.queue.dispatch;currentStateHook.memoizedState=action;return[stateHook,dispatch,false]}function pushSimpleEffect(tag,inst,create,deps){tag={tag,create,deps,inst,next:null};inst=currentlyRenderingFiber.updateQueue;null===inst&&(inst=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=inst);create=inst.lastEffect;null===create?inst.lastEffect=tag.next=tag:(deps=create.next,create.next=tag,tag.next=deps,inst.lastEffect=tag);return tag}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(fiberFlags,hookFlags,create,deps){var hook=mountWorkInProgressHook();currentlyRenderingFiber.flags|=fiberFlags;hook.memoizedState=pushSimpleEffect(1|hookFlags,{destroy:void 0},create,void 0===deps?null:deps)}function updateEffectImpl(fiberFlags,hookFlags,create,deps){var hook=updateWorkInProgressHook();deps=void 0===deps?null:deps;var inst=hook.memoizedState.inst;null!==currentHook&&null!==deps&&areHookInputsEqual(deps,currentHook.memoizedState.deps)?hook.memoizedState=pushSimpleEffect(hookFlags,inst,create,deps):(currentlyRenderingFiber.flags|=fiberFlags,hook.memoizedState=pushSimpleEffect(1|hookFlags,inst,create,deps))}function mountEffect(create,deps){mountEffectImpl(8390656,8,create,deps)}function updateEffect(create,deps){updateEffectImpl(2048,8,create,deps)}function useEffectEventImpl(payload){currentlyRenderingFiber.flags|=4;var componentUpdateQueue=currentlyRenderingFiber.updateQueue;if(null===componentUpdateQueue)componentUpdateQueue=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=componentUpdateQueue,componentUpdateQueue.events=[payload];else{var events=componentUpdateQueue.events;null===events?componentUpdateQueue.events=[payload]:events.push(payload)}}function updateEvent(callback){var ref=updateWorkInProgressHook().memoizedState;useEffectEventImpl({ref,nextImpl:callback});return function(){if(0!==(executionContext&2))throw Error(formatProdErrorMessage(440));return ref.impl.apply(void 0,arguments)}}function updateInsertionEffect(create,deps){return updateEffectImpl(4,2,create,deps)}function updateLayoutEffect(create,deps){return updateEffectImpl(4,4,create,deps)}function imperativeHandleEffect(create,ref){if("function"===typeof ref){create=create();var refCleanup=ref(create);return function(){"function"===typeof refCleanup?refCleanup():ref(null)}}if(null!==ref&&void 0!==ref)return create=create(),ref.current=create,function(){ref.current=null}}function updateImperativeHandle(ref,create,deps){deps=null!==deps&&void 0!==deps?deps.concat([ref]):null;updateEffectImpl(4,4,imperativeHandleEffect.bind(null,create,ref),deps)}function mountDebugValue(){}function updateCallback(callback,deps){var hook=updateWorkInProgressHook();deps=void 0===deps?null:deps;var prevState=hook.memoizedState;if(null!==deps&&areHookInputsEqual(deps,prevState[1]))return prevState[0];hook.memoizedState=[callback,deps];return callback}function updateMemo(nextCreate,deps){var hook=updateWorkInProgressHook();deps=void 0===deps?null:deps;var prevState=hook.memoizedState;if(null!==deps&&areHookInputsEqual(deps,prevState[1]))return prevState[0];prevState=nextCreate();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(true);try{nextCreate()}finally{setIsStrictModeForDevtools(false)}}hook.memoizedState=[prevState,deps];return prevState}function mountDeferredValueImpl(hook,value,initialValue){if(void 0===initialValue||0!==(renderLanes&1073741824)&&0===(workInProgressRootRenderLanes&261930))return hook.memoizedState=value;hook.memoizedState=initialValue;hook=requestDeferredLane();currentlyRenderingFiber.lanes|=hook;workInProgressRootSkippedLanes|=hook;return initialValue}function updateDeferredValueImpl(hook,prevValue,value,initialValue){if(objectIs(value,prevValue))return value;if(null!==currentTreeHiddenStackCursor.current)return hook=mountDeferredValueImpl(hook,value,initialValue),objectIs(hook,prevValue)||(didReceiveUpdate=true),hook;if(0===(renderLanes&42)||0!==(renderLanes&1073741824)&&0===(workInProgressRootRenderLanes&261930))return didReceiveUpdate=true,hook.memoizedState=value;hook=requestDeferredLane();currentlyRenderingFiber.lanes|=hook;workInProgressRootSkippedLanes|=hook;return prevValue}function startTransition(fiber,queue,pendingState,finishedState,callback){var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=0!==previousPriority&&8>previousPriority?previousPriority:8;var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition;dispatchOptimisticSetState(fiber,false,queue,pendingState);try{var returnValue=callback(),onStartTransitionFinish=ReactSharedInternals.S;null!==onStartTransitionFinish&&onStartTransitionFinish(currentTransition,returnValue);if(null!==returnValue&&"object"===typeof returnValue&&"function"===typeof returnValue.then){var thenableForFinishedState=chainThenableValue(returnValue,finishedState);dispatchSetStateInternal(fiber,queue,thenableForFinishedState,requestUpdateLane(fiber))}else dispatchSetStateInternal(fiber,queue,finishedState,requestUpdateLane(fiber))}catch(error){dispatchSetStateInternal(fiber,queue,{then:function(){},status:"rejected",reason:error},requestUpdateLane())}finally{ReactDOMSharedInternals.p=previousPriority,null!==prevTransition&&null!==currentTransition.types&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}}function noop(){}function startHostTransition(formFiber,pendingState,action,formData){if(5!==formFiber.tag)throw Error(formatProdErrorMessage(476));var queue=ensureFormComponentIsStateful(formFiber).queue;startTransition(formFiber,queue,pendingState,sharedNotPendingObject,null===action?noop:function(){requestFormReset$1(formFiber);return action(formData)})}function ensureFormComponentIsStateful(formFiber){var existingStateHook=formFiber.memoizedState;if(null!==existingStateHook)return existingStateHook;existingStateHook={memoizedState:sharedNotPendingObject,baseState:sharedNotPendingObject,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:sharedNotPendingObject},next:null};var initialResetState={};existingStateHook.next={memoizedState:initialResetState,baseState:initialResetState,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:initialResetState},next:null};formFiber.memoizedState=existingStateHook;formFiber=formFiber.alternate;null!==formFiber&&(formFiber.memoizedState=existingStateHook);return existingStateHook}function requestFormReset$1(formFiber){var stateHook=ensureFormComponentIsStateful(formFiber);null===stateHook.next&&(stateHook=formFiber.alternate.memoizedState);dispatchSetStateInternal(formFiber,stateHook.next.queue,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(HostTransitionContext)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(fiber){for(var provider=fiber.return;null!==provider;){switch(provider.tag){case 24:case 3:var lane=requestUpdateLane();fiber=createUpdate(lane);var root$69=enqueueUpdate(provider,fiber,lane);null!==root$69&&(scheduleUpdateOnFiber(root$69,provider,lane),entangleTransitions(root$69,provider,lane));provider={cache:createCache()};fiber.payload=provider;return}provider=provider.return}}function dispatchReducerAction(fiber,queue,action){var lane=requestUpdateLane();action={lane,revertLane:0,gesture:null,action,hasEagerState:false,eagerState:null,next:null};isRenderPhaseUpdate(fiber)?enqueueRenderPhaseUpdate(queue,action):(action=enqueueConcurrentHookUpdate(fiber,queue,action,lane),null!==action&&(scheduleUpdateOnFiber(action,fiber,lane),entangleTransitionUpdate(action,queue,lane)))}function dispatchSetState(fiber,queue,action){var lane=requestUpdateLane();dispatchSetStateInternal(fiber,queue,action,lane)}function dispatchSetStateInternal(fiber,queue,action,lane){var update={lane,revertLane:0,gesture:null,action,hasEagerState:false,eagerState:null,next:null};if(isRenderPhaseUpdate(fiber))enqueueRenderPhaseUpdate(queue,update);else{var alternate=fiber.alternate;if(0===fiber.lanes&&(null===alternate||0===alternate.lanes)&&(alternate=queue.lastRenderedReducer,null!==alternate))try{var currentState=queue.lastRenderedState,eagerState=alternate(currentState,action);update.hasEagerState=true;update.eagerState=eagerState;if(objectIs(eagerState,currentState))return enqueueUpdate$1(fiber,queue,update,0),null===workInProgressRoot&&finishQueueingConcurrentUpdates(),false}catch(error){}finally{}action=enqueueConcurrentHookUpdate(fiber,queue,update,lane);if(null!==action)return scheduleUpdateOnFiber(action,fiber,lane),entangleTransitionUpdate(action,queue,lane),true}return false}function dispatchOptimisticSetState(fiber,throwIfDuringRender,queue,action){action={lane:2,revertLane:requestTransitionLane(),gesture:null,action,hasEagerState:false,eagerState:null,next:null};if(isRenderPhaseUpdate(fiber)){if(throwIfDuringRender)throw Error(formatProdErrorMessage(479))}else throwIfDuringRender=enqueueConcurrentHookUpdate(fiber,queue,action,2),null!==throwIfDuringRender&&scheduleUpdateOnFiber(throwIfDuringRender,fiber,2)}function isRenderPhaseUpdate(fiber){var alternate=fiber.alternate;return fiber===currentlyRenderingFiber||null!==alternate&&alternate===currentlyRenderingFiber}function enqueueRenderPhaseUpdate(queue,update){didScheduleRenderPhaseUpdateDuringThisPass=didScheduleRenderPhaseUpdate=true;var pending=queue.pending;null===pending?update.next=update:(update.next=pending.next,pending.next=update);queue.pending=update}function entangleTransitionUpdate(root3,queue,lane){if(0!==(lane&4194048)){var queueLanes=queue.lanes;queueLanes&=root3.pendingLanes;lane|=queueLanes;queue.lanes=lane;markRootEntangled(root3,lane)}}var ContextOnlyDispatcher={readContext,use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError,useHostTransitionStatus:throwInvalidHookError,useFormState:throwInvalidHookError,useActionState:throwInvalidHookError,useOptimistic:throwInvalidHookError,useMemoCache:throwInvalidHookError,useCacheRefresh:throwInvalidHookError};ContextOnlyDispatcher.useEffectEvent=throwInvalidHookError;var HooksDispatcherOnMount={readContext,use,useCallback:function(callback,deps){mountWorkInProgressHook().memoizedState=[callback,void 0===deps?null:deps];return callback},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(ref,create,deps){deps=null!==deps&&void 0!==deps?deps.concat([ref]):null;mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,create,ref),deps)},useLayoutEffect:function(create,deps){return mountEffectImpl(4194308,4,create,deps)},useInsertionEffect:function(create,deps){mountEffectImpl(4,2,create,deps)},useMemo:function(nextCreate,deps){var hook=mountWorkInProgressHook();deps=void 0===deps?null:deps;var nextValue=nextCreate();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(true);try{nextCreate()}finally{setIsStrictModeForDevtools(false)}}hook.memoizedState=[nextValue,deps];return nextValue},useReducer:function(reducer,initialArg,init){var hook=mountWorkInProgressHook();if(void 0!==init){var initialState=init(initialArg);if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(true);try{init(initialArg)}finally{setIsStrictModeForDevtools(false)}}}else initialState=initialArg;hook.memoizedState=hook.baseState=initialState;reducer={pending:null,lanes:0,dispatch:null,lastRenderedReducer:reducer,lastRenderedState:initialState};hook.queue=reducer;reducer=reducer.dispatch=dispatchReducerAction.bind(null,currentlyRenderingFiber,reducer);return[hook.memoizedState,reducer]},useRef:function(initialValue){var hook=mountWorkInProgressHook();initialValue={current:initialValue};return hook.memoizedState=initialValue},useState:function(initialState){initialState=mountStateImpl(initialState);var queue=initialState.queue,dispatch=dispatchSetState.bind(null,currentlyRenderingFiber,queue);queue.dispatch=dispatch;return[initialState.memoizedState,dispatch]},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=mountWorkInProgressHook();return mountDeferredValueImpl(hook,value,initialValue)},useTransition:function(){var stateHook=mountStateImpl(false);stateHook=startTransition.bind(null,currentlyRenderingFiber,stateHook.queue,true,false);mountWorkInProgressHook().memoizedState=stateHook;return[false,stateHook]},useSyncExternalStore:function(subscribe,getSnapshot,getServerSnapshot){var fiber=currentlyRenderingFiber,hook=mountWorkInProgressHook();if(isHydrating){if(void 0===getServerSnapshot)throw Error(formatProdErrorMessage(407));getServerSnapshot=getServerSnapshot()}else{getServerSnapshot=getSnapshot();if(null===workInProgressRoot)throw Error(formatProdErrorMessage(349));0!==(workInProgressRootRenderLanes&127)||pushStoreConsistencyCheck(fiber,getSnapshot,getServerSnapshot)}hook.memoizedState=getServerSnapshot;var inst={value:getServerSnapshot,getSnapshot};hook.queue=inst;mountEffect(subscribeToStore.bind(null,fiber,inst,subscribe),[subscribe]);fiber.flags|=2048;pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,fiber,inst,getServerSnapshot,getSnapshot),null);return getServerSnapshot},useId:function(){var hook=mountWorkInProgressHook(),identifierPrefix=workInProgressRoot.identifierPrefix;if(isHydrating){var JSCompiler_inline_result=treeContextOverflow;var idWithLeadingBit=treeContextId;JSCompiler_inline_result=(idWithLeadingBit&~(1<<32-clz32(idWithLeadingBit)-1)).toString(32)+JSCompiler_inline_result;identifierPrefix="_"+identifierPrefix+"R_"+JSCompiler_inline_result;JSCompiler_inline_result=localIdCounter++;0<JSCompiler_inline_result&&(identifierPrefix+="H"+JSCompiler_inline_result.toString(32));identifierPrefix+="_"}else JSCompiler_inline_result=globalClientIdCounter++,identifierPrefix="_"+identifierPrefix+"r_"+JSCompiler_inline_result.toString(32)+"_";return hook.memoizedState=identifierPrefix},useHostTransitionStatus,useFormState:mountActionState,useActionState:mountActionState,useOptimistic:function(passthrough){var hook=mountWorkInProgressHook();hook.memoizedState=hook.baseState=passthrough;var queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};hook.queue=queue;hook=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber,true,queue);queue.dispatch=hook;return[passthrough,hook]},useMemoCache,useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,currentlyRenderingFiber)},useEffectEvent:function(callback){var hook=mountWorkInProgressHook(),ref={impl:callback};hook.memoizedState=ref;return function(){if(0!==(executionContext&2))throw Error(formatProdErrorMessage(440));return ref.impl.apply(void 0,arguments)}}};var HooksDispatcherOnUpdate={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=updateWorkInProgressHook();return updateDeferredValueImpl(hook,currentHook.memoizedState,value,initialValue)},useTransition:function(){var booleanOrThenable=updateReducer(basicStateReducer)[0],start=updateWorkInProgressHook().memoizedState;return["boolean"===typeof booleanOrThenable?booleanOrThenable:useThenable(booleanOrThenable),start]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus,useFormState:updateActionState,useActionState:updateActionState,useOptimistic:function(passthrough,reducer){var hook=updateWorkInProgressHook();return updateOptimisticImpl(hook,currentHook,passthrough,reducer)},useMemoCache,useCacheRefresh:updateRefresh};HooksDispatcherOnUpdate.useEffectEvent=updateEvent;var HooksDispatcherOnRerender={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=updateWorkInProgressHook();return null===currentHook?mountDeferredValueImpl(hook,value,initialValue):updateDeferredValueImpl(hook,currentHook.memoizedState,value,initialValue)},useTransition:function(){var booleanOrThenable=rerenderReducer(basicStateReducer)[0],start=updateWorkInProgressHook().memoizedState;return["boolean"===typeof booleanOrThenable?booleanOrThenable:useThenable(booleanOrThenable),start]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus,useFormState:rerenderActionState,useActionState:rerenderActionState,useOptimistic:function(passthrough,reducer){var hook=updateWorkInProgressHook();if(null!==currentHook)return updateOptimisticImpl(hook,currentHook,passthrough,reducer);hook.baseState=passthrough;return[passthrough,hook.queue.dispatch]},useMemoCache,useCacheRefresh:updateRefresh};HooksDispatcherOnRerender.useEffectEvent=updateEvent;function applyDerivedStateFromProps(workInProgress2,ctor,getDerivedStateFromProps,nextProps){ctor=workInProgress2.memoizedState;getDerivedStateFromProps=getDerivedStateFromProps(nextProps,ctor);getDerivedStateFromProps=null===getDerivedStateFromProps||void 0===getDerivedStateFromProps?ctor:assign({},ctor,getDerivedStateFromProps);workInProgress2.memoizedState=getDerivedStateFromProps;0===workInProgress2.lanes&&(workInProgress2.updateQueue.baseState=getDerivedStateFromProps)}var classComponentUpdater={enqueueSetState:function(inst,payload,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.payload=payload;void 0!==callback&&null!==callback&&(update.callback=callback);payload=enqueueUpdate(inst,update,lane);null!==payload&&(scheduleUpdateOnFiber(payload,inst,lane),entangleTransitions(payload,inst,lane))},enqueueReplaceState:function(inst,payload,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.tag=1;update.payload=payload;void 0!==callback&&null!==callback&&(update.callback=callback);payload=enqueueUpdate(inst,update,lane);null!==payload&&(scheduleUpdateOnFiber(payload,inst,lane),entangleTransitions(payload,inst,lane))},enqueueForceUpdate:function(inst,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.tag=2;void 0!==callback&&null!==callback&&(update.callback=callback);callback=enqueueUpdate(inst,update,lane);null!==callback&&(scheduleUpdateOnFiber(callback,inst,lane),entangleTransitions(callback,inst,lane))}};function checkShouldComponentUpdate(workInProgress2,ctor,oldProps,newProps,oldState,newState,nextContext){workInProgress2=workInProgress2.stateNode;return"function"===typeof workInProgress2.shouldComponentUpdate?workInProgress2.shouldComponentUpdate(newProps,newState,nextContext):ctor.prototype&&ctor.prototype.isPureReactComponent?!shallowEqual(oldProps,newProps)||!shallowEqual(oldState,newState):true}function callComponentWillReceiveProps(workInProgress2,instance,newProps,nextContext){workInProgress2=instance.state;"function"===typeof instance.componentWillReceiveProps&&instance.componentWillReceiveProps(newProps,nextContext);"function"===typeof instance.UNSAFE_componentWillReceiveProps&&instance.UNSAFE_componentWillReceiveProps(newProps,nextContext);instance.state!==workInProgress2&&classComponentUpdater.enqueueReplaceState(instance,instance.state,null)}function resolveClassComponentProps(Component,baseProps){var newProps=baseProps;if("ref"in baseProps){newProps={};for(var propName in baseProps)"ref"!==propName&&(newProps[propName]=baseProps[propName])}if(Component=Component.defaultProps){newProps===baseProps&&(newProps=assign({},newProps));for(var propName$73 in Component)void 0===newProps[propName$73]&&(newProps[propName$73]=Component[propName$73])}return newProps}function defaultOnUncaughtError(error){reportGlobalError(error)}function defaultOnCaughtError(error){console.error(error)}function defaultOnRecoverableError(error){reportGlobalError(error)}function logUncaughtError(root3,errorInfo){try{var onUncaughtError=root3.onUncaughtError;onUncaughtError(errorInfo.value,{componentStack:errorInfo.stack})}catch(e$74){setTimeout(function(){throw e$74})}}function logCaughtError(root3,boundary,errorInfo){try{var onCaughtError=root3.onCaughtError;onCaughtError(errorInfo.value,{componentStack:errorInfo.stack,errorBoundary:1===boundary.tag?boundary.stateNode:null})}catch(e$75){setTimeout(function(){throw e$75})}}function createRootErrorUpdate(root3,errorInfo,lane){lane=createUpdate(lane);lane.tag=3;lane.payload={element:null};lane.callback=function(){logUncaughtError(root3,errorInfo)};return lane}function createClassErrorUpdate(lane){lane=createUpdate(lane);lane.tag=3;return lane}function initializeClassErrorUpdate(update,root3,fiber,errorInfo){var getDerivedStateFromError=fiber.type.getDerivedStateFromError;if("function"===typeof getDerivedStateFromError){var error=errorInfo.value;update.payload=function(){return getDerivedStateFromError(error)};update.callback=function(){logCaughtError(root3,fiber,errorInfo)}}var inst=fiber.stateNode;null!==inst&&"function"===typeof inst.componentDidCatch&&(update.callback=function(){logCaughtError(root3,fiber,errorInfo);"function"!==typeof getDerivedStateFromError&&(null===legacyErrorBoundariesThatAlreadyFailed?legacyErrorBoundariesThatAlreadyFailed=new Set([this]):legacyErrorBoundariesThatAlreadyFailed.add(this));var stack=errorInfo.stack;this.componentDidCatch(errorInfo.value,{componentStack:null!==stack?stack:""})})}function throwException(root3,returnFiber,sourceFiber,value,rootRenderLanes){sourceFiber.flags|=32768;if(null!==value&&"object"===typeof value&&"function"===typeof value.then){returnFiber=sourceFiber.alternate;null!==returnFiber&&propagateParentContextChanges(returnFiber,sourceFiber,rootRenderLanes,true);sourceFiber=suspenseHandlerStackCursor.current;if(null!==sourceFiber){switch(sourceFiber.tag){case 31:case 13:return null===shellBoundary?renderDidSuspendDelayIfPossible():null===sourceFiber.alternate&&0===workInProgressRootExitStatus&&(workInProgressRootExitStatus=3),sourceFiber.flags&=-257,sourceFiber.flags|=65536,sourceFiber.lanes=rootRenderLanes,value===noopSuspenseyCommitThenable?sourceFiber.flags|=16384:(returnFiber=sourceFiber.updateQueue,null===returnFiber?sourceFiber.updateQueue=new Set([value]):returnFiber.add(value),attachPingListener(root3,value,rootRenderLanes)),false;case 22:return sourceFiber.flags|=65536,value===noopSuspenseyCommitThenable?sourceFiber.flags|=16384:(returnFiber=sourceFiber.updateQueue,null===returnFiber?(returnFiber={transitions:null,markerInstances:null,retryQueue:new Set([value])},sourceFiber.updateQueue=returnFiber):(sourceFiber=returnFiber.retryQueue,null===sourceFiber?returnFiber.retryQueue=new Set([value]):sourceFiber.add(value)),attachPingListener(root3,value,rootRenderLanes)),false}throw Error(formatProdErrorMessage(435,sourceFiber.tag))}attachPingListener(root3,value,rootRenderLanes);renderDidSuspendDelayIfPossible();return false}if(isHydrating)return returnFiber=suspenseHandlerStackCursor.current,null!==returnFiber?(0===(returnFiber.flags&65536)&&(returnFiber.flags|=256),returnFiber.flags|=65536,returnFiber.lanes=rootRenderLanes,value!==HydrationMismatchException&&(root3=Error(formatProdErrorMessage(422),{cause:value}),queueHydrationError(createCapturedValueAtFiber(root3,sourceFiber)))):(value!==HydrationMismatchException&&(returnFiber=Error(formatProdErrorMessage(423),{cause:value}),queueHydrationError(createCapturedValueAtFiber(returnFiber,sourceFiber))),root3=root3.current.alternate,root3.flags|=65536,rootRenderLanes&=-rootRenderLanes,root3.lanes|=rootRenderLanes,value=createCapturedValueAtFiber(value,sourceFiber),rootRenderLanes=createRootErrorUpdate(root3.stateNode,value,rootRenderLanes),enqueueCapturedUpdate(root3,rootRenderLanes),4!==workInProgressRootExitStatus&&(workInProgressRootExitStatus=2)),false;var wrapperError=Error(formatProdErrorMessage(520),{cause:value});wrapperError=createCapturedValueAtFiber(wrapperError,sourceFiber);null===workInProgressRootConcurrentErrors?workInProgressRootConcurrentErrors=[wrapperError]:workInProgressRootConcurrentErrors.push(wrapperError);4!==workInProgressRootExitStatus&&(workInProgressRootExitStatus=2);if(null===returnFiber)return true;value=createCapturedValueAtFiber(value,sourceFiber);sourceFiber=returnFiber;do{switch(sourceFiber.tag){case 3:return sourceFiber.flags|=65536,root3=rootRenderLanes&-rootRenderLanes,sourceFiber.lanes|=root3,root3=createRootErrorUpdate(sourceFiber.stateNode,value,root3),enqueueCapturedUpdate(sourceFiber,root3),false;case 1:if(returnFiber=sourceFiber.type,wrapperError=sourceFiber.stateNode,0===(sourceFiber.flags&128)&&("function"===typeof returnFiber.getDerivedStateFromError||null!==wrapperError&&"function"===typeof wrapperError.componentDidCatch&&(null===legacyErrorBoundariesThatAlreadyFailed||!legacyErrorBoundariesThatAlreadyFailed.has(wrapperError))))return sourceFiber.flags|=65536,rootRenderLanes&=-rootRenderLanes,sourceFiber.lanes|=rootRenderLanes,rootRenderLanes=createClassErrorUpdate(rootRenderLanes),initializeClassErrorUpdate(rootRenderLanes,root3,sourceFiber,value),enqueueCapturedUpdate(sourceFiber,rootRenderLanes),false}sourceFiber=sourceFiber.return}while(null!==sourceFiber);return false}var SelectiveHydrationException=Error(formatProdErrorMessage(461));var didReceiveUpdate=false;function reconcileChildren(current,workInProgress2,nextChildren,renderLanes2){workInProgress2.child=null===current?mountChildFibers(workInProgress2,null,nextChildren,renderLanes2):reconcileChildFibers(workInProgress2,current.child,nextChildren,renderLanes2)}function updateForwardRef(current,workInProgress2,Component,nextProps,renderLanes2){Component=Component.render;var ref=workInProgress2.ref;if("ref"in nextProps){var propsWithoutRef={};for(var key in nextProps)"ref"!==key&&(propsWithoutRef[key]=nextProps[key])}else propsWithoutRef=nextProps;prepareToReadContext(workInProgress2);nextProps=renderWithHooks(current,workInProgress2,Component,propsWithoutRef,ref,renderLanes2);key=checkDidRenderIdHook();if(null!==current&&!didReceiveUpdate)return bailoutHooks(current,workInProgress2,renderLanes2),bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);isHydrating&&key&&pushMaterializedTreeId(workInProgress2);workInProgress2.flags|=1;reconcileChildren(current,workInProgress2,nextProps,renderLanes2);return workInProgress2.child}function updateMemoComponent(current,workInProgress2,Component,nextProps,renderLanes2){if(null===current){var type=Component.type;if("function"===typeof type&&!shouldConstruct(type)&&void 0===type.defaultProps&&null===Component.compare)return workInProgress2.tag=15,workInProgress2.type=type,updateSimpleMemoComponent(current,workInProgress2,type,nextProps,renderLanes2);current=createFiberFromTypeAndProps(Component.type,null,nextProps,workInProgress2,workInProgress2.mode,renderLanes2);current.ref=workInProgress2.ref;current.return=workInProgress2;return workInProgress2.child=current}type=current.child;if(!checkScheduledUpdateOrContext(current,renderLanes2)){var prevProps=type.memoizedProps;Component=Component.compare;Component=null!==Component?Component:shallowEqual;if(Component(prevProps,nextProps)&&current.ref===workInProgress2.ref)return bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2)}workInProgress2.flags|=1;current=createWorkInProgress(type,nextProps);current.ref=workInProgress2.ref;current.return=workInProgress2;return workInProgress2.child=current}function updateSimpleMemoComponent(current,workInProgress2,Component,nextProps,renderLanes2){if(null!==current){var prevProps=current.memoizedProps;if(shallowEqual(prevProps,nextProps)&&current.ref===workInProgress2.ref)if(didReceiveUpdate=false,workInProgress2.pendingProps=nextProps=prevProps,checkScheduledUpdateOrContext(current,renderLanes2))0!==(current.flags&131072)&&(didReceiveUpdate=true);else return workInProgress2.lanes=current.lanes,bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2)}return updateFunctionComponent(current,workInProgress2,Component,nextProps,renderLanes2)}function updateOffscreenComponent(current,workInProgress2,renderLanes2,nextProps){var nextChildren=nextProps.children,prevState=null!==current?current.memoizedState:null;null===current&&null===workInProgress2.stateNode&&(workInProgress2.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null});if("hidden"===nextProps.mode){if(0!==(workInProgress2.flags&128)){prevState=null!==prevState?prevState.baseLanes|renderLanes2:renderLanes2;if(null!==current){nextProps=workInProgress2.child=current.child;for(nextChildren=0;null!==nextProps;)nextChildren=nextChildren|nextProps.lanes|nextProps.childLanes,nextProps=nextProps.sibling;nextProps=nextChildren&~prevState}else nextProps=0,workInProgress2.child=null;return deferHiddenOffscreenComponent(current,workInProgress2,prevState,renderLanes2,nextProps)}if(0!==(renderLanes2&536870912))workInProgress2.memoizedState={baseLanes:0,cachePool:null},null!==current&&pushTransition(workInProgress2,null!==prevState?prevState.cachePool:null),null!==prevState?pushHiddenContext(workInProgress2,prevState):reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(workInProgress2);else return nextProps=workInProgress2.lanes=536870912,deferHiddenOffscreenComponent(current,workInProgress2,null!==prevState?prevState.baseLanes|renderLanes2:renderLanes2,renderLanes2,nextProps)}else null!==prevState?(pushTransition(workInProgress2,prevState.cachePool),pushHiddenContext(workInProgress2,prevState),reuseSuspenseHandlerOnStack(workInProgress2),workInProgress2.memoizedState=null):(null!==current&&pushTransition(workInProgress2,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack(workInProgress2));reconcileChildren(current,workInProgress2,nextChildren,renderLanes2);return workInProgress2.child}function bailoutOffscreenComponent(current,workInProgress2){null!==current&&22===current.tag||null!==workInProgress2.stateNode||(workInProgress2.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null});return workInProgress2.sibling}function deferHiddenOffscreenComponent(current,workInProgress2,nextBaseLanes,renderLanes2,remainingChildLanes){var JSCompiler_inline_result=peekCacheFromPool();JSCompiler_inline_result=null===JSCompiler_inline_result?null:{parent:CacheContext._currentValue,pool:JSCompiler_inline_result};workInProgress2.memoizedState={baseLanes:nextBaseLanes,cachePool:JSCompiler_inline_result};null!==current&&pushTransition(workInProgress2,null);reuseHiddenContextOnStack();pushOffscreenSuspenseHandler(workInProgress2);null!==current&&propagateParentContextChanges(current,workInProgress2,renderLanes2,true);workInProgress2.childLanes=remainingChildLanes;return null}function mountActivityChildren(workInProgress2,nextProps){nextProps=mountWorkInProgressOffscreenFiber({mode:nextProps.mode,children:nextProps.children},workInProgress2.mode);nextProps.ref=workInProgress2.ref;workInProgress2.child=nextProps;nextProps.return=workInProgress2;return nextProps}function retryActivityComponentWithoutHydrating(current,workInProgress2,renderLanes2){reconcileChildFibers(workInProgress2,current.child,null,renderLanes2);current=mountActivityChildren(workInProgress2,workInProgress2.pendingProps);current.flags|=2;popSuspenseHandler(workInProgress2);workInProgress2.memoizedState=null;return current}function updateActivityComponent(current,workInProgress2,renderLanes2){var nextProps=workInProgress2.pendingProps,didSuspend=0!==(workInProgress2.flags&128);workInProgress2.flags&=-129;if(null===current){if(isHydrating){if("hidden"===nextProps.mode)return current=mountActivityChildren(workInProgress2,nextProps),workInProgress2.lanes=536870912,bailoutOffscreenComponent(null,current);pushDehydratedActivitySuspenseHandler(workInProgress2);(current=nextHydratableInstance)?(current=canHydrateHydrationBoundary(current,rootOrSingletonContext),current=null!==current&&"&"===current.data?current:null,null!==current&&(workInProgress2.memoizedState={dehydrated:current,treeContext:null!==treeContextProvider?{id:treeContextId,overflow:treeContextOverflow}:null,retryLane:536870912,hydrationErrors:null},renderLanes2=createFiberFromDehydratedFragment(current),renderLanes2.return=workInProgress2,workInProgress2.child=renderLanes2,hydrationParentFiber=workInProgress2,nextHydratableInstance=null)):current=null;if(null===current)throw throwOnHydrationMismatch(workInProgress2);workInProgress2.lanes=536870912;return null}return mountActivityChildren(workInProgress2,nextProps)}var prevState=current.memoizedState;if(null!==prevState){var dehydrated=prevState.dehydrated;pushDehydratedActivitySuspenseHandler(workInProgress2);if(didSuspend)if(workInProgress2.flags&256)workInProgress2.flags&=-257,workInProgress2=retryActivityComponentWithoutHydrating(current,workInProgress2,renderLanes2);else if(null!==workInProgress2.memoizedState)workInProgress2.child=current.child,workInProgress2.flags|=128,workInProgress2=null;else throw Error(formatProdErrorMessage(558));else if(didReceiveUpdate||propagateParentContextChanges(current,workInProgress2,renderLanes2,false),didSuspend=0!==(renderLanes2&current.childLanes),didReceiveUpdate||didSuspend){nextProps=workInProgressRoot;if(null!==nextProps&&(dehydrated=getBumpedLaneForHydration(nextProps,renderLanes2),0!==dehydrated&&dehydrated!==prevState.retryLane))throw prevState.retryLane=dehydrated,enqueueConcurrentRenderForLane(current,dehydrated),scheduleUpdateOnFiber(nextProps,current,dehydrated),SelectiveHydrationException;renderDidSuspendDelayIfPossible();workInProgress2=retryActivityComponentWithoutHydrating(current,workInProgress2,renderLanes2)}else current=prevState.treeContext,nextHydratableInstance=getNextHydratable(dehydrated.nextSibling),hydrationParentFiber=workInProgress2,isHydrating=true,hydrationErrors=null,rootOrSingletonContext=false,null!==current&&restoreSuspendedTreeContext(workInProgress2,current),workInProgress2=mountActivityChildren(workInProgress2,nextProps),workInProgress2.flags|=4096;return workInProgress2}current=createWorkInProgress(current.child,{mode:nextProps.mode,children:nextProps.children});current.ref=workInProgress2.ref;workInProgress2.child=current;current.return=workInProgress2;return current}function markRef(current,workInProgress2){var ref=workInProgress2.ref;if(null===ref)null!==current&&null!==current.ref&&(workInProgress2.flags|=4194816);else{if("function"!==typeof ref&&"object"!==typeof ref)throw Error(formatProdErrorMessage(284));if(null===current||current.ref!==ref)workInProgress2.flags|=4194816}}function updateFunctionComponent(current,workInProgress2,Component,nextProps,renderLanes2){prepareToReadContext(workInProgress2);Component=renderWithHooks(current,workInProgress2,Component,nextProps,void 0,renderLanes2);nextProps=checkDidRenderIdHook();if(null!==current&&!didReceiveUpdate)return bailoutHooks(current,workInProgress2,renderLanes2),bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);isHydrating&&nextProps&&pushMaterializedTreeId(workInProgress2);workInProgress2.flags|=1;reconcileChildren(current,workInProgress2,Component,renderLanes2);return workInProgress2.child}function replayFunctionComponent(current,workInProgress2,nextProps,Component,secondArg,renderLanes2){prepareToReadContext(workInProgress2);workInProgress2.updateQueue=null;nextProps=renderWithHooksAgain(workInProgress2,Component,nextProps,secondArg);finishRenderingHooks(current);Component=checkDidRenderIdHook();if(null!==current&&!didReceiveUpdate)return bailoutHooks(current,workInProgress2,renderLanes2),bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);isHydrating&&Component&&pushMaterializedTreeId(workInProgress2);workInProgress2.flags|=1;reconcileChildren(current,workInProgress2,nextProps,renderLanes2);return workInProgress2.child}function updateClassComponent(current,workInProgress2,Component,nextProps,renderLanes2){prepareToReadContext(workInProgress2);if(null===workInProgress2.stateNode){var context=emptyContextObject,contextType=Component.contextType;"object"===typeof contextType&&null!==contextType&&(context=readContext(contextType));context=new Component(nextProps,context);workInProgress2.memoizedState=null!==context.state&&void 0!==context.state?context.state:null;context.updater=classComponentUpdater;workInProgress2.stateNode=context;context._reactInternals=workInProgress2;context=workInProgress2.stateNode;context.props=nextProps;context.state=workInProgress2.memoizedState;context.refs={};initializeUpdateQueue(workInProgress2);contextType=Component.contextType;context.context="object"===typeof contextType&&null!==contextType?readContext(contextType):emptyContextObject;context.state=workInProgress2.memoizedState;contextType=Component.getDerivedStateFromProps;"function"===typeof contextType&&(applyDerivedStateFromProps(workInProgress2,Component,contextType,nextProps),context.state=workInProgress2.memoizedState);"function"===typeof Component.getDerivedStateFromProps||"function"===typeof context.getSnapshotBeforeUpdate||"function"!==typeof context.UNSAFE_componentWillMount&&"function"!==typeof context.componentWillMount||(contextType=context.state,"function"===typeof context.componentWillMount&&context.componentWillMount(),"function"===typeof context.UNSAFE_componentWillMount&&context.UNSAFE_componentWillMount(),contextType!==context.state&&classComponentUpdater.enqueueReplaceState(context,context.state,null),processUpdateQueue(workInProgress2,nextProps,context,renderLanes2),suspendIfUpdateReadFromEntangledAsyncAction(),context.state=workInProgress2.memoizedState);"function"===typeof context.componentDidMount&&(workInProgress2.flags|=4194308);nextProps=true}else if(null===current){context=workInProgress2.stateNode;var unresolvedOldProps=workInProgress2.memoizedProps,oldProps=resolveClassComponentProps(Component,unresolvedOldProps);context.props=oldProps;var oldContext=context.context,contextType$jscomp$0=Component.contextType;contextType=emptyContextObject;"object"===typeof contextType$jscomp$0&&null!==contextType$jscomp$0&&(contextType=readContext(contextType$jscomp$0));var getDerivedStateFromProps=Component.getDerivedStateFromProps;contextType$jscomp$0="function"===typeof getDerivedStateFromProps||"function"===typeof context.getSnapshotBeforeUpdate;unresolvedOldProps=workInProgress2.pendingProps!==unresolvedOldProps;contextType$jscomp$0||"function"!==typeof context.UNSAFE_componentWillReceiveProps&&"function"!==typeof context.componentWillReceiveProps||(unresolvedOldProps||oldContext!==contextType)&&callComponentWillReceiveProps(workInProgress2,context,nextProps,contextType);hasForceUpdate=false;var oldState=workInProgress2.memoizedState;context.state=oldState;processUpdateQueue(workInProgress2,nextProps,context,renderLanes2);suspendIfUpdateReadFromEntangledAsyncAction();oldContext=workInProgress2.memoizedState;unresolvedOldProps||oldState!==oldContext||hasForceUpdate?("function"===typeof getDerivedStateFromProps&&(applyDerivedStateFromProps(workInProgress2,Component,getDerivedStateFromProps,nextProps),oldContext=workInProgress2.memoizedState),(oldProps=hasForceUpdate||checkShouldComponentUpdate(workInProgress2,Component,oldProps,nextProps,oldState,oldContext,contextType))?(contextType$jscomp$0||"function"!==typeof context.UNSAFE_componentWillMount&&"function"!==typeof context.componentWillMount||("function"===typeof context.componentWillMount&&context.componentWillMount(),"function"===typeof context.UNSAFE_componentWillMount&&context.UNSAFE_componentWillMount()),"function"===typeof context.componentDidMount&&(workInProgress2.flags|=4194308)):("function"===typeof context.componentDidMount&&(workInProgress2.flags|=4194308),workInProgress2.memoizedProps=nextProps,workInProgress2.memoizedState=oldContext),context.props=nextProps,context.state=oldContext,context.context=contextType,nextProps=oldProps):("function"===typeof context.componentDidMount&&(workInProgress2.flags|=4194308),nextProps=false)}else{context=workInProgress2.stateNode;cloneUpdateQueue(current,workInProgress2);contextType=workInProgress2.memoizedProps;contextType$jscomp$0=resolveClassComponentProps(Component,contextType);context.props=contextType$jscomp$0;getDerivedStateFromProps=workInProgress2.pendingProps;oldState=context.context;oldContext=Component.contextType;oldProps=emptyContextObject;"object"===typeof oldContext&&null!==oldContext&&(oldProps=readContext(oldContext));unresolvedOldProps=Component.getDerivedStateFromProps;(oldContext="function"===typeof unresolvedOldProps||"function"===typeof context.getSnapshotBeforeUpdate)||"function"!==typeof context.UNSAFE_componentWillReceiveProps&&"function"!==typeof context.componentWillReceiveProps||(contextType!==getDerivedStateFromProps||oldState!==oldProps)&&callComponentWillReceiveProps(workInProgress2,context,nextProps,oldProps);hasForceUpdate=false;oldState=workInProgress2.memoizedState;context.state=oldState;processUpdateQueue(workInProgress2,nextProps,context,renderLanes2);suspendIfUpdateReadFromEntangledAsyncAction();var newState=workInProgress2.memoizedState;contextType!==getDerivedStateFromProps||oldState!==newState||hasForceUpdate||null!==current&&null!==current.dependencies&&checkIfContextChanged(current.dependencies)?("function"===typeof unresolvedOldProps&&(applyDerivedStateFromProps(workInProgress2,Component,unresolvedOldProps,nextProps),newState=workInProgress2.memoizedState),(contextType$jscomp$0=hasForceUpdate||checkShouldComponentUpdate(workInProgress2,Component,contextType$jscomp$0,nextProps,oldState,newState,oldProps)||null!==current&&null!==current.dependencies&&checkIfContextChanged(current.dependencies))?(oldContext||"function"!==typeof context.UNSAFE_componentWillUpdate&&"function"!==typeof context.componentWillUpdate||("function"===typeof context.componentWillUpdate&&context.componentWillUpdate(nextProps,newState,oldProps),"function"===typeof context.UNSAFE_componentWillUpdate&&context.UNSAFE_componentWillUpdate(nextProps,newState,oldProps)),"function"===typeof context.componentDidUpdate&&(workInProgress2.flags|=4),"function"===typeof context.getSnapshotBeforeUpdate&&(workInProgress2.flags|=1024)):("function"!==typeof context.componentDidUpdate||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress2.flags|=4),"function"!==typeof context.getSnapshotBeforeUpdate||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress2.flags|=1024),workInProgress2.memoizedProps=nextProps,workInProgress2.memoizedState=newState),context.props=nextProps,context.state=newState,context.context=oldProps,nextProps=contextType$jscomp$0):("function"!==typeof context.componentDidUpdate||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress2.flags|=4),"function"!==typeof context.getSnapshotBeforeUpdate||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress2.flags|=1024),nextProps=false)}context=nextProps;markRef(current,workInProgress2);nextProps=0!==(workInProgress2.flags&128);context||nextProps?(context=workInProgress2.stateNode,Component=nextProps&&"function"!==typeof Component.getDerivedStateFromError?null:context.render(),workInProgress2.flags|=1,null!==current&&nextProps?(workInProgress2.child=reconcileChildFibers(workInProgress2,current.child,null,renderLanes2),workInProgress2.child=reconcileChildFibers(workInProgress2,null,Component,renderLanes2)):reconcileChildren(current,workInProgress2,Component,renderLanes2),workInProgress2.memoizedState=context.state,current=workInProgress2.child):current=bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);return current}function mountHostRootWithoutHydrating(current,workInProgress2,nextChildren,renderLanes2){resetHydrationState();workInProgress2.flags|=256;reconcileChildren(current,workInProgress2,nextChildren,renderLanes2);return workInProgress2.child}var SUSPENDED_MARKER={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mountSuspenseOffscreenState(renderLanes2){return{baseLanes:renderLanes2,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(current,primaryTreeDidDefer,renderLanes2){current=null!==current?current.childLanes&~renderLanes2:0;primaryTreeDidDefer&&(current|=workInProgressDeferredLane);return current}function updateSuspenseComponent(current,workInProgress2,renderLanes2){var nextProps=workInProgress2.pendingProps,showFallback=false,didSuspend=0!==(workInProgress2.flags&128),JSCompiler_temp;(JSCompiler_temp=didSuspend)||(JSCompiler_temp=null!==current&&null===current.memoizedState?false:0!==(suspenseStackCursor.current&2));JSCompiler_temp&&(showFallback=true,workInProgress2.flags&=-129);JSCompiler_temp=0!==(workInProgress2.flags&32);workInProgress2.flags&=-33;if(null===current){if(isHydrating){showFallback?pushPrimaryTreeSuspenseHandler(workInProgress2):reuseSuspenseHandlerOnStack(workInProgress2);(current=nextHydratableInstance)?(current=canHydrateHydrationBoundary(current,rootOrSingletonContext),current=null!==current&&"&"!==current.data?current:null,null!==current&&(workInProgress2.memoizedState={dehydrated:current,treeContext:null!==treeContextProvider?{id:treeContextId,overflow:treeContextOverflow}:null,retryLane:536870912,hydrationErrors:null},renderLanes2=createFiberFromDehydratedFragment(current),renderLanes2.return=workInProgress2,workInProgress2.child=renderLanes2,hydrationParentFiber=workInProgress2,nextHydratableInstance=null)):current=null;if(null===current)throw throwOnHydrationMismatch(workInProgress2);isSuspenseInstanceFallback(current)?workInProgress2.lanes=32:workInProgress2.lanes=536870912;return null}var nextPrimaryChildren=nextProps.children;nextProps=nextProps.fallback;if(showFallback)return reuseSuspenseHandlerOnStack(workInProgress2),showFallback=workInProgress2.mode,nextPrimaryChildren=mountWorkInProgressOffscreenFiber({mode:"hidden",children:nextPrimaryChildren},showFallback),nextProps=createFiberFromFragment(nextProps,showFallback,renderLanes2,null),nextPrimaryChildren.return=workInProgress2,nextProps.return=workInProgress2,nextPrimaryChildren.sibling=nextProps,workInProgress2.child=nextPrimaryChildren,nextProps=workInProgress2.child,nextProps.memoizedState=mountSuspenseOffscreenState(renderLanes2),nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes2),workInProgress2.memoizedState=SUSPENDED_MARKER,bailoutOffscreenComponent(null,nextProps);pushPrimaryTreeSuspenseHandler(workInProgress2);return mountSuspensePrimaryChildren(workInProgress2,nextPrimaryChildren)}var prevState=current.memoizedState;if(null!==prevState&&(nextPrimaryChildren=prevState.dehydrated,null!==nextPrimaryChildren)){if(didSuspend)workInProgress2.flags&256?(pushPrimaryTreeSuspenseHandler(workInProgress2),workInProgress2.flags&=-257,workInProgress2=retrySuspenseComponentWithoutHydrating(current,workInProgress2,renderLanes2)):null!==workInProgress2.memoizedState?(reuseSuspenseHandlerOnStack(workInProgress2),workInProgress2.child=current.child,workInProgress2.flags|=128,workInProgress2=null):(reuseSuspenseHandlerOnStack(workInProgress2),nextPrimaryChildren=nextProps.fallback,showFallback=workInProgress2.mode,nextProps=mountWorkInProgressOffscreenFiber({mode:"visible",children:nextProps.children},showFallback),nextPrimaryChildren=createFiberFromFragment(nextPrimaryChildren,showFallback,renderLanes2,null),nextPrimaryChildren.flags|=2,nextProps.return=workInProgress2,nextPrimaryChildren.return=workInProgress2,nextProps.sibling=nextPrimaryChildren,workInProgress2.child=nextProps,reconcileChildFibers(workInProgress2,current.child,null,renderLanes2),nextProps=workInProgress2.child,nextProps.memoizedState=mountSuspenseOffscreenState(renderLanes2),nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes2),workInProgress2.memoizedState=SUSPENDED_MARKER,workInProgress2=bailoutOffscreenComponent(null,nextProps));else if(pushPrimaryTreeSuspenseHandler(workInProgress2),isSuspenseInstanceFallback(nextPrimaryChildren)){JSCompiler_temp=nextPrimaryChildren.nextSibling&&nextPrimaryChildren.nextSibling.dataset;if(JSCompiler_temp)var digest=JSCompiler_temp.dgst;JSCompiler_temp=digest;nextProps=Error(formatProdErrorMessage(419));nextProps.stack="";nextProps.digest=JSCompiler_temp;queueHydrationError({value:nextProps,source:null,stack:null});workInProgress2=retrySuspenseComponentWithoutHydrating(current,workInProgress2,renderLanes2)}else if(didReceiveUpdate||propagateParentContextChanges(current,workInProgress2,renderLanes2,false),JSCompiler_temp=0!==(renderLanes2&current.childLanes),didReceiveUpdate||JSCompiler_temp){JSCompiler_temp=workInProgressRoot;if(null!==JSCompiler_temp&&(nextProps=getBumpedLaneForHydration(JSCompiler_temp,renderLanes2),0!==nextProps&&nextProps!==prevState.retryLane))throw prevState.retryLane=nextProps,enqueueConcurrentRenderForLane(current,nextProps),scheduleUpdateOnFiber(JSCompiler_temp,current,nextProps),SelectiveHydrationException;isSuspenseInstancePending(nextPrimaryChildren)||renderDidSuspendDelayIfPossible();workInProgress2=retrySuspenseComponentWithoutHydrating(current,workInProgress2,renderLanes2)}else isSuspenseInstancePending(nextPrimaryChildren)?(workInProgress2.flags|=192,workInProgress2.child=current.child,workInProgress2=null):(current=prevState.treeContext,nextHydratableInstance=getNextHydratable(nextPrimaryChildren.nextSibling),hydrationParentFiber=workInProgress2,isHydrating=true,hydrationErrors=null,rootOrSingletonContext=false,null!==current&&restoreSuspendedTreeContext(workInProgress2,current),workInProgress2=mountSuspensePrimaryChildren(workInProgress2,nextProps.children),workInProgress2.flags|=4096);return workInProgress2}if(showFallback)return reuseSuspenseHandlerOnStack(workInProgress2),nextPrimaryChildren=nextProps.fallback,showFallback=workInProgress2.mode,prevState=current.child,digest=prevState.sibling,nextProps=createWorkInProgress(prevState,{mode:"hidden",children:nextProps.children}),nextProps.subtreeFlags=prevState.subtreeFlags&65011712,null!==digest?nextPrimaryChildren=createWorkInProgress(digest,nextPrimaryChildren):(nextPrimaryChildren=createFiberFromFragment(nextPrimaryChildren,showFallback,renderLanes2,null),nextPrimaryChildren.flags|=2),nextPrimaryChildren.return=workInProgress2,nextProps.return=workInProgress2,nextProps.sibling=nextPrimaryChildren,workInProgress2.child=nextProps,bailoutOffscreenComponent(null,nextProps),nextProps=workInProgress2.child,nextPrimaryChildren=current.child.memoizedState,null===nextPrimaryChildren?nextPrimaryChildren=mountSuspenseOffscreenState(renderLanes2):(showFallback=nextPrimaryChildren.cachePool,null!==showFallback?(prevState=CacheContext._currentValue,showFallback=showFallback.parent!==prevState?{parent:prevState,pool:prevState}:showFallback):showFallback=getSuspendedCache(),nextPrimaryChildren={baseLanes:nextPrimaryChildren.baseLanes|renderLanes2,cachePool:showFallback}),nextProps.memoizedState=nextPrimaryChildren,nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes2),workInProgress2.memoizedState=SUSPENDED_MARKER,bailoutOffscreenComponent(current.child,nextProps);pushPrimaryTreeSuspenseHandler(workInProgress2);renderLanes2=current.child;current=renderLanes2.sibling;renderLanes2=createWorkInProgress(renderLanes2,{mode:"visible",children:nextProps.children});renderLanes2.return=workInProgress2;renderLanes2.sibling=null;null!==current&&(JSCompiler_temp=workInProgress2.deletions,null===JSCompiler_temp?(workInProgress2.deletions=[current],workInProgress2.flags|=16):JSCompiler_temp.push(current));workInProgress2.child=renderLanes2;workInProgress2.memoizedState=null;return renderLanes2}function mountSuspensePrimaryChildren(workInProgress2,primaryChildren){primaryChildren=mountWorkInProgressOffscreenFiber({mode:"visible",children:primaryChildren},workInProgress2.mode);primaryChildren.return=workInProgress2;return workInProgress2.child=primaryChildren}function mountWorkInProgressOffscreenFiber(offscreenProps,mode){offscreenProps=createFiberImplClass(22,offscreenProps,null,mode);offscreenProps.lanes=0;return offscreenProps}function retrySuspenseComponentWithoutHydrating(current,workInProgress2,renderLanes2){reconcileChildFibers(workInProgress2,current.child,null,renderLanes2);current=mountSuspensePrimaryChildren(workInProgress2,workInProgress2.pendingProps.children);current.flags|=2;workInProgress2.memoizedState=null;return current}function scheduleSuspenseWorkOnFiber(fiber,renderLanes2,propagationRoot){fiber.lanes|=renderLanes2;var alternate=fiber.alternate;null!==alternate&&(alternate.lanes|=renderLanes2);scheduleContextWorkOnParentPath(fiber.return,renderLanes2,propagationRoot)}function initSuspenseListRenderState(workInProgress2,isBackwards,tail,lastContentRow,tailMode,treeForkCount2){var renderState=workInProgress2.memoizedState;null===renderState?workInProgress2.memoizedState={isBackwards,rendering:null,renderingStartTime:0,last:lastContentRow,tail,tailMode,treeForkCount:treeForkCount2}:(renderState.isBackwards=isBackwards,renderState.rendering=null,renderState.renderingStartTime=0,renderState.last=lastContentRow,renderState.tail=tail,renderState.tailMode=tailMode,renderState.treeForkCount=treeForkCount2)}function updateSuspenseListComponent(current,workInProgress2,renderLanes2){var nextProps=workInProgress2.pendingProps,revealOrder=nextProps.revealOrder,tailMode=nextProps.tail;nextProps=nextProps.children;var suspenseContext=suspenseStackCursor.current,shouldForceFallback=0!==(suspenseContext&2);shouldForceFallback?(suspenseContext=suspenseContext&1|2,workInProgress2.flags|=128):suspenseContext&=1;push(suspenseStackCursor,suspenseContext);reconcileChildren(current,workInProgress2,nextProps,renderLanes2);nextProps=isHydrating?treeForkCount:0;if(!shouldForceFallback&&null!==current&&0!==(current.flags&128))a:for(current=workInProgress2.child;null!==current;){if(13===current.tag)null!==current.memoizedState&&scheduleSuspenseWorkOnFiber(current,renderLanes2,workInProgress2);else if(19===current.tag)scheduleSuspenseWorkOnFiber(current,renderLanes2,workInProgress2);else if(null!==current.child){current.child.return=current;current=current.child;continue}if(current===workInProgress2)break a;for(;null===current.sibling;){if(null===current.return||current.return===workInProgress2)break a;current=current.return}current.sibling.return=current.return;current=current.sibling}switch(revealOrder){case"forwards":renderLanes2=workInProgress2.child;for(revealOrder=null;null!==renderLanes2;)current=renderLanes2.alternate,null!==current&&null===findFirstSuspended(current)&&(revealOrder=renderLanes2),renderLanes2=renderLanes2.sibling;renderLanes2=revealOrder;null===renderLanes2?(revealOrder=workInProgress2.child,workInProgress2.child=null):(revealOrder=renderLanes2.sibling,renderLanes2.sibling=null);initSuspenseListRenderState(workInProgress2,false,revealOrder,renderLanes2,tailMode,nextProps);break;case"backwards":case"unstable_legacy-backwards":renderLanes2=null;revealOrder=workInProgress2.child;for(workInProgress2.child=null;null!==revealOrder;){current=revealOrder.alternate;if(null!==current&&null===findFirstSuspended(current)){workInProgress2.child=revealOrder;break}current=revealOrder.sibling;revealOrder.sibling=renderLanes2;renderLanes2=revealOrder;revealOrder=current}initSuspenseListRenderState(workInProgress2,true,renderLanes2,null,tailMode,nextProps);break;case"together":initSuspenseListRenderState(workInProgress2,false,null,null,void 0,nextProps);break;default:workInProgress2.memoizedState=null}return workInProgress2.child}function bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2){null!==current&&(workInProgress2.dependencies=current.dependencies);workInProgressRootSkippedLanes|=workInProgress2.lanes;if(0===(renderLanes2&workInProgress2.childLanes))if(null!==current){if(propagateParentContextChanges(current,workInProgress2,renderLanes2,false),0===(renderLanes2&workInProgress2.childLanes))return null}else return null;if(null!==current&&workInProgress2.child!==current.child)throw Error(formatProdErrorMessage(153));if(null!==workInProgress2.child){current=workInProgress2.child;renderLanes2=createWorkInProgress(current,current.pendingProps);workInProgress2.child=renderLanes2;for(renderLanes2.return=workInProgress2;null!==current.sibling;)current=current.sibling,renderLanes2=renderLanes2.sibling=createWorkInProgress(current,current.pendingProps),renderLanes2.return=workInProgress2;renderLanes2.sibling=null}return workInProgress2.child}function checkScheduledUpdateOrContext(current,renderLanes2){if(0!==(current.lanes&renderLanes2))return true;current=current.dependencies;return null!==current&&checkIfContextChanged(current)?true:false}function attemptEarlyBailoutIfNoScheduledUpdate(current,workInProgress2,renderLanes2){switch(workInProgress2.tag){case 3:pushHostContainer(workInProgress2,workInProgress2.stateNode.containerInfo);pushProvider(workInProgress2,CacheContext,current.memoizedState.cache);resetHydrationState();break;case 27:case 5:pushHostContext(workInProgress2);break;case 4:pushHostContainer(workInProgress2,workInProgress2.stateNode.containerInfo);break;case 10:pushProvider(workInProgress2,workInProgress2.type,workInProgress2.memoizedProps.value);break;case 31:if(null!==workInProgress2.memoizedState)return workInProgress2.flags|=128,pushDehydratedActivitySuspenseHandler(workInProgress2),null;break;case 13:var state$102=workInProgress2.memoizedState;if(null!==state$102){if(null!==state$102.dehydrated)return pushPrimaryTreeSuspenseHandler(workInProgress2),workInProgress2.flags|=128,null;if(0!==(renderLanes2&workInProgress2.child.childLanes))return updateSuspenseComponent(current,workInProgress2,renderLanes2);pushPrimaryTreeSuspenseHandler(workInProgress2);current=bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);return null!==current?current.sibling:null}pushPrimaryTreeSuspenseHandler(workInProgress2);break;case 19:var didSuspendBefore=0!==(current.flags&128);state$102=0!==(renderLanes2&workInProgress2.childLanes);state$102||(propagateParentContextChanges(current,workInProgress2,renderLanes2,false),state$102=0!==(renderLanes2&workInProgress2.childLanes));if(didSuspendBefore){if(state$102)return updateSuspenseListComponent(current,workInProgress2,renderLanes2);workInProgress2.flags|=128}didSuspendBefore=workInProgress2.memoizedState;null!==didSuspendBefore&&(didSuspendBefore.rendering=null,didSuspendBefore.tail=null,didSuspendBefore.lastEffect=null);push(suspenseStackCursor,suspenseStackCursor.current);if(state$102)break;else return null;case 22:return workInProgress2.lanes=0,updateOffscreenComponent(current,workInProgress2,renderLanes2,workInProgress2.pendingProps);case 24:pushProvider(workInProgress2,CacheContext,current.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2)}function beginWork(current,workInProgress2,renderLanes2){if(null!==current)if(current.memoizedProps!==workInProgress2.pendingProps)didReceiveUpdate=true;else{if(!checkScheduledUpdateOrContext(current,renderLanes2)&&0===(workInProgress2.flags&128))return didReceiveUpdate=false,attemptEarlyBailoutIfNoScheduledUpdate(current,workInProgress2,renderLanes2);didReceiveUpdate=0!==(current.flags&131072)?true:false}else didReceiveUpdate=false,isHydrating&&0!==(workInProgress2.flags&1048576)&&pushTreeId(workInProgress2,treeForkCount,workInProgress2.index);workInProgress2.lanes=0;switch(workInProgress2.tag){case 16:a:{var props=workInProgress2.pendingProps;current=resolveLazy(workInProgress2.elementType);workInProgress2.type=current;if("function"===typeof current)shouldConstruct(current)?(props=resolveClassComponentProps(current,props),workInProgress2.tag=1,workInProgress2=updateClassComponent(null,workInProgress2,current,props,renderLanes2)):(workInProgress2.tag=0,workInProgress2=updateFunctionComponent(null,workInProgress2,current,props,renderLanes2));else{if(void 0!==current&&null!==current){var $$typeof=current.$$typeof;if($$typeof===REACT_FORWARD_REF_TYPE){workInProgress2.tag=11;workInProgress2=updateForwardRef(null,workInProgress2,current,props,renderLanes2);break a}else if($$typeof===REACT_MEMO_TYPE){workInProgress2.tag=14;workInProgress2=updateMemoComponent(null,workInProgress2,current,props,renderLanes2);break a}}workInProgress2=getComponentNameFromType(current)||current;throw Error(formatProdErrorMessage(306,workInProgress2,""))}}return workInProgress2;case 0:return updateFunctionComponent(current,workInProgress2,workInProgress2.type,workInProgress2.pendingProps,renderLanes2);case 1:return props=workInProgress2.type,$$typeof=resolveClassComponentProps(props,workInProgress2.pendingProps),updateClassComponent(current,workInProgress2,props,$$typeof,renderLanes2);case 3:a:{pushHostContainer(workInProgress2,workInProgress2.stateNode.containerInfo);if(null===current)throw Error(formatProdErrorMessage(387));props=workInProgress2.pendingProps;var prevState=workInProgress2.memoizedState;$$typeof=prevState.element;cloneUpdateQueue(current,workInProgress2);processUpdateQueue(workInProgress2,props,null,renderLanes2);var nextState=workInProgress2.memoizedState;props=nextState.cache;pushProvider(workInProgress2,CacheContext,props);props!==prevState.cache&&propagateContextChanges(workInProgress2,[CacheContext],renderLanes2,true);suspendIfUpdateReadFromEntangledAsyncAction();props=nextState.element;if(prevState.isDehydrated)if(prevState={element:props,isDehydrated:false,cache:nextState.cache},workInProgress2.updateQueue.baseState=prevState,workInProgress2.memoizedState=prevState,workInProgress2.flags&256){workInProgress2=mountHostRootWithoutHydrating(current,workInProgress2,props,renderLanes2);break a}else if(props!==$$typeof){$$typeof=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),workInProgress2);queueHydrationError($$typeof);workInProgress2=mountHostRootWithoutHydrating(current,workInProgress2,props,renderLanes2);break a}else{current=workInProgress2.stateNode.containerInfo;switch(current.nodeType){case 9:current=current.body;break;default:current="HTML"===current.nodeName?current.ownerDocument.body:current}nextHydratableInstance=getNextHydratable(current.firstChild);hydrationParentFiber=workInProgress2;isHydrating=true;hydrationErrors=null;rootOrSingletonContext=true;renderLanes2=mountChildFibers(workInProgress2,null,props,renderLanes2);for(workInProgress2.child=renderLanes2;renderLanes2;)renderLanes2.flags=renderLanes2.flags&-3|4096,renderLanes2=renderLanes2.sibling}else{resetHydrationState();if(props===$$typeof){workInProgress2=bailoutOnAlreadyFinishedWork(current,workInProgress2,renderLanes2);break a}reconcileChildren(current,workInProgress2,props,renderLanes2)}workInProgress2=workInProgress2.child}return workInProgress2;case 26:return markRef(current,workInProgress2),null===current?(renderLanes2=getResource(workInProgress2.type,null,workInProgress2.pendingProps,null))?workInProgress2.memoizedState=renderLanes2:isHydrating||(renderLanes2=workInProgress2.type,current=workInProgress2.pendingProps,props=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current).createElement(renderLanes2),props[internalInstanceKey]=workInProgress2,props[internalPropsKey]=current,setInitialProperties(props,renderLanes2,current),markNodeAsHoistable(props),workInProgress2.stateNode=props):workInProgress2.memoizedState=getResource(workInProgress2.type,current.memoizedProps,workInProgress2.pendingProps,current.memoizedState),null;case 27:return pushHostContext(workInProgress2),null===current&&isHydrating&&(props=workInProgress2.stateNode=resolveSingletonInstance(workInProgress2.type,workInProgress2.pendingProps,rootInstanceStackCursor.current),hydrationParentFiber=workInProgress2,rootOrSingletonContext=true,$$typeof=nextHydratableInstance,isSingletonScope(workInProgress2.type)?(previousHydratableOnEnteringScopedSingleton=$$typeof,nextHydratableInstance=getNextHydratable(props.firstChild)):nextHydratableInstance=$$typeof),reconcileChildren(current,workInProgress2,workInProgress2.pendingProps.children,renderLanes2),markRef(current,workInProgress2),null===current&&(workInProgress2.flags|=4194304),workInProgress2.child;case 5:if(null===current&&isHydrating){if($$typeof=props=nextHydratableInstance)props=canHydrateInstance(props,workInProgress2.type,workInProgress2.pendingProps,rootOrSingletonContext),null!==props?(workInProgress2.stateNode=props,hydrationParentFiber=workInProgress2,nextHydratableInstance=getNextHydratable(props.firstChild),rootOrSingletonContext=false,$$typeof=true):$$typeof=false;$$typeof||throwOnHydrationMismatch(workInProgress2)}pushHostContext(workInProgress2);$$typeof=workInProgress2.type;prevState=workInProgress2.pendingProps;nextState=null!==current?current.memoizedProps:null;props=prevState.children;shouldSetTextContent($$typeof,prevState)?props=null:null!==nextState&&shouldSetTextContent($$typeof,nextState)&&(workInProgress2.flags|=32);null!==workInProgress2.memoizedState&&($$typeof=renderWithHooks(current,workInProgress2,TransitionAwareHostComponent,null,null,renderLanes2),HostTransitionContext._currentValue=$$typeof);markRef(current,workInProgress2);reconcileChildren(current,workInProgress2,props,renderLanes2);return workInProgress2.child;case 6:if(null===current&&isHydrating){if(current=renderLanes2=nextHydratableInstance)renderLanes2=canHydrateTextInstance(renderLanes2,workInProgress2.pendingProps,rootOrSingletonContext),null!==renderLanes2?(workInProgress2.stateNode=renderLanes2,hydrationParentFiber=workInProgress2,nextHydratableInstance=null,current=true):current=false;current||throwOnHydrationMismatch(workInProgress2)}return null;case 13:return updateSuspenseComponent(current,workInProgress2,renderLanes2);case 4:return pushHostContainer(workInProgress2,workInProgress2.stateNode.containerInfo),props=workInProgress2.pendingProps,null===current?workInProgress2.child=reconcileChildFibers(workInProgress2,null,props,renderLanes2):reconcileChildren(current,workInProgress2,props,renderLanes2),workInProgress2.child;case 11:return updateForwardRef(current,workInProgress2,workInProgress2.type,workInProgress2.pendingProps,renderLanes2);case 7:return reconcileChildren(current,workInProgress2,workInProgress2.pendingProps,renderLanes2),workInProgress2.child;case 8:return reconcileChildren(current,workInProgress2,workInProgress2.pendingProps.children,renderLanes2),workInProgress2.child;case 12:return reconcileChildren(current,workInProgress2,workInProgress2.pendingProps.children,renderLanes2),workInProgress2.child;case 10:return props=workInProgress2.pendingProps,pushProvider(workInProgress2,workInProgress2.type,props.value),reconcileChildren(current,workInProgress2,props.children,renderLanes2),workInProgress2.child;case 9:return $$typeof=workInProgress2.type._context,props=workInProgress2.pendingProps.children,prepareToReadContext(workInProgress2),$$typeof=readContext($$typeof),props=props($$typeof),workInProgress2.flags|=1,reconcileChildren(current,workInProgress2,props,renderLanes2),workInProgress2.child;case 14:return updateMemoComponent(current,workInProgress2,workInProgress2.type,workInProgress2.pendingProps,renderLanes2);case 15:return updateSimpleMemoComponent(current,workInProgress2,workInProgress2.type,workInProgress2.pendingProps,renderLanes2);case 19:return updateSuspenseListComponent(current,workInProgress2,renderLanes2);case 31:return updateActivityComponent(current,workInProgress2,renderLanes2);case 22:return updateOffscreenComponent(current,workInProgress2,renderLanes2,workInProgress2.pendingProps);case 24:return prepareToReadContext(workInProgress2),props=readContext(CacheContext),null===current?($$typeof=peekCacheFromPool(),null===$$typeof&&($$typeof=workInProgressRoot,prevState=createCache(),$$typeof.pooledCache=prevState,prevState.refCount++,null!==prevState&&($$typeof.pooledCacheLanes|=renderLanes2),$$typeof=prevState),workInProgress2.memoizedState={parent:props,cache:$$typeof},initializeUpdateQueue(workInProgress2),pushProvider(workInProgress2,CacheContext,$$typeof)):(0!==(current.lanes&renderLanes2)&&(cloneUpdateQueue(current,workInProgress2),processUpdateQueue(workInProgress2,null,null,renderLanes2),suspendIfUpdateReadFromEntangledAsyncAction()),$$typeof=current.memoizedState,prevState=workInProgress2.memoizedState,$$typeof.parent!==props?($$typeof={parent:props,cache:props},workInProgress2.memoizedState=$$typeof,0===workInProgress2.lanes&&(workInProgress2.memoizedState=workInProgress2.updateQueue.baseState=$$typeof),pushProvider(workInProgress2,CacheContext,props)):(props=prevState.cache,pushProvider(workInProgress2,CacheContext,props),props!==$$typeof.cache&&propagateContextChanges(workInProgress2,[CacheContext],renderLanes2,true))),reconcileChildren(current,workInProgress2,workInProgress2.pendingProps.children,renderLanes2),workInProgress2.child;case 29:throw workInProgress2.pendingProps}throw Error(formatProdErrorMessage(156,workInProgress2.tag))}function markUpdate(workInProgress2){workInProgress2.flags|=4}function preloadInstanceAndSuspendIfNeeded(workInProgress2,type,oldProps,newProps,renderLanes2){if(type=0!==(workInProgress2.mode&32))type=false;if(type){if(workInProgress2.flags|=16777216,(renderLanes2&335544128)===renderLanes2)if(workInProgress2.stateNode.complete)workInProgress2.flags|=8192;else if(shouldRemainOnPreviousScreen())workInProgress2.flags|=8192;else throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException}else workInProgress2.flags&=-16777217}function preloadResourceAndSuspendIfNeeded(workInProgress2,resource){if("stylesheet"!==resource.type||0!==(resource.state.loading&4))workInProgress2.flags&=-16777217;else if(workInProgress2.flags|=16777216,!preloadResource(resource))if(shouldRemainOnPreviousScreen())workInProgress2.flags|=8192;else throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException}function scheduleRetryEffect(workInProgress2,retryQueue){null!==retryQueue&&(workInProgress2.flags|=4);workInProgress2.flags&16384&&(retryQueue=22!==workInProgress2.tag?claimNextRetryLane():536870912,workInProgress2.lanes|=retryQueue,workInProgressSuspendedRetryLanes|=retryQueue)}function cutOffTailIfNeeded(renderState,hasRenderedATailFallback){if(!isHydrating)switch(renderState.tailMode){case"hidden":hasRenderedATailFallback=renderState.tail;for(var lastTailNode=null;null!==hasRenderedATailFallback;)null!==hasRenderedATailFallback.alternate&&(lastTailNode=hasRenderedATailFallback),hasRenderedATailFallback=hasRenderedATailFallback.sibling;null===lastTailNode?renderState.tail=null:lastTailNode.sibling=null;break;case"collapsed":lastTailNode=renderState.tail;for(var lastTailNode$106=null;null!==lastTailNode;)null!==lastTailNode.alternate&&(lastTailNode$106=lastTailNode),lastTailNode=lastTailNode.sibling;null===lastTailNode$106?hasRenderedATailFallback||null===renderState.tail?renderState.tail=null:renderState.tail.sibling=null:lastTailNode$106.sibling=null}}function bubbleProperties(completedWork){var didBailout=null!==completedWork.alternate&&completedWork.alternate.child===completedWork.child,newChildLanes=0,subtreeFlags=0;if(didBailout)for(var child$107=completedWork.child;null!==child$107;)newChildLanes|=child$107.lanes|child$107.childLanes,subtreeFlags|=child$107.subtreeFlags&65011712,subtreeFlags|=child$107.flags&65011712,child$107.return=completedWork,child$107=child$107.sibling;else for(child$107=completedWork.child;null!==child$107;)newChildLanes|=child$107.lanes|child$107.childLanes,subtreeFlags|=child$107.subtreeFlags,subtreeFlags|=child$107.flags,child$107.return=completedWork,child$107=child$107.sibling;completedWork.subtreeFlags|=subtreeFlags;completedWork.childLanes=newChildLanes;return didBailout}function completeWork(current,workInProgress2,renderLanes2){var newProps=workInProgress2.pendingProps;popTreeContext(workInProgress2);switch(workInProgress2.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bubbleProperties(workInProgress2),null;case 1:return bubbleProperties(workInProgress2),null;case 3:renderLanes2=workInProgress2.stateNode;newProps=null;null!==current&&(newProps=current.memoizedState.cache);workInProgress2.memoizedState.cache!==newProps&&(workInProgress2.flags|=2048);popProvider(CacheContext);popHostContainer();renderLanes2.pendingContext&&(renderLanes2.context=renderLanes2.pendingContext,renderLanes2.pendingContext=null);if(null===current||null===current.child)popHydrationState(workInProgress2)?markUpdate(workInProgress2):null===current||current.memoizedState.isDehydrated&&0===(workInProgress2.flags&256)||(workInProgress2.flags|=1024,upgradeHydrationErrorsToRecoverable());bubbleProperties(workInProgress2);return null;case 26:var type=workInProgress2.type,nextResource=workInProgress2.memoizedState;null===current?(markUpdate(workInProgress2),null!==nextResource?(bubbleProperties(workInProgress2),preloadResourceAndSuspendIfNeeded(workInProgress2,nextResource)):(bubbleProperties(workInProgress2),preloadInstanceAndSuspendIfNeeded(workInProgress2,type,null,newProps,renderLanes2))):nextResource?nextResource!==current.memoizedState?(markUpdate(workInProgress2),bubbleProperties(workInProgress2),preloadResourceAndSuspendIfNeeded(workInProgress2,nextResource)):(bubbleProperties(workInProgress2),workInProgress2.flags&=-16777217):(current=current.memoizedProps,current!==newProps&&markUpdate(workInProgress2),bubbleProperties(workInProgress2),preloadInstanceAndSuspendIfNeeded(workInProgress2,type,current,newProps,renderLanes2));return null;case 27:popHostContext(workInProgress2);renderLanes2=rootInstanceStackCursor.current;type=workInProgress2.type;if(null!==current&&null!=workInProgress2.stateNode)current.memoizedProps!==newProps&&markUpdate(workInProgress2);else{if(!newProps){if(null===workInProgress2.stateNode)throw Error(formatProdErrorMessage(166));bubbleProperties(workInProgress2);return null}current=contextStackCursor.current;popHydrationState(workInProgress2)?prepareToHydrateHostInstance(workInProgress2,current):(current=resolveSingletonInstance(type,newProps,renderLanes2),workInProgress2.stateNode=current,markUpdate(workInProgress2))}bubbleProperties(workInProgress2);return null;case 5:popHostContext(workInProgress2);type=workInProgress2.type;if(null!==current&&null!=workInProgress2.stateNode)current.memoizedProps!==newProps&&markUpdate(workInProgress2);else{if(!newProps){if(null===workInProgress2.stateNode)throw Error(formatProdErrorMessage(166));bubbleProperties(workInProgress2);return null}nextResource=contextStackCursor.current;if(popHydrationState(workInProgress2))prepareToHydrateHostInstance(workInProgress2,nextResource);else{var ownerDocument=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current);switch(nextResource){case 1:nextResource=ownerDocument.createElementNS("http://www.w3.org/2000/svg",type);break;case 2:nextResource=ownerDocument.createElementNS("http://www.w3.org/1998/Math/MathML",type);break;default:switch(type){case"svg":nextResource=ownerDocument.createElementNS("http://www.w3.org/2000/svg",type);break;case"math":nextResource=ownerDocument.createElementNS("http://www.w3.org/1998/Math/MathML",type);break;case"script":nextResource=ownerDocument.createElement("div");nextResource.innerHTML="<\script><\/script>";nextResource=nextResource.removeChild(nextResource.firstChild);break;case"select":nextResource="string"===typeof newProps.is?ownerDocument.createElement("select",{is:newProps.is}):ownerDocument.createElement("select");newProps.multiple?nextResource.multiple=true:newProps.size&&(nextResource.size=newProps.size);break;default:nextResource="string"===typeof newProps.is?ownerDocument.createElement(type,{is:newProps.is}):ownerDocument.createElement(type)}}nextResource[internalInstanceKey]=workInProgress2;nextResource[internalPropsKey]=newProps;a:for(ownerDocument=workInProgress2.child;null!==ownerDocument;){if(5===ownerDocument.tag||6===ownerDocument.tag)nextResource.appendChild(ownerDocument.stateNode);else if(4!==ownerDocument.tag&&27!==ownerDocument.tag&&null!==ownerDocument.child){ownerDocument.child.return=ownerDocument;ownerDocument=ownerDocument.child;continue}if(ownerDocument===workInProgress2)break a;for(;null===ownerDocument.sibling;){if(null===ownerDocument.return||ownerDocument.return===workInProgress2)break a;ownerDocument=ownerDocument.return}ownerDocument.sibling.return=ownerDocument.return;ownerDocument=ownerDocument.sibling}workInProgress2.stateNode=nextResource;a:switch(setInitialProperties(nextResource,type,newProps),type){case"button":case"input":case"select":case"textarea":newProps=!!newProps.autoFocus;break a;case"img":newProps=true;break a;default:newProps=false}newProps&&markUpdate(workInProgress2)}}bubbleProperties(workInProgress2);preloadInstanceAndSuspendIfNeeded(workInProgress2,workInProgress2.type,null===current?null:current.memoizedProps,workInProgress2.pendingProps,renderLanes2);return null;case 6:if(current&&null!=workInProgress2.stateNode)current.memoizedProps!==newProps&&markUpdate(workInProgress2);else{if("string"!==typeof newProps&&null===workInProgress2.stateNode)throw Error(formatProdErrorMessage(166));current=rootInstanceStackCursor.current;if(popHydrationState(workInProgress2)){current=workInProgress2.stateNode;renderLanes2=workInProgress2.memoizedProps;newProps=null;type=hydrationParentFiber;if(null!==type)switch(type.tag){case 27:case 5:newProps=type.memoizedProps}current[internalInstanceKey]=workInProgress2;current=current.nodeValue===renderLanes2||null!==newProps&&true===newProps.suppressHydrationWarning||checkForUnmatchedText(current.nodeValue,renderLanes2)?true:false;current||throwOnHydrationMismatch(workInProgress2,true)}else current=getOwnerDocumentFromRootContainer(current).createTextNode(newProps),current[internalInstanceKey]=workInProgress2,workInProgress2.stateNode=current}bubbleProperties(workInProgress2);return null;case 31:renderLanes2=workInProgress2.memoizedState;if(null===current||null!==current.memoizedState){newProps=popHydrationState(workInProgress2);if(null!==renderLanes2){if(null===current){if(!newProps)throw Error(formatProdErrorMessage(318));current=workInProgress2.memoizedState;current=null!==current?current.dehydrated:null;if(!current)throw Error(formatProdErrorMessage(557));current[internalInstanceKey]=workInProgress2}else resetHydrationState(),0===(workInProgress2.flags&128)&&(workInProgress2.memoizedState=null),workInProgress2.flags|=4;bubbleProperties(workInProgress2);current=false}else renderLanes2=upgradeHydrationErrorsToRecoverable(),null!==current&&null!==current.memoizedState&&(current.memoizedState.hydrationErrors=renderLanes2),current=true;if(!current){if(workInProgress2.flags&256)return popSuspenseHandler(workInProgress2),workInProgress2;popSuspenseHandler(workInProgress2);return null}if(0!==(workInProgress2.flags&128))throw Error(formatProdErrorMessage(558))}bubbleProperties(workInProgress2);return null;case 13:newProps=workInProgress2.memoizedState;if(null===current||null!==current.memoizedState&&null!==current.memoizedState.dehydrated){type=popHydrationState(workInProgress2);if(null!==newProps&&null!==newProps.dehydrated){if(null===current){if(!type)throw Error(formatProdErrorMessage(318));type=workInProgress2.memoizedState;type=null!==type?type.dehydrated:null;if(!type)throw Error(formatProdErrorMessage(317));type[internalInstanceKey]=workInProgress2}else resetHydrationState(),0===(workInProgress2.flags&128)&&(workInProgress2.memoizedState=null),workInProgress2.flags|=4;bubbleProperties(workInProgress2);type=false}else type=upgradeHydrationErrorsToRecoverable(),null!==current&&null!==current.memoizedState&&(current.memoizedState.hydrationErrors=type),type=true;if(!type){if(workInProgress2.flags&256)return popSuspenseHandler(workInProgress2),workInProgress2;popSuspenseHandler(workInProgress2);return null}}popSuspenseHandler(workInProgress2);if(0!==(workInProgress2.flags&128))return workInProgress2.lanes=renderLanes2,workInProgress2;renderLanes2=null!==newProps;current=null!==current&&null!==current.memoizedState;renderLanes2&&(newProps=workInProgress2.child,type=null,null!==newProps.alternate&&null!==newProps.alternate.memoizedState&&null!==newProps.alternate.memoizedState.cachePool&&(type=newProps.alternate.memoizedState.cachePool.pool),nextResource=null,null!==newProps.memoizedState&&null!==newProps.memoizedState.cachePool&&(nextResource=newProps.memoizedState.cachePool.pool),nextResource!==type&&(newProps.flags|=2048));renderLanes2!==current&&renderLanes2&&(workInProgress2.child.flags|=8192);scheduleRetryEffect(workInProgress2,workInProgress2.updateQueue);bubbleProperties(workInProgress2);return null;case 4:return popHostContainer(),null===current&&listenToAllSupportedEvents(workInProgress2.stateNode.containerInfo),bubbleProperties(workInProgress2),null;case 10:return popProvider(workInProgress2.type),bubbleProperties(workInProgress2),null;case 19:pop(suspenseStackCursor);newProps=workInProgress2.memoizedState;if(null===newProps)return bubbleProperties(workInProgress2),null;type=0!==(workInProgress2.flags&128);nextResource=newProps.rendering;if(null===nextResource)if(type)cutOffTailIfNeeded(newProps,false);else{if(0!==workInProgressRootExitStatus||null!==current&&0!==(current.flags&128))for(current=workInProgress2.child;null!==current;){nextResource=findFirstSuspended(current);if(null!==nextResource){workInProgress2.flags|=128;cutOffTailIfNeeded(newProps,false);current=nextResource.updateQueue;workInProgress2.updateQueue=current;scheduleRetryEffect(workInProgress2,current);workInProgress2.subtreeFlags=0;current=renderLanes2;for(renderLanes2=workInProgress2.child;null!==renderLanes2;)resetWorkInProgress(renderLanes2,current),renderLanes2=renderLanes2.sibling;push(suspenseStackCursor,suspenseStackCursor.current&1|2);isHydrating&&pushTreeFork(workInProgress2,newProps.treeForkCount);return workInProgress2.child}current=current.sibling}null!==newProps.tail&&now()>workInProgressRootRenderTargetTime&&(workInProgress2.flags|=128,type=true,cutOffTailIfNeeded(newProps,false),workInProgress2.lanes=4194304)}else{if(!type)if(current=findFirstSuspended(nextResource),null!==current){if(workInProgress2.flags|=128,type=true,current=current.updateQueue,workInProgress2.updateQueue=current,scheduleRetryEffect(workInProgress2,current),cutOffTailIfNeeded(newProps,true),null===newProps.tail&&"hidden"===newProps.tailMode&&!nextResource.alternate&&!isHydrating)return bubbleProperties(workInProgress2),null}else 2*now()-newProps.renderingStartTime>workInProgressRootRenderTargetTime&&536870912!==renderLanes2&&(workInProgress2.flags|=128,type=true,cutOffTailIfNeeded(newProps,false),workInProgress2.lanes=4194304);newProps.isBackwards?(nextResource.sibling=workInProgress2.child,workInProgress2.child=nextResource):(current=newProps.last,null!==current?current.sibling=nextResource:workInProgress2.child=nextResource,newProps.last=nextResource)}if(null!==newProps.tail)return current=newProps.tail,newProps.rendering=current,newProps.tail=current.sibling,newProps.renderingStartTime=now(),current.sibling=null,renderLanes2=suspenseStackCursor.current,push(suspenseStackCursor,type?renderLanes2&1|2:renderLanes2&1),isHydrating&&pushTreeFork(workInProgress2,newProps.treeForkCount),current;bubbleProperties(workInProgress2);return null;case 22:case 23:return popSuspenseHandler(workInProgress2),popHiddenContext(),newProps=null!==workInProgress2.memoizedState,null!==current?null!==current.memoizedState!==newProps&&(workInProgress2.flags|=8192):newProps&&(workInProgress2.flags|=8192),newProps?0!==(renderLanes2&536870912)&&0===(workInProgress2.flags&128)&&(bubbleProperties(workInProgress2),workInProgress2.subtreeFlags&6&&(workInProgress2.flags|=8192)):bubbleProperties(workInProgress2),renderLanes2=workInProgress2.updateQueue,null!==renderLanes2&&scheduleRetryEffect(workInProgress2,renderLanes2.retryQueue),renderLanes2=null,null!==current&&null!==current.memoizedState&&null!==current.memoizedState.cachePool&&(renderLanes2=current.memoizedState.cachePool.pool),newProps=null,null!==workInProgress2.memoizedState&&null!==workInProgress2.memoizedState.cachePool&&(newProps=workInProgress2.memoizedState.cachePool.pool),newProps!==renderLanes2&&(workInProgress2.flags|=2048),null!==current&&pop(resumedCache),null;case 24:return renderLanes2=null,null!==current&&(renderLanes2=current.memoizedState.cache),workInProgress2.memoizedState.cache!==renderLanes2&&(workInProgress2.flags|=2048),popProvider(CacheContext),bubbleProperties(workInProgress2),null;case 25:return null;case 30:return null}throw Error(formatProdErrorMessage(156,workInProgress2.tag))}function unwindWork(current,workInProgress2){popTreeContext(workInProgress2);switch(workInProgress2.tag){case 1:return current=workInProgress2.flags,current&65536?(workInProgress2.flags=current&-65537|128,workInProgress2):null;case 3:return popProvider(CacheContext),popHostContainer(),current=workInProgress2.flags,0!==(current&65536)&&0===(current&128)?(workInProgress2.flags=current&-65537|128,workInProgress2):null;case 26:case 27:case 5:return popHostContext(workInProgress2),null;case 31:if(null!==workInProgress2.memoizedState){popSuspenseHandler(workInProgress2);if(null===workInProgress2.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}current=workInProgress2.flags;return current&65536?(workInProgress2.flags=current&-65537|128,workInProgress2):null;case 13:popSuspenseHandler(workInProgress2);current=workInProgress2.memoizedState;if(null!==current&&null!==current.dehydrated){if(null===workInProgress2.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}current=workInProgress2.flags;return current&65536?(workInProgress2.flags=current&-65537|128,workInProgress2):null;case 19:return pop(suspenseStackCursor),null;case 4:return popHostContainer(),null;case 10:return popProvider(workInProgress2.type),null;case 22:case 23:return popSuspenseHandler(workInProgress2),popHiddenContext(),null!==current&&pop(resumedCache),current=workInProgress2.flags,current&65536?(workInProgress2.flags=current&-65537|128,workInProgress2):null;case 24:return popProvider(CacheContext),null;case 25:return null;default:return null}}function unwindInterruptedWork(current,interruptedWork){popTreeContext(interruptedWork);switch(interruptedWork.tag){case 3:popProvider(CacheContext);popHostContainer();break;case 26:case 27:case 5:popHostContext(interruptedWork);break;case 4:popHostContainer();break;case 31:null!==interruptedWork.memoizedState&&popSuspenseHandler(interruptedWork);break;case 13:popSuspenseHandler(interruptedWork);break;case 19:pop(suspenseStackCursor);break;case 10:popProvider(interruptedWork.type);break;case 22:case 23:popSuspenseHandler(interruptedWork);popHiddenContext();null!==current&&pop(resumedCache);break;case 24:popProvider(CacheContext)}}function commitHookEffectListMount(flags,finishedWork){try{var updateQueue=finishedWork.updateQueue,lastEffect=null!==updateQueue?updateQueue.lastEffect:null;if(null!==lastEffect){var firstEffect=lastEffect.next;updateQueue=firstEffect;do{if((updateQueue.tag&flags)===flags){lastEffect=void 0;var create=updateQueue.create,inst=updateQueue.inst;lastEffect=create();inst.destroy=lastEffect}updateQueue=updateQueue.next}while(updateQueue!==firstEffect)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitHookEffectListUnmount(flags,finishedWork,nearestMountedAncestor$jscomp$0){try{var updateQueue=finishedWork.updateQueue,lastEffect=null!==updateQueue?updateQueue.lastEffect:null;if(null!==lastEffect){var firstEffect=lastEffect.next;updateQueue=firstEffect;do{if((updateQueue.tag&flags)===flags){var inst=updateQueue.inst,destroy=inst.destroy;if(void 0!==destroy){inst.destroy=void 0;lastEffect=finishedWork;var nearestMountedAncestor=nearestMountedAncestor$jscomp$0,destroy_=destroy;try{destroy_()}catch(error){captureCommitPhaseError(lastEffect,nearestMountedAncestor,error)}}}updateQueue=updateQueue.next}while(updateQueue!==firstEffect)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitClassCallbacks(finishedWork){var updateQueue=finishedWork.updateQueue;if(null!==updateQueue){var instance=finishedWork.stateNode;try{commitCallbacks(updateQueue,instance)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}}function safelyCallComponentWillUnmount(current,nearestMountedAncestor,instance){instance.props=resolveClassComponentProps(current.type,current.memoizedProps);instance.state=current.memoizedState;try{instance.componentWillUnmount()}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}}function safelyAttachRef(current,nearestMountedAncestor){try{var ref=current.ref;if(null!==ref){switch(current.tag){case 26:case 27:case 5:var instanceToUse=current.stateNode;break;case 30:instanceToUse=current.stateNode;break;default:instanceToUse=current.stateNode}"function"===typeof ref?current.refCleanup=ref(instanceToUse):ref.current=instanceToUse}}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}}function safelyDetachRef(current,nearestMountedAncestor){var ref=current.ref,refCleanup=current.refCleanup;if(null!==ref)if("function"===typeof refCleanup)try{refCleanup()}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}finally{current.refCleanup=null,current=current.alternate,null!=current&&(current.refCleanup=null)}else if("function"===typeof ref)try{ref(null)}catch(error$140){captureCommitPhaseError(current,nearestMountedAncestor,error$140)}else ref.current=null}function commitHostMount(finishedWork){var type=finishedWork.type,props=finishedWork.memoizedProps,instance=finishedWork.stateNode;try{a:switch(type){case"button":case"input":case"select":case"textarea":props.autoFocus&&instance.focus();break a;case"img":props.src?instance.src=props.src:props.srcSet&&(instance.srcset=props.srcSet)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitHostUpdate(finishedWork,newProps,oldProps){try{var domElement=finishedWork.stateNode;updateProperties(domElement,finishedWork.type,oldProps,newProps);domElement[internalPropsKey]=newProps}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function isHostParent(fiber){return 5===fiber.tag||3===fiber.tag||26===fiber.tag||27===fiber.tag&&isSingletonScope(fiber.type)||4===fiber.tag}function getHostSibling(fiber){a:for(;;){for(;null===fiber.sibling;){if(null===fiber.return||isHostParent(fiber.return))return null;fiber=fiber.return}fiber.sibling.return=fiber.return;for(fiber=fiber.sibling;5!==fiber.tag&&6!==fiber.tag&&18!==fiber.tag;){if(27===fiber.tag&&isSingletonScope(fiber.type))continue a;if(fiber.flags&2)continue a;if(null===fiber.child||4===fiber.tag)continue a;else fiber.child.return=fiber,fiber=fiber.child}if(!(fiber.flags&2))return fiber.stateNode}}function insertOrAppendPlacementNodeIntoContainer(node,before,parent){var tag=node.tag;if(5===tag||6===tag)node=node.stateNode,before?(9===parent.nodeType?parent.body:"HTML"===parent.nodeName?parent.ownerDocument.body:parent).insertBefore(node,before):(before=9===parent.nodeType?parent.body:"HTML"===parent.nodeName?parent.ownerDocument.body:parent,before.appendChild(node),parent=parent._reactRootContainer,null!==parent&&void 0!==parent||null!==before.onclick||(before.onclick=noop$1));else if(4!==tag&&(27===tag&&isSingletonScope(node.type)&&(parent=node.stateNode,before=null),node=node.child,null!==node))for(insertOrAppendPlacementNodeIntoContainer(node,before,parent),node=node.sibling;null!==node;)insertOrAppendPlacementNodeIntoContainer(node,before,parent),node=node.sibling}function insertOrAppendPlacementNode(node,before,parent){var tag=node.tag;if(5===tag||6===tag)node=node.stateNode,before?parent.insertBefore(node,before):parent.appendChild(node);else if(4!==tag&&(27===tag&&isSingletonScope(node.type)&&(parent=node.stateNode),node=node.child,null!==node))for(insertOrAppendPlacementNode(node,before,parent),node=node.sibling;null!==node;)insertOrAppendPlacementNode(node,before,parent),node=node.sibling}function commitHostSingletonAcquisition(finishedWork){var singleton=finishedWork.stateNode,props=finishedWork.memoizedProps;try{for(var type=finishedWork.type,attributes=singleton.attributes;attributes.length;)singleton.removeAttributeNode(attributes[0]);setInitialProperties(singleton,type,props);singleton[internalInstanceKey]=finishedWork;singleton[internalPropsKey]=props}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}var offscreenSubtreeIsHidden=false;var offscreenSubtreeWasHidden=false;var needsFormReset=false;var PossiblyWeakSet="function"===typeof WeakSet?WeakSet:Set;var nextEffect=null;function commitBeforeMutationEffects(root3,firstChild){root3=root3.containerInfo;eventsEnabled=_enabled;root3=getActiveElementDeep(root3);if(hasSelectionCapabilities(root3)){if("selectionStart"in root3)var JSCompiler_temp={start:root3.selectionStart,end:root3.selectionEnd};else a:{JSCompiler_temp=(JSCompiler_temp=root3.ownerDocument)&&JSCompiler_temp.defaultView||window;var selection=JSCompiler_temp.getSelection&&JSCompiler_temp.getSelection();if(selection&&0!==selection.rangeCount){JSCompiler_temp=selection.anchorNode;var anchorOffset=selection.anchorOffset,focusNode=selection.focusNode;selection=selection.focusOffset;try{JSCompiler_temp.nodeType,focusNode.nodeType}catch(e$20){JSCompiler_temp=null;break a}var length=0,start=-1,end=-1,indexWithinAnchor=0,indexWithinFocus=0,node=root3,parentNode=null;b:for(;;){for(var next;;){node!==JSCompiler_temp||0!==anchorOffset&&3!==node.nodeType||(start=length+anchorOffset);node!==focusNode||0!==selection&&3!==node.nodeType||(end=length+selection);3===node.nodeType&&(length+=node.nodeValue.length);if(null===(next=node.firstChild))break;parentNode=node;node=next}for(;;){if(node===root3)break b;parentNode===JSCompiler_temp&&++indexWithinAnchor===anchorOffset&&(start=length);parentNode===focusNode&&++indexWithinFocus===selection&&(end=length);if(null!==(next=node.nextSibling))break;node=parentNode;parentNode=node.parentNode}node=next}JSCompiler_temp=-1===start||-1===end?null:{start,end}}else JSCompiler_temp=null}JSCompiler_temp=JSCompiler_temp||{start:0,end:0}}else JSCompiler_temp=null;selectionInformation={focusedElem:root3,selectionRange:JSCompiler_temp};_enabled=false;for(nextEffect=firstChild;null!==nextEffect;)if(firstChild=nextEffect,root3=firstChild.child,0!==(firstChild.subtreeFlags&1028)&&null!==root3)root3.return=firstChild,nextEffect=root3;else for(;null!==nextEffect;){firstChild=nextEffect;focusNode=firstChild.alternate;root3=firstChild.flags;switch(firstChild.tag){case 0:if(0!==(root3&4)&&(root3=firstChild.updateQueue,root3=null!==root3?root3.events:null,null!==root3))for(JSCompiler_temp=0;JSCompiler_temp<root3.length;JSCompiler_temp++)anchorOffset=root3[JSCompiler_temp],anchorOffset.ref.impl=anchorOffset.nextImpl;break;case 11:case 15:break;case 1:if(0!==(root3&1024)&&null!==focusNode){root3=void 0;JSCompiler_temp=firstChild;anchorOffset=focusNode.memoizedProps;focusNode=focusNode.memoizedState;selection=JSCompiler_temp.stateNode;try{var resolvedPrevProps=resolveClassComponentProps(JSCompiler_temp.type,anchorOffset);root3=selection.getSnapshotBeforeUpdate(resolvedPrevProps,focusNode);selection.__reactInternalSnapshotBeforeUpdate=root3}catch(error){captureCommitPhaseError(JSCompiler_temp,JSCompiler_temp.return,error)}}break;case 3:if(0!==(root3&1024)){if(root3=firstChild.stateNode.containerInfo,JSCompiler_temp=root3.nodeType,9===JSCompiler_temp)clearContainerSparingly(root3);else if(1===JSCompiler_temp)switch(root3.nodeName){case"HEAD":case"HTML":case"BODY":clearContainerSparingly(root3);break;default:root3.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(0!==(root3&1024))throw Error(formatProdErrorMessage(163))}root3=firstChild.sibling;if(null!==root3){root3.return=firstChild.return;nextEffect=root3;break}nextEffect=firstChild.return}}function commitLayoutEffectOnFiber(finishedRoot,current,finishedWork){var flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);flags&4&&commitHookEffectListMount(5,finishedWork);break;case 1:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);if(flags&4)if(finishedRoot=finishedWork.stateNode,null===current)try{finishedRoot.componentDidMount()}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}else{var prevProps=resolveClassComponentProps(finishedWork.type,current.memoizedProps);current=current.memoizedState;try{finishedRoot.componentDidUpdate(prevProps,current,finishedRoot.__reactInternalSnapshotBeforeUpdate)}catch(error$139){captureCommitPhaseError(finishedWork,finishedWork.return,error$139)}}flags&64&&commitClassCallbacks(finishedWork);flags&512&&safelyAttachRef(finishedWork,finishedWork.return);break;case 3:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);if(flags&64&&(finishedRoot=finishedWork.updateQueue,null!==finishedRoot)){current=null;if(null!==finishedWork.child)switch(finishedWork.child.tag){case 27:case 5:current=finishedWork.child.stateNode;break;case 1:current=finishedWork.child.stateNode}try{commitCallbacks(finishedRoot,current)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}break;case 27:null===current&&flags&4&&commitHostSingletonAcquisition(finishedWork);case 26:case 5:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);null===current&&flags&4&&commitHostMount(finishedWork);flags&512&&safelyAttachRef(finishedWork,finishedWork.return);break;case 12:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);break;case 31:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);flags&4&&commitActivityHydrationCallbacks(finishedRoot,finishedWork);break;case 13:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);flags&4&&commitSuspenseHydrationCallbacks(finishedRoot,finishedWork);flags&64&&(finishedRoot=finishedWork.memoizedState,null!==finishedRoot&&(finishedRoot=finishedRoot.dehydrated,null!==finishedRoot&&(finishedWork=retryDehydratedSuspenseBoundary.bind(null,finishedWork),registerSuspenseInstanceRetry(finishedRoot,finishedWork))));break;case 22:flags=null!==finishedWork.memoizedState||offscreenSubtreeIsHidden;if(!flags){current=null!==current&&null!==current.memoizedState||offscreenSubtreeWasHidden;prevProps=offscreenSubtreeIsHidden;var prevOffscreenSubtreeWasHidden=offscreenSubtreeWasHidden;offscreenSubtreeIsHidden=flags;(offscreenSubtreeWasHidden=current)&&!prevOffscreenSubtreeWasHidden?recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,0!==(finishedWork.subtreeFlags&8772)):recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);offscreenSubtreeIsHidden=prevProps;offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden}break;case 30:break;default:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork)}}function detachFiberAfterEffects(fiber){var alternate=fiber.alternate;null!==alternate&&(fiber.alternate=null,detachFiberAfterEffects(alternate));fiber.child=null;fiber.deletions=null;fiber.sibling=null;5===fiber.tag&&(alternate=fiber.stateNode,null!==alternate&&detachDeletedInstance(alternate));fiber.stateNode=null;fiber.return=null;fiber.dependencies=null;fiber.memoizedProps=null;fiber.memoizedState=null;fiber.pendingProps=null;fiber.stateNode=null;fiber.updateQueue=null}var hostParent=null;var hostParentIsContainer=false;function recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,parent){for(parent=parent.child;null!==parent;)commitDeletionEffectsOnFiber(finishedRoot,nearestMountedAncestor,parent),parent=parent.sibling}function commitDeletionEffectsOnFiber(finishedRoot,nearestMountedAncestor,deletedFiber){if(injectedHook&&"function"===typeof injectedHook.onCommitFiberUnmount)try{injectedHook.onCommitFiberUnmount(rendererID,deletedFiber)}catch(err){}switch(deletedFiber.tag){case 26:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor);recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);deletedFiber.memoizedState?deletedFiber.memoizedState.count--:deletedFiber.stateNode&&(deletedFiber=deletedFiber.stateNode,deletedFiber.parentNode.removeChild(deletedFiber));break;case 27:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor);var prevHostParent=hostParent,prevHostParentIsContainer=hostParentIsContainer;isSingletonScope(deletedFiber.type)&&(hostParent=deletedFiber.stateNode,hostParentIsContainer=false);recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);releaseSingletonInstance(deletedFiber.stateNode);hostParent=prevHostParent;hostParentIsContainer=prevHostParentIsContainer;break;case 5:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor);case 6:prevHostParent=hostParent;prevHostParentIsContainer=hostParentIsContainer;hostParent=null;recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);hostParent=prevHostParent;hostParentIsContainer=prevHostParentIsContainer;if(null!==hostParent)if(hostParentIsContainer)try{(9===hostParent.nodeType?hostParent.body:"HTML"===hostParent.nodeName?hostParent.ownerDocument.body:hostParent).removeChild(deletedFiber.stateNode)}catch(error){captureCommitPhaseError(deletedFiber,nearestMountedAncestor,error)}else try{hostParent.removeChild(deletedFiber.stateNode)}catch(error){captureCommitPhaseError(deletedFiber,nearestMountedAncestor,error)}break;case 18:null!==hostParent&&(hostParentIsContainer?(finishedRoot=hostParent,clearHydrationBoundary(9===finishedRoot.nodeType?finishedRoot.body:"HTML"===finishedRoot.nodeName?finishedRoot.ownerDocument.body:finishedRoot,deletedFiber.stateNode),retryIfBlockedOn(finishedRoot)):clearHydrationBoundary(hostParent,deletedFiber.stateNode));break;case 4:prevHostParent=hostParent;prevHostParentIsContainer=hostParentIsContainer;hostParent=deletedFiber.stateNode.containerInfo;hostParentIsContainer=true;recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);hostParent=prevHostParent;hostParentIsContainer=prevHostParentIsContainer;break;case 0:case 11:case 14:case 15:commitHookEffectListUnmount(2,deletedFiber,nearestMountedAncestor);offscreenSubtreeWasHidden||commitHookEffectListUnmount(4,deletedFiber,nearestMountedAncestor);recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 1:offscreenSubtreeWasHidden||(safelyDetachRef(deletedFiber,nearestMountedAncestor),prevHostParent=deletedFiber.stateNode,"function"===typeof prevHostParent.componentWillUnmount&&safelyCallComponentWillUnmount(deletedFiber,nearestMountedAncestor,prevHostParent));recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 21:recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 22:offscreenSubtreeWasHidden=(prevHostParent=offscreenSubtreeWasHidden)||null!==deletedFiber.memoizedState;recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);offscreenSubtreeWasHidden=prevHostParent;break;default:recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber)}}function commitActivityHydrationCallbacks(finishedRoot,finishedWork){if(null===finishedWork.memoizedState&&(finishedRoot=finishedWork.alternate,null!==finishedRoot&&(finishedRoot=finishedRoot.memoizedState,null!==finishedRoot))){finishedRoot=finishedRoot.dehydrated;try{retryIfBlockedOn(finishedRoot)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}}function commitSuspenseHydrationCallbacks(finishedRoot,finishedWork){if(null===finishedWork.memoizedState&&(finishedRoot=finishedWork.alternate,null!==finishedRoot&&(finishedRoot=finishedRoot.memoizedState,null!==finishedRoot&&(finishedRoot=finishedRoot.dehydrated,null!==finishedRoot))))try{retryIfBlockedOn(finishedRoot)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function getRetryCache(finishedWork){switch(finishedWork.tag){case 31:case 13:case 19:var retryCache=finishedWork.stateNode;null===retryCache&&(retryCache=finishedWork.stateNode=new PossiblyWeakSet);return retryCache;case 22:return finishedWork=finishedWork.stateNode,retryCache=finishedWork._retryCache,null===retryCache&&(retryCache=finishedWork._retryCache=new PossiblyWeakSet),retryCache;default:throw Error(formatProdErrorMessage(435,finishedWork.tag))}}function attachSuspenseRetryListeners(finishedWork,wakeables){var retryCache=getRetryCache(finishedWork);wakeables.forEach(function(wakeable){if(!retryCache.has(wakeable)){retryCache.add(wakeable);var retry=resolveRetryWakeable.bind(null,finishedWork,wakeable);wakeable.then(retry,retry)}})}function recursivelyTraverseMutationEffects(root$jscomp$0,parentFiber){var deletions=parentFiber.deletions;if(null!==deletions)for(var i=0;i<deletions.length;i++){var childToDelete=deletions[i],root3=root$jscomp$0,returnFiber=parentFiber,parent=returnFiber;a:for(;null!==parent;){switch(parent.tag){case 27:if(isSingletonScope(parent.type)){hostParent=parent.stateNode;hostParentIsContainer=false;break a}break;case 5:hostParent=parent.stateNode;hostParentIsContainer=false;break a;case 3:case 4:hostParent=parent.stateNode.containerInfo;hostParentIsContainer=true;break a}parent=parent.return}if(null===hostParent)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(root3,returnFiber,childToDelete);hostParent=null;hostParentIsContainer=false;root3=childToDelete.alternate;null!==root3&&(root3.return=null);childToDelete.return=null}if(parentFiber.subtreeFlags&13886)for(parentFiber=parentFiber.child;null!==parentFiber;)commitMutationEffectsOnFiber(parentFiber,root$jscomp$0),parentFiber=parentFiber.sibling}var currentHoistableRoot=null;function commitMutationEffectsOnFiber(finishedWork,root3){var current=finishedWork.alternate,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&4&&(commitHookEffectListUnmount(3,finishedWork,finishedWork.return),commitHookEffectListMount(3,finishedWork),commitHookEffectListUnmount(5,finishedWork,finishedWork.return));break;case 1:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&512&&(offscreenSubtreeWasHidden||null===current||safelyDetachRef(current,current.return));flags&64&&offscreenSubtreeIsHidden&&(finishedWork=finishedWork.updateQueue,null!==finishedWork&&(flags=finishedWork.callbacks,null!==flags&&(current=finishedWork.shared.hiddenCallbacks,finishedWork.shared.hiddenCallbacks=null===current?flags:current.concat(flags))));break;case 26:var hoistableRoot=currentHoistableRoot;recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&512&&(offscreenSubtreeWasHidden||null===current||safelyDetachRef(current,current.return));if(flags&4){var currentResource=null!==current?current.memoizedState:null;flags=finishedWork.memoizedState;if(null===current)if(null===flags)if(null===finishedWork.stateNode){a:{flags=finishedWork.type;current=finishedWork.memoizedProps;hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot;b:switch(flags){case"title":currentResource=hoistableRoot.getElementsByTagName("title")[0];if(!currentResource||currentResource[internalHoistableMarker]||currentResource[internalInstanceKey]||"http://www.w3.org/2000/svg"===currentResource.namespaceURI||currentResource.hasAttribute("itemprop"))currentResource=hoistableRoot.createElement(flags),hoistableRoot.head.insertBefore(currentResource,hoistableRoot.querySelector("head > title"));setInitialProperties(currentResource,flags,current);currentResource[internalInstanceKey]=finishedWork;markNodeAsHoistable(currentResource);flags=currentResource;break a;case"link":var maybeNodes=getHydratableHoistableCache("link","href",hoistableRoot).get(flags+(current.href||""));if(maybeNodes){for(var i=0;i<maybeNodes.length;i++)if(currentResource=maybeNodes[i],currentResource.getAttribute("href")===(null==current.href||""===current.href?null:current.href)&&currentResource.getAttribute("rel")===(null==current.rel?null:current.rel)&&currentResource.getAttribute("title")===(null==current.title?null:current.title)&&currentResource.getAttribute("crossorigin")===(null==current.crossOrigin?null:current.crossOrigin)){maybeNodes.splice(i,1);break b}}currentResource=hoistableRoot.createElement(flags);setInitialProperties(currentResource,flags,current);hoistableRoot.head.appendChild(currentResource);break;case"meta":if(maybeNodes=getHydratableHoistableCache("meta","content",hoistableRoot).get(flags+(current.content||""))){for(i=0;i<maybeNodes.length;i++)if(currentResource=maybeNodes[i],currentResource.getAttribute("content")===(null==current.content?null:""+current.content)&&currentResource.getAttribute("name")===(null==current.name?null:current.name)&&currentResource.getAttribute("property")===(null==current.property?null:current.property)&&currentResource.getAttribute("http-equiv")===(null==current.httpEquiv?null:current.httpEquiv)&&currentResource.getAttribute("charset")===(null==current.charSet?null:current.charSet)){maybeNodes.splice(i,1);break b}}currentResource=hoistableRoot.createElement(flags);setInitialProperties(currentResource,flags,current);hoistableRoot.head.appendChild(currentResource);break;default:throw Error(formatProdErrorMessage(468,flags))}currentResource[internalInstanceKey]=finishedWork;markNodeAsHoistable(currentResource);flags=currentResource}finishedWork.stateNode=flags}else mountHoistable(hoistableRoot,finishedWork.type,finishedWork.stateNode);else finishedWork.stateNode=acquireResource(hoistableRoot,flags,finishedWork.memoizedProps);else currentResource!==flags?(null===currentResource?null!==current.stateNode&&(current=current.stateNode,current.parentNode.removeChild(current)):currentResource.count--,null===flags?mountHoistable(hoistableRoot,finishedWork.type,finishedWork.stateNode):acquireResource(hoistableRoot,flags,finishedWork.memoizedProps)):null===flags&&null!==finishedWork.stateNode&&commitHostUpdate(finishedWork,finishedWork.memoizedProps,current.memoizedProps)}break;case 27:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&512&&(offscreenSubtreeWasHidden||null===current||safelyDetachRef(current,current.return));null!==current&&flags&4&&commitHostUpdate(finishedWork,finishedWork.memoizedProps,current.memoizedProps);break;case 5:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&512&&(offscreenSubtreeWasHidden||null===current||safelyDetachRef(current,current.return));if(finishedWork.flags&32){hoistableRoot=finishedWork.stateNode;try{setTextContent(hoistableRoot,"")}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}flags&4&&null!=finishedWork.stateNode&&(hoistableRoot=finishedWork.memoizedProps,commitHostUpdate(finishedWork,hoistableRoot,null!==current?current.memoizedProps:hoistableRoot));flags&1024&&(needsFormReset=true);break;case 6:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);if(flags&4){if(null===finishedWork.stateNode)throw Error(formatProdErrorMessage(162));flags=finishedWork.memoizedProps;current=finishedWork.stateNode;try{current.nodeValue=flags}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}break;case 3:tagCaches=null;hoistableRoot=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(root3.containerInfo);recursivelyTraverseMutationEffects(root3,finishedWork);currentHoistableRoot=hoistableRoot;commitReconciliationEffects(finishedWork);if(flags&4&&null!==current&&current.memoizedState.isDehydrated)try{retryIfBlockedOn(root3.containerInfo)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}needsFormReset&&(needsFormReset=false,recursivelyResetForms(finishedWork));break;case 4:flags=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(finishedWork.stateNode.containerInfo);recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);currentHoistableRoot=flags;break;case 12:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);break;case 31:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&4&&(flags=finishedWork.updateQueue,null!==flags&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 13:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);finishedWork.child.flags&8192&&null!==finishedWork.memoizedState!==(null!==current&&null!==current.memoizedState)&&(globalMostRecentFallbackTime=now());flags&4&&(flags=finishedWork.updateQueue,null!==flags&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 22:hoistableRoot=null!==finishedWork.memoizedState;var wasHidden=null!==current&&null!==current.memoizedState,prevOffscreenSubtreeIsHidden=offscreenSubtreeIsHidden,prevOffscreenSubtreeWasHidden=offscreenSubtreeWasHidden;offscreenSubtreeIsHidden=prevOffscreenSubtreeIsHidden||hoistableRoot;offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden||wasHidden;recursivelyTraverseMutationEffects(root3,finishedWork);offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden;offscreenSubtreeIsHidden=prevOffscreenSubtreeIsHidden;commitReconciliationEffects(finishedWork);if(flags&8192)a:for(root3=finishedWork.stateNode,root3._visibility=hoistableRoot?root3._visibility&-2:root3._visibility|1,hoistableRoot&&(null===current||wasHidden||offscreenSubtreeIsHidden||offscreenSubtreeWasHidden||recursivelyTraverseDisappearLayoutEffects(finishedWork)),current=null,root3=finishedWork;;){if(5===root3.tag||26===root3.tag){if(null===current){wasHidden=current=root3;try{if(currentResource=wasHidden.stateNode,hoistableRoot)maybeNodes=currentResource.style,"function"===typeof maybeNodes.setProperty?maybeNodes.setProperty("display","none","important"):maybeNodes.display="none";else{i=wasHidden.stateNode;var styleProp=wasHidden.memoizedProps.style,display=void 0!==styleProp&&null!==styleProp&&styleProp.hasOwnProperty("display")?styleProp.display:null;i.style.display=null==display||"boolean"===typeof display?"":(""+display).trim()}}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if(6===root3.tag){if(null===current){wasHidden=root3;try{wasHidden.stateNode.nodeValue=hoistableRoot?"":wasHidden.memoizedProps}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if(18===root3.tag){if(null===current){wasHidden=root3;try{var instance=wasHidden.stateNode;hoistableRoot?hideOrUnhideDehydratedBoundary(instance,true):hideOrUnhideDehydratedBoundary(wasHidden.stateNode,false)}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if((22!==root3.tag&&23!==root3.tag||null===root3.memoizedState||root3===finishedWork)&&null!==root3.child){root3.child.return=root3;root3=root3.child;continue}if(root3===finishedWork)break a;for(;null===root3.sibling;){if(null===root3.return||root3.return===finishedWork)break a;current===root3&&(current=null);root3=root3.return}current===root3&&(current=null);root3.sibling.return=root3.return;root3=root3.sibling}flags&4&&(flags=finishedWork.updateQueue,null!==flags&&(current=flags.retryQueue,null!==current&&(flags.retryQueue=null,attachSuspenseRetryListeners(finishedWork,current))));break;case 19:recursivelyTraverseMutationEffects(root3,finishedWork);commitReconciliationEffects(finishedWork);flags&4&&(flags=finishedWork.updateQueue,null!==flags&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 30:break;case 21:break;default:recursivelyTraverseMutationEffects(root3,finishedWork),commitReconciliationEffects(finishedWork)}}function commitReconciliationEffects(finishedWork){var flags=finishedWork.flags;if(flags&2){try{for(var hostParentFiber,parentFiber=finishedWork.return;null!==parentFiber;){if(isHostParent(parentFiber)){hostParentFiber=parentFiber;break}parentFiber=parentFiber.return}if(null==hostParentFiber)throw Error(formatProdErrorMessage(160));switch(hostParentFiber.tag){case 27:var parent=hostParentFiber.stateNode,before=getHostSibling(finishedWork);insertOrAppendPlacementNode(finishedWork,before,parent);break;case 5:var parent$141=hostParentFiber.stateNode;hostParentFiber.flags&32&&(setTextContent(parent$141,""),hostParentFiber.flags&=-33);var before$142=getHostSibling(finishedWork);insertOrAppendPlacementNode(finishedWork,before$142,parent$141);break;case 3:case 4:var parent$143=hostParentFiber.stateNode.containerInfo,before$144=getHostSibling(finishedWork);insertOrAppendPlacementNodeIntoContainer(finishedWork,before$144,parent$143);break;default:throw Error(formatProdErrorMessage(161))}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}finishedWork.flags&=-3}flags&4096&&(finishedWork.flags&=-4097)}function recursivelyResetForms(parentFiber){if(parentFiber.subtreeFlags&1024)for(parentFiber=parentFiber.child;null!==parentFiber;){var fiber=parentFiber;recursivelyResetForms(fiber);5===fiber.tag&&fiber.flags&1024&&fiber.stateNode.reset();parentFiber=parentFiber.sibling}}function recursivelyTraverseLayoutEffects(root3,parentFiber){if(parentFiber.subtreeFlags&8772)for(parentFiber=parentFiber.child;null!==parentFiber;)commitLayoutEffectOnFiber(root3,parentFiber.alternate,parentFiber),parentFiber=parentFiber.sibling}function recursivelyTraverseDisappearLayoutEffects(parentFiber){for(parentFiber=parentFiber.child;null!==parentFiber;){var finishedWork=parentFiber;switch(finishedWork.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,finishedWork,finishedWork.return);recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 1:safelyDetachRef(finishedWork,finishedWork.return);var instance=finishedWork.stateNode;"function"===typeof instance.componentWillUnmount&&safelyCallComponentWillUnmount(finishedWork,finishedWork.return,instance);recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 27:releaseSingletonInstance(finishedWork.stateNode);case 26:case 5:safelyDetachRef(finishedWork,finishedWork.return);recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 22:null===finishedWork.memoizedState&&recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 30:recursivelyTraverseDisappearLayoutEffects(finishedWork);break;default:recursivelyTraverseDisappearLayoutEffects(finishedWork)}parentFiber=parentFiber.sibling}}function recursivelyTraverseReappearLayoutEffects(finishedRoot$jscomp$0,parentFiber,includeWorkInProgressEffects){includeWorkInProgressEffects=includeWorkInProgressEffects&&0!==(parentFiber.subtreeFlags&8772);for(parentFiber=parentFiber.child;null!==parentFiber;){var current=parentFiber.alternate,finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);commitHookEffectListMount(4,finishedWork);break;case 1:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);current=finishedWork;finishedRoot=current.stateNode;if("function"===typeof finishedRoot.componentDidMount)try{finishedRoot.componentDidMount()}catch(error){captureCommitPhaseError(current,current.return,error)}current=finishedWork;finishedRoot=current.updateQueue;if(null!==finishedRoot){var instance=current.stateNode;try{var hiddenCallbacks=finishedRoot.shared.hiddenCallbacks;if(null!==hiddenCallbacks)for(finishedRoot.shared.hiddenCallbacks=null,finishedRoot=0;finishedRoot<hiddenCallbacks.length;finishedRoot++)callCallback(hiddenCallbacks[finishedRoot],instance)}catch(error){captureCommitPhaseError(current,current.return,error)}}includeWorkInProgressEffects&&flags&64&&commitClassCallbacks(finishedWork);safelyAttachRef(finishedWork,finishedWork.return);break;case 27:commitHostSingletonAcquisition(finishedWork);case 26:case 5:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);includeWorkInProgressEffects&&null===current&&flags&4&&commitHostMount(finishedWork);safelyAttachRef(finishedWork,finishedWork.return);break;case 12:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);break;case 31:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);includeWorkInProgressEffects&&flags&4&&commitActivityHydrationCallbacks(finishedRoot,finishedWork);break;case 13:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);includeWorkInProgressEffects&&flags&4&&commitSuspenseHydrationCallbacks(finishedRoot,finishedWork);break;case 22:null===finishedWork.memoizedState&&recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);safelyAttachRef(finishedWork,finishedWork.return);break;case 30:break;default:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects)}parentFiber=parentFiber.sibling}}function commitOffscreenPassiveMountEffects(current,finishedWork){var previousCache=null;null!==current&&null!==current.memoizedState&&null!==current.memoizedState.cachePool&&(previousCache=current.memoizedState.cachePool.pool);current=null;null!==finishedWork.memoizedState&&null!==finishedWork.memoizedState.cachePool&&(current=finishedWork.memoizedState.cachePool.pool);current!==previousCache&&(null!=current&&current.refCount++,null!=previousCache&&releaseCache(previousCache))}function commitCachePassiveMountEffect(current,finishedWork){current=null;null!==finishedWork.alternate&&(current=finishedWork.alternate.memoizedState.cache);finishedWork=finishedWork.memoizedState.cache;finishedWork!==current&&(finishedWork.refCount++,null!=current&&releaseCache(current))}function recursivelyTraversePassiveMountEffects(root3,parentFiber,committedLanes,committedTransitions){if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;null!==parentFiber;)commitPassiveMountOnFiber(root3,parentFiber,committedLanes,committedTransitions),parentFiber=parentFiber.sibling}function commitPassiveMountOnFiber(finishedRoot,finishedWork,committedLanes,committedTransitions){var flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);flags&2048&&commitHookEffectListMount(9,finishedWork);break;case 1:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 3:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);flags&2048&&(finishedRoot=null,null!==finishedWork.alternate&&(finishedRoot=finishedWork.alternate.memoizedState.cache),finishedWork=finishedWork.memoizedState.cache,finishedWork!==finishedRoot&&(finishedWork.refCount++,null!=finishedRoot&&releaseCache(finishedRoot)));break;case 12:if(flags&2048){recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);finishedRoot=finishedWork.stateNode;try{var _finishedWork$memoize2=finishedWork.memoizedProps,id=_finishedWork$memoize2.id,onPostCommit=_finishedWork$memoize2.onPostCommit;"function"===typeof onPostCommit&&onPostCommit(id,null===finishedWork.alternate?"mount":"update",finishedRoot.passiveEffectDuration,-0)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}else recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 31:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 13:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 23:break;case 22:_finishedWork$memoize2=finishedWork.stateNode;id=finishedWork.alternate;null!==finishedWork.memoizedState?_finishedWork$memoize2._visibility&2?recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions):recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork):_finishedWork$memoize2._visibility&2?recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions):(_finishedWork$memoize2._visibility|=2,recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,0!==(finishedWork.subtreeFlags&10256)||false));flags&2048&&commitOffscreenPassiveMountEffects(id,finishedWork);break;case 24:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions)}}function recursivelyTraverseReconnectPassiveEffects(finishedRoot$jscomp$0,parentFiber,committedLanes$jscomp$0,committedTransitions$jscomp$0,includeWorkInProgressEffects){includeWorkInProgressEffects=includeWorkInProgressEffects&&(0!==(parentFiber.subtreeFlags&10256)||false);for(parentFiber=parentFiber.child;null!==parentFiber;){var finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,committedLanes=committedLanes$jscomp$0,committedTransitions=committedTransitions$jscomp$0,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects);commitHookEffectListMount(8,finishedWork);break;case 23:break;case 22:var instance=finishedWork.stateNode;null!==finishedWork.memoizedState?instance._visibility&2?recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects):recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork):(instance._visibility|=2,recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects));includeWorkInProgressEffects&&flags&2048&&commitOffscreenPassiveMountEffects(finishedWork.alternate,finishedWork);break;case 24:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects);includeWorkInProgressEffects&&flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects)}parentFiber=parentFiber.sibling}}function recursivelyTraverseAtomicPassiveEffects(finishedRoot$jscomp$0,parentFiber){if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;null!==parentFiber;){var finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,flags=finishedWork.flags;switch(finishedWork.tag){case 22:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork);flags&2048&&commitOffscreenPassiveMountEffects(finishedWork.alternate,finishedWork);break;case 24:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork);flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork)}parentFiber=parentFiber.sibling}}var suspenseyCommitFlag=8192;function recursivelyAccumulateSuspenseyCommit(parentFiber,committedLanes,suspendedState){if(parentFiber.subtreeFlags&suspenseyCommitFlag)for(parentFiber=parentFiber.child;null!==parentFiber;)accumulateSuspenseyCommitOnFiber(parentFiber,committedLanes,suspendedState),parentFiber=parentFiber.sibling}function accumulateSuspenseyCommitOnFiber(fiber,committedLanes,suspendedState){switch(fiber.tag){case 26:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState);fiber.flags&suspenseyCommitFlag&&null!==fiber.memoizedState&&suspendResource(suspendedState,currentHoistableRoot,fiber.memoizedState,fiber.memoizedProps);break;case 5:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState);break;case 3:case 4:var previousHoistableRoot=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(fiber.stateNode.containerInfo);recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState);currentHoistableRoot=previousHoistableRoot;break;case 22:null===fiber.memoizedState&&(previousHoistableRoot=fiber.alternate,null!==previousHoistableRoot&&null!==previousHoistableRoot.memoizedState?(previousHoistableRoot=suspenseyCommitFlag,suspenseyCommitFlag=16777216,recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState),suspenseyCommitFlag=previousHoistableRoot):recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState));break;default:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState)}}function detachAlternateSiblings(parentFiber){var previousFiber=parentFiber.alternate;if(null!==previousFiber&&(parentFiber=previousFiber.child,null!==parentFiber)){previousFiber.child=null;do previousFiber=parentFiber.sibling,parentFiber.sibling=null,parentFiber=previousFiber;while(null!==parentFiber)}}function recursivelyTraversePassiveUnmountEffects(parentFiber){var deletions=parentFiber.deletions;if(0!==(parentFiber.flags&16)){if(null!==deletions)for(var i=0;i<deletions.length;i++){var childToDelete=deletions[i];nextEffect=childToDelete;commitPassiveUnmountEffectsInsideOfDeletedTree_begin(childToDelete,parentFiber)}detachAlternateSiblings(parentFiber)}if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;null!==parentFiber;)commitPassiveUnmountOnFiber(parentFiber),parentFiber=parentFiber.sibling}function commitPassiveUnmountOnFiber(finishedWork){switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(finishedWork);finishedWork.flags&2048&&commitHookEffectListUnmount(9,finishedWork,finishedWork.return);break;case 3:recursivelyTraversePassiveUnmountEffects(finishedWork);break;case 12:recursivelyTraversePassiveUnmountEffects(finishedWork);break;case 22:var instance=finishedWork.stateNode;null!==finishedWork.memoizedState&&instance._visibility&2&&(null===finishedWork.return||13!==finishedWork.return.tag)?(instance._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(finishedWork)):recursivelyTraversePassiveUnmountEffects(finishedWork);break;default:recursivelyTraversePassiveUnmountEffects(finishedWork)}}function recursivelyTraverseDisconnectPassiveEffects(parentFiber){var deletions=parentFiber.deletions;if(0!==(parentFiber.flags&16)){if(null!==deletions)for(var i=0;i<deletions.length;i++){var childToDelete=deletions[i];nextEffect=childToDelete;commitPassiveUnmountEffectsInsideOfDeletedTree_begin(childToDelete,parentFiber)}detachAlternateSiblings(parentFiber)}for(parentFiber=parentFiber.child;null!==parentFiber;){deletions=parentFiber;switch(deletions.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,deletions,deletions.return);recursivelyTraverseDisconnectPassiveEffects(deletions);break;case 22:i=deletions.stateNode;i._visibility&2&&(i._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(deletions));break;default:recursivelyTraverseDisconnectPassiveEffects(deletions)}parentFiber=parentFiber.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(deletedSubtreeRoot,nearestMountedAncestor){for(;null!==nextEffect;){var fiber=nextEffect;switch(fiber.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,fiber,nearestMountedAncestor);break;case 23:case 22:if(null!==fiber.memoizedState&&null!==fiber.memoizedState.cachePool){var cache=fiber.memoizedState.cachePool.pool;null!=cache&&cache.refCount++}break;case 24:releaseCache(fiber.memoizedState.cache)}cache=fiber.child;if(null!==cache)cache.return=fiber,nextEffect=cache;else a:for(fiber=deletedSubtreeRoot;null!==nextEffect;){cache=nextEffect;var sibling=cache.sibling,returnFiber=cache.return;detachFiberAfterEffects(cache);if(cache===fiber){nextEffect=null;break a}if(null!==sibling){sibling.return=returnFiber;nextEffect=sibling;break a}nextEffect=returnFiber}}}var DefaultAsyncDispatcher={getCacheForType:function(resourceType){var cache=readContext(CacheContext),cacheForType=cache.data.get(resourceType);void 0===cacheForType&&(cacheForType=resourceType(),cache.data.set(resourceType,cacheForType));return cacheForType},cacheSignal:function(){return readContext(CacheContext).controller.signal}};var PossiblyWeakMap="function"===typeof WeakMap?WeakMap:Map;var executionContext=0;var workInProgressRoot=null;var workInProgress=null;var workInProgressRootRenderLanes=0;var workInProgressSuspendedReason=0;var workInProgressThrownValue=null;var workInProgressRootDidSkipSuspendedSiblings=false;var workInProgressRootIsPrerendering=false;var workInProgressRootDidAttachPingListener=false;var entangledRenderLanes=0;var workInProgressRootExitStatus=0;var workInProgressRootSkippedLanes=0;var workInProgressRootInterleavedUpdatedLanes=0;var workInProgressRootPingedLanes=0;var workInProgressDeferredLane=0;var workInProgressSuspendedRetryLanes=0;var workInProgressRootConcurrentErrors=null;var workInProgressRootRecoverableErrors=null;var workInProgressRootDidIncludeRecursiveRenderUpdate=false;var globalMostRecentFallbackTime=0;var globalMostRecentTransitionTime=0;var workInProgressRootRenderTargetTime=Infinity;var workInProgressTransitions=null;var legacyErrorBoundariesThatAlreadyFailed=null;var pendingEffectsStatus=0;var pendingEffectsRoot=null;var pendingFinishedWork=null;var pendingEffectsLanes=0;var pendingEffectsRemainingLanes=0;var pendingPassiveTransitions=null;var pendingRecoverableErrors=null;var nestedUpdateCount=0;var rootWithNestedUpdates=null;function requestUpdateLane(){return 0!==(executionContext&2)&&0!==workInProgressRootRenderLanes?workInProgressRootRenderLanes&-workInProgressRootRenderLanes:null!==ReactSharedInternals.T?requestTransitionLane():resolveUpdatePriority()}function requestDeferredLane(){if(0===workInProgressDeferredLane)if(0===(workInProgressRootRenderLanes&536870912)||isHydrating){var lane=nextTransitionDeferredLane;nextTransitionDeferredLane<<=1;0===(nextTransitionDeferredLane&3932160)&&(nextTransitionDeferredLane=262144);workInProgressDeferredLane=lane}else workInProgressDeferredLane=536870912;lane=suspenseHandlerStackCursor.current;null!==lane&&(lane.flags|=32);return workInProgressDeferredLane}function scheduleUpdateOnFiber(root3,fiber,lane){if(root3===workInProgressRoot&&(2===workInProgressSuspendedReason||9===workInProgressSuspendedReason)||null!==root3.cancelPendingCommit)prepareFreshStack(root3,0),markRootSuspended(root3,workInProgressRootRenderLanes,workInProgressDeferredLane,false);markRootUpdated$1(root3,lane);if(0===(executionContext&2)||root3!==workInProgressRoot)root3===workInProgressRoot&&(0===(executionContext&2)&&(workInProgressRootInterleavedUpdatedLanes|=lane),4===workInProgressRootExitStatus&&markRootSuspended(root3,workInProgressRootRenderLanes,workInProgressDeferredLane,false)),ensureRootIsScheduled(root3)}function performWorkOnRoot(root$jscomp$0,lanes,forceSync){if(0!==(executionContext&6))throw Error(formatProdErrorMessage(327));var shouldTimeSlice=!forceSync&&0===(lanes&127)&&0===(lanes&root$jscomp$0.expiredLanes)||checkIfRootIsPrerendering(root$jscomp$0,lanes),exitStatus=shouldTimeSlice?renderRootConcurrent(root$jscomp$0,lanes):renderRootSync(root$jscomp$0,lanes,true),renderWasConcurrent=shouldTimeSlice;do{if(0===exitStatus){workInProgressRootIsPrerendering&&!shouldTimeSlice&&markRootSuspended(root$jscomp$0,lanes,0,false);break}else{forceSync=root$jscomp$0.current.alternate;if(renderWasConcurrent&&!isRenderConsistentWithExternalStores(forceSync)){exitStatus=renderRootSync(root$jscomp$0,lanes,false);renderWasConcurrent=false;continue}if(2===exitStatus){renderWasConcurrent=lanes;if(root$jscomp$0.errorRecoveryDisabledLanes&renderWasConcurrent)var JSCompiler_inline_result=0;else JSCompiler_inline_result=root$jscomp$0.pendingLanes&-536870913,JSCompiler_inline_result=0!==JSCompiler_inline_result?JSCompiler_inline_result:JSCompiler_inline_result&536870912?536870912:0;if(0!==JSCompiler_inline_result){lanes=JSCompiler_inline_result;a:{var root3=root$jscomp$0;exitStatus=workInProgressRootConcurrentErrors;var wasRootDehydrated=root3.current.memoizedState.isDehydrated;wasRootDehydrated&&(prepareFreshStack(root3,JSCompiler_inline_result).flags|=256);JSCompiler_inline_result=renderRootSync(root3,JSCompiler_inline_result,false);if(2!==JSCompiler_inline_result){if(workInProgressRootDidAttachPingListener&&!wasRootDehydrated){root3.errorRecoveryDisabledLanes|=renderWasConcurrent;workInProgressRootInterleavedUpdatedLanes|=renderWasConcurrent;exitStatus=4;break a}renderWasConcurrent=workInProgressRootRecoverableErrors;workInProgressRootRecoverableErrors=exitStatus;null!==renderWasConcurrent&&(null===workInProgressRootRecoverableErrors?workInProgressRootRecoverableErrors=renderWasConcurrent:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,renderWasConcurrent))}exitStatus=JSCompiler_inline_result}renderWasConcurrent=false;if(2!==exitStatus)continue}}if(1===exitStatus){prepareFreshStack(root$jscomp$0,0);markRootSuspended(root$jscomp$0,lanes,0,true);break}a:{shouldTimeSlice=root$jscomp$0;renderWasConcurrent=exitStatus;switch(renderWasConcurrent){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if((lanes&4194048)!==lanes)break;case 6:markRootSuspended(shouldTimeSlice,lanes,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings);break a;case 2:workInProgressRootRecoverableErrors=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if((lanes&62914560)===lanes&&(exitStatus=globalMostRecentFallbackTime+300-now(),10<exitStatus)){markRootSuspended(shouldTimeSlice,lanes,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings);if(0!==getNextLanes(shouldTimeSlice,0,true))break a;pendingEffectsLanes=lanes;shouldTimeSlice.timeoutHandle=scheduleTimeout(commitRootWhenReady.bind(null,shouldTimeSlice,forceSync,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,lanes,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,renderWasConcurrent,"Throttled",-0,0),exitStatus);break a}commitRootWhenReady(shouldTimeSlice,forceSync,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,lanes,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,renderWasConcurrent,null,-0,0)}}break}while(1);ensureRootIsScheduled(root$jscomp$0)}function commitRootWhenReady(root3,finishedWork,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,lanes,spawnedLane,updatedLanes,suspendedRetryLanes,didSkipSuspendedSiblings,exitStatus,suspendedCommitReason,completedRenderStartTime,completedRenderEndTime){root3.timeoutHandle=-1;suspendedCommitReason=finishedWork.subtreeFlags;if(suspendedCommitReason&8192||16785408===(suspendedCommitReason&16785408)){suspendedCommitReason={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:true,waitingForViewTransition:false,unsuspend:noop$1};accumulateSuspenseyCommitOnFiber(finishedWork,lanes,suspendedCommitReason);var timeoutOffset=(lanes&62914560)===lanes?globalMostRecentFallbackTime-now():(lanes&4194048)===lanes?globalMostRecentTransitionTime-now():0;timeoutOffset=waitForCommitToBeReady(suspendedCommitReason,timeoutOffset);if(null!==timeoutOffset){pendingEffectsLanes=lanes;root3.cancelPendingCommit=timeoutOffset(commitRoot.bind(null,root3,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes,exitStatus,suspendedCommitReason,null,completedRenderStartTime,completedRenderEndTime));markRootSuspended(root3,lanes,spawnedLane,!didSkipSuspendedSiblings);return}}commitRoot(root3,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes)}function isRenderConsistentWithExternalStores(finishedWork){for(var node=finishedWork;;){var tag=node.tag;if((0===tag||11===tag||15===tag)&&node.flags&16384&&(tag=node.updateQueue,null!==tag&&(tag=tag.stores,null!==tag)))for(var i=0;i<tag.length;i++){var check=tag[i],getSnapshot=check.getSnapshot;check=check.value;try{if(!objectIs(getSnapshot(),check))return false}catch(error){return false}}tag=node.child;if(node.subtreeFlags&16384&&null!==tag)tag.return=node,node=tag;else{if(node===finishedWork)break;for(;null===node.sibling;){if(null===node.return||node.return===finishedWork)return true;node=node.return}node.sibling.return=node.return;node=node.sibling}}return true}function markRootSuspended(root3,suspendedLanes,spawnedLane,didAttemptEntireTree){suspendedLanes&=~workInProgressRootPingedLanes;suspendedLanes&=~workInProgressRootInterleavedUpdatedLanes;root3.suspendedLanes|=suspendedLanes;root3.pingedLanes&=~suspendedLanes;didAttemptEntireTree&&(root3.warmLanes|=suspendedLanes);didAttemptEntireTree=root3.expirationTimes;for(var lanes=suspendedLanes;0<lanes;){var index$6=31-clz32(lanes),lane=1<<index$6;didAttemptEntireTree[index$6]=-1;lanes&=~lane}0!==spawnedLane&&markSpawnedDeferredLane(root3,spawnedLane,suspendedLanes)}function flushSyncWork$1(){return 0===(executionContext&6)?(flushSyncWorkAcrossRoots_impl(0,false),false):true}function resetWorkInProgressStack(){if(null!==workInProgress){if(0===workInProgressSuspendedReason)var interruptedWork=workInProgress.return;else interruptedWork=workInProgress,lastContextDependency=currentlyRenderingFiber$1=null,resetHooksOnUnwind(interruptedWork),thenableState$1=null,thenableIndexCounter$1=0,interruptedWork=workInProgress;for(;null!==interruptedWork;)unwindInterruptedWork(interruptedWork.alternate,interruptedWork),interruptedWork=interruptedWork.return;workInProgress=null}}function prepareFreshStack(root3,lanes){var timeoutHandle=root3.timeoutHandle;-1!==timeoutHandle&&(root3.timeoutHandle=-1,cancelTimeout(timeoutHandle));timeoutHandle=root3.cancelPendingCommit;null!==timeoutHandle&&(root3.cancelPendingCommit=null,timeoutHandle());pendingEffectsLanes=0;resetWorkInProgressStack();workInProgressRoot=root3;workInProgress=timeoutHandle=createWorkInProgress(root3.current,null);workInProgressRootRenderLanes=lanes;workInProgressSuspendedReason=0;workInProgressThrownValue=null;workInProgressRootDidSkipSuspendedSiblings=false;workInProgressRootIsPrerendering=checkIfRootIsPrerendering(root3,lanes);workInProgressRootDidAttachPingListener=false;workInProgressSuspendedRetryLanes=workInProgressDeferredLane=workInProgressRootPingedLanes=workInProgressRootInterleavedUpdatedLanes=workInProgressRootSkippedLanes=workInProgressRootExitStatus=0;workInProgressRootRecoverableErrors=workInProgressRootConcurrentErrors=null;workInProgressRootDidIncludeRecursiveRenderUpdate=false;0!==(lanes&8)&&(lanes|=lanes&32);var allEntangledLanes=root3.entangledLanes;if(0!==allEntangledLanes)for(root3=root3.entanglements,allEntangledLanes&=lanes;0<allEntangledLanes;){var index$4=31-clz32(allEntangledLanes),lane=1<<index$4;lanes|=root3[index$4];allEntangledLanes&=~lane}entangledRenderLanes=lanes;finishQueueingConcurrentUpdates();return timeoutHandle}function handleThrow(root3,thrownValue){currentlyRenderingFiber=null;ReactSharedInternals.H=ContextOnlyDispatcher;thrownValue===SuspenseException||thrownValue===SuspenseActionException?(thrownValue=getSuspendedThenable(),workInProgressSuspendedReason=3):thrownValue===SuspenseyCommitException?(thrownValue=getSuspendedThenable(),workInProgressSuspendedReason=4):workInProgressSuspendedReason=thrownValue===SelectiveHydrationException?8:null!==thrownValue&&"object"===typeof thrownValue&&"function"===typeof thrownValue.then?6:1;workInProgressThrownValue=thrownValue;null===workInProgress&&(workInProgressRootExitStatus=1,logUncaughtError(root3,createCapturedValueAtFiber(thrownValue,root3.current)))}function shouldRemainOnPreviousScreen(){var handler=suspenseHandlerStackCursor.current;return null===handler?true:(workInProgressRootRenderLanes&4194048)===workInProgressRootRenderLanes?null===shellBoundary?true:false:(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes||0!==(workInProgressRootRenderLanes&536870912)?handler===shellBoundary:false}function pushDispatcher(){var prevDispatcher=ReactSharedInternals.H;ReactSharedInternals.H=ContextOnlyDispatcher;return null===prevDispatcher?ContextOnlyDispatcher:prevDispatcher}function pushAsyncDispatcher(){var prevAsyncDispatcher=ReactSharedInternals.A;ReactSharedInternals.A=DefaultAsyncDispatcher;return prevAsyncDispatcher}function renderDidSuspendDelayIfPossible(){workInProgressRootExitStatus=4;workInProgressRootDidSkipSuspendedSiblings||(workInProgressRootRenderLanes&4194048)!==workInProgressRootRenderLanes&&null!==suspenseHandlerStackCursor.current||(workInProgressRootIsPrerendering=true);0===(workInProgressRootSkippedLanes&134217727)&&0===(workInProgressRootInterleavedUpdatedLanes&134217727)||null===workInProgressRoot||markRootSuspended(workInProgressRoot,workInProgressRootRenderLanes,workInProgressDeferredLane,false)}function renderRootSync(root3,lanes,shouldYieldForPrerendering){var prevExecutionContext=executionContext;executionContext|=2;var prevDispatcher=pushDispatcher(),prevAsyncDispatcher=pushAsyncDispatcher();if(workInProgressRoot!==root3||workInProgressRootRenderLanes!==lanes)workInProgressTransitions=null,prepareFreshStack(root3,lanes);lanes=false;var exitStatus=workInProgressRootExitStatus;a:do try{if(0!==workInProgressSuspendedReason&&null!==workInProgress){var unitOfWork=workInProgress,thrownValue=workInProgressThrownValue;switch(workInProgressSuspendedReason){case 8:resetWorkInProgressStack();exitStatus=6;break a;case 3:case 2:case 9:case 6:null===suspenseHandlerStackCursor.current&&(lanes=true);var reason=workInProgressSuspendedReason;workInProgressSuspendedReason=0;workInProgressThrownValue=null;throwAndUnwindWorkLoop(root3,unitOfWork,thrownValue,reason);if(shouldYieldForPrerendering&&workInProgressRootIsPrerendering){exitStatus=0;break a}break;default:reason=workInProgressSuspendedReason,workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root3,unitOfWork,thrownValue,reason)}}workLoopSync();exitStatus=workInProgressRootExitStatus;break}catch(thrownValue$165){handleThrow(root3,thrownValue$165)}while(1);lanes&&root3.shellSuspendCounter++;lastContextDependency=currentlyRenderingFiber$1=null;executionContext=prevExecutionContext;ReactSharedInternals.H=prevDispatcher;ReactSharedInternals.A=prevAsyncDispatcher;null===workInProgress&&(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates());return exitStatus}function workLoopSync(){for(;null!==workInProgress;)performUnitOfWork(workInProgress)}function renderRootConcurrent(root3,lanes){var prevExecutionContext=executionContext;executionContext|=2;var prevDispatcher=pushDispatcher(),prevAsyncDispatcher=pushAsyncDispatcher();workInProgressRoot!==root3||workInProgressRootRenderLanes!==lanes?(workInProgressTransitions=null,workInProgressRootRenderTargetTime=now()+500,prepareFreshStack(root3,lanes)):workInProgressRootIsPrerendering=checkIfRootIsPrerendering(root3,lanes);a:do try{if(0!==workInProgressSuspendedReason&&null!==workInProgress){lanes=workInProgress;var thrownValue=workInProgressThrownValue;b:switch(workInProgressSuspendedReason){case 1:workInProgressSuspendedReason=0;workInProgressThrownValue=null;throwAndUnwindWorkLoop(root3,lanes,thrownValue,1);break;case 2:case 9:if(isThenableResolved(thrownValue)){workInProgressSuspendedReason=0;workInProgressThrownValue=null;replaySuspendedUnitOfWork(lanes);break}lanes=function(){2!==workInProgressSuspendedReason&&9!==workInProgressSuspendedReason||workInProgressRoot!==root3||(workInProgressSuspendedReason=7);ensureRootIsScheduled(root3)};thrownValue.then(lanes,lanes);break a;case 3:workInProgressSuspendedReason=7;break a;case 4:workInProgressSuspendedReason=5;break a;case 7:isThenableResolved(thrownValue)?(workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork(lanes)):(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root3,lanes,thrownValue,7));break;case 5:var resource=null;switch(workInProgress.tag){case 26:resource=workInProgress.memoizedState;case 5:case 27:var hostFiber=workInProgress;if(resource?preloadResource(resource):hostFiber.stateNode.complete){workInProgressSuspendedReason=0;workInProgressThrownValue=null;var sibling=hostFiber.sibling;if(null!==sibling)workInProgress=sibling;else{var returnFiber=hostFiber.return;null!==returnFiber?(workInProgress=returnFiber,completeUnitOfWork(returnFiber)):workInProgress=null}break b}}workInProgressSuspendedReason=0;workInProgressThrownValue=null;throwAndUnwindWorkLoop(root3,lanes,thrownValue,5);break;case 6:workInProgressSuspendedReason=0;workInProgressThrownValue=null;throwAndUnwindWorkLoop(root3,lanes,thrownValue,6);break;case 8:resetWorkInProgressStack();workInProgressRootExitStatus=6;break a;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrentByScheduler();break}catch(thrownValue$167){handleThrow(root3,thrownValue$167)}while(1);lastContextDependency=currentlyRenderingFiber$1=null;ReactSharedInternals.H=prevDispatcher;ReactSharedInternals.A=prevAsyncDispatcher;executionContext=prevExecutionContext;if(null!==workInProgress)return 0;workInProgressRoot=null;workInProgressRootRenderLanes=0;finishQueueingConcurrentUpdates();return workInProgressRootExitStatus}function workLoopConcurrentByScheduler(){for(;null!==workInProgress&&!shouldYield();)performUnitOfWork(workInProgress)}function performUnitOfWork(unitOfWork){var next=beginWork(unitOfWork.alternate,unitOfWork,entangledRenderLanes);unitOfWork.memoizedProps=unitOfWork.pendingProps;null===next?completeUnitOfWork(unitOfWork):workInProgress=next}function replaySuspendedUnitOfWork(unitOfWork){var next=unitOfWork;var current=next.alternate;switch(next.tag){case 15:case 0:next=replayFunctionComponent(current,next,next.pendingProps,next.type,void 0,workInProgressRootRenderLanes);break;case 11:next=replayFunctionComponent(current,next,next.pendingProps,next.type.render,next.ref,workInProgressRootRenderLanes);break;case 5:resetHooksOnUnwind(next);default:unwindInterruptedWork(current,next),next=workInProgress=resetWorkInProgress(next,entangledRenderLanes),next=beginWork(current,next,entangledRenderLanes)}unitOfWork.memoizedProps=unitOfWork.pendingProps;null===next?completeUnitOfWork(unitOfWork):workInProgress=next}function throwAndUnwindWorkLoop(root3,unitOfWork,thrownValue,suspendedReason){lastContextDependency=currentlyRenderingFiber$1=null;resetHooksOnUnwind(unitOfWork);thenableState$1=null;thenableIndexCounter$1=0;var returnFiber=unitOfWork.return;try{if(throwException(root3,returnFiber,unitOfWork,thrownValue,workInProgressRootRenderLanes)){workInProgressRootExitStatus=1;logUncaughtError(root3,createCapturedValueAtFiber(thrownValue,root3.current));workInProgress=null;return}}catch(error){if(null!==returnFiber)throw workInProgress=returnFiber,error;workInProgressRootExitStatus=1;logUncaughtError(root3,createCapturedValueAtFiber(thrownValue,root3.current));workInProgress=null;return}if(unitOfWork.flags&32768){if(isHydrating||1===suspendedReason)root3=true;else if(workInProgressRootIsPrerendering||0!==(workInProgressRootRenderLanes&536870912))root3=false;else if(workInProgressRootDidSkipSuspendedSiblings=root3=true,2===suspendedReason||9===suspendedReason||3===suspendedReason||6===suspendedReason)suspendedReason=suspenseHandlerStackCursor.current,null!==suspendedReason&&13===suspendedReason.tag&&(suspendedReason.flags|=16384);unwindUnitOfWork(unitOfWork,root3)}else completeUnitOfWork(unitOfWork)}function completeUnitOfWork(unitOfWork){var completedWork=unitOfWork;do{if(0!==(completedWork.flags&32768)){unwindUnitOfWork(completedWork,workInProgressRootDidSkipSuspendedSiblings);return}unitOfWork=completedWork.return;var next=completeWork(completedWork.alternate,completedWork,entangledRenderLanes);if(null!==next){workInProgress=next;return}completedWork=completedWork.sibling;if(null!==completedWork){workInProgress=completedWork;return}workInProgress=completedWork=unitOfWork}while(null!==completedWork);0===workInProgressRootExitStatus&&(workInProgressRootExitStatus=5)}function unwindUnitOfWork(unitOfWork,skipSiblings){do{var next=unwindWork(unitOfWork.alternate,unitOfWork);if(null!==next){next.flags&=32767;workInProgress=next;return}next=unitOfWork.return;null!==next&&(next.flags|=32768,next.subtreeFlags=0,next.deletions=null);if(!skipSiblings&&(unitOfWork=unitOfWork.sibling,null!==unitOfWork)){workInProgress=unitOfWork;return}workInProgress=unitOfWork=next}while(null!==unitOfWork);workInProgressRootExitStatus=6;workInProgress=null}function commitRoot(root3,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes){root3.cancelPendingCommit=null;do flushPendingEffects();while(0!==pendingEffectsStatus);if(0!==(executionContext&6))throw Error(formatProdErrorMessage(327));if(null!==finishedWork){if(finishedWork===root3.current)throw Error(formatProdErrorMessage(177));didIncludeRenderPhaseUpdate=finishedWork.lanes|finishedWork.childLanes;didIncludeRenderPhaseUpdate|=concurrentlyUpdatedLanes;markRootFinished(root3,lanes,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes);root3===workInProgressRoot&&(workInProgress=workInProgressRoot=null,workInProgressRootRenderLanes=0);pendingFinishedWork=finishedWork;pendingEffectsRoot=root3;pendingEffectsLanes=lanes;pendingEffectsRemainingLanes=didIncludeRenderPhaseUpdate;pendingPassiveTransitions=transitions;pendingRecoverableErrors=recoverableErrors;0!==(finishedWork.subtreeFlags&10256)||0!==(finishedWork.flags&10256)?(root3.callbackNode=null,root3.callbackPriority=0,scheduleCallback$1(NormalPriority$1,function(){flushPassiveEffects();return null})):(root3.callbackNode=null,root3.callbackPriority=0);recoverableErrors=0!==(finishedWork.flags&13878);if(0!==(finishedWork.subtreeFlags&13878)||recoverableErrors){recoverableErrors=ReactSharedInternals.T;ReactSharedInternals.T=null;transitions=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;spawnedLane=executionContext;executionContext|=4;try{commitBeforeMutationEffects(root3,finishedWork,lanes)}finally{executionContext=spawnedLane,ReactDOMSharedInternals.p=transitions,ReactSharedInternals.T=recoverableErrors}}pendingEffectsStatus=1;flushMutationEffects();flushLayoutEffects();flushSpawnedWork()}}function flushMutationEffects(){if(1===pendingEffectsStatus){pendingEffectsStatus=0;var root3=pendingEffectsRoot,finishedWork=pendingFinishedWork,rootMutationHasEffect=0!==(finishedWork.flags&13878);if(0!==(finishedWork.subtreeFlags&13878)||rootMutationHasEffect){rootMutationHasEffect=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;var prevExecutionContext=executionContext;executionContext|=4;try{commitMutationEffectsOnFiber(finishedWork,root3);var priorSelectionInformation=selectionInformation,curFocusedElem=getActiveElementDeep(root3.containerInfo),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&priorFocusedElem&&priorFocusedElem.ownerDocument&&containsNode(priorFocusedElem.ownerDocument.documentElement,priorFocusedElem)){if(null!==priorSelectionRange&&hasSelectionCapabilities(priorFocusedElem)){var start=priorSelectionRange.start,end=priorSelectionRange.end;void 0===end&&(end=start);if("selectionStart"in priorFocusedElem)priorFocusedElem.selectionStart=start,priorFocusedElem.selectionEnd=Math.min(end,priorFocusedElem.value.length);else{var doc=priorFocusedElem.ownerDocument||document,win=doc&&doc.defaultView||window;if(win.getSelection){var selection=win.getSelection(),length=priorFocusedElem.textContent.length,start$jscomp$0=Math.min(priorSelectionRange.start,length),end$jscomp$0=void 0===priorSelectionRange.end?start$jscomp$0:Math.min(priorSelectionRange.end,length);!selection.extend&&start$jscomp$0>end$jscomp$0&&(curFocusedElem=end$jscomp$0,end$jscomp$0=start$jscomp$0,start$jscomp$0=curFocusedElem);var startMarker=getNodeForCharacterOffset(priorFocusedElem,start$jscomp$0),endMarker=getNodeForCharacterOffset(priorFocusedElem,end$jscomp$0);if(startMarker&&endMarker&&(1!==selection.rangeCount||selection.anchorNode!==startMarker.node||selection.anchorOffset!==startMarker.offset||selection.focusNode!==endMarker.node||selection.focusOffset!==endMarker.offset)){var range=doc.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();start$jscomp$0>end$jscomp$0?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}}doc=[];for(selection=priorFocusedElem;selection=selection.parentNode;)1===selection.nodeType&&doc.push({element:selection,left:selection.scrollLeft,top:selection.scrollTop});"function"===typeof priorFocusedElem.focus&&priorFocusedElem.focus();for(priorFocusedElem=0;priorFocusedElem<doc.length;priorFocusedElem++){var info=doc[priorFocusedElem];info.element.scrollLeft=info.left;info.element.scrollTop=info.top}}_enabled=!!eventsEnabled;selectionInformation=eventsEnabled=null}finally{executionContext=prevExecutionContext,ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=rootMutationHasEffect}}root3.current=finishedWork;pendingEffectsStatus=2}}function flushLayoutEffects(){if(2===pendingEffectsStatus){pendingEffectsStatus=0;var root3=pendingEffectsRoot,finishedWork=pendingFinishedWork,rootHasLayoutEffect=0!==(finishedWork.flags&8772);if(0!==(finishedWork.subtreeFlags&8772)||rootHasLayoutEffect){rootHasLayoutEffect=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;var prevExecutionContext=executionContext;executionContext|=4;try{commitLayoutEffectOnFiber(root3,finishedWork.alternate,finishedWork)}finally{executionContext=prevExecutionContext,ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=rootHasLayoutEffect}}pendingEffectsStatus=3}}function flushSpawnedWork(){if(4===pendingEffectsStatus||3===pendingEffectsStatus){pendingEffectsStatus=0;requestPaint();var root3=pendingEffectsRoot,finishedWork=pendingFinishedWork,lanes=pendingEffectsLanes,recoverableErrors=pendingRecoverableErrors;0!==(finishedWork.subtreeFlags&10256)||0!==(finishedWork.flags&10256)?pendingEffectsStatus=5:(pendingEffectsStatus=0,pendingFinishedWork=pendingEffectsRoot=null,releaseRootPooledCache(root3,root3.pendingLanes));var remainingLanes=root3.pendingLanes;0===remainingLanes&&(legacyErrorBoundariesThatAlreadyFailed=null);lanesToEventPriority(lanes);finishedWork=finishedWork.stateNode;if(injectedHook&&"function"===typeof injectedHook.onCommitFiberRoot)try{injectedHook.onCommitFiberRoot(rendererID,finishedWork,void 0,128===(finishedWork.current.flags&128))}catch(err){}if(null!==recoverableErrors){finishedWork=ReactSharedInternals.T;remainingLanes=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;ReactSharedInternals.T=null;try{for(var onRecoverableError=root3.onRecoverableError,i=0;i<recoverableErrors.length;i++){var recoverableError=recoverableErrors[i];onRecoverableError(recoverableError.value,{componentStack:recoverableError.stack})}}finally{ReactSharedInternals.T=finishedWork,ReactDOMSharedInternals.p=remainingLanes}}0!==(pendingEffectsLanes&3)&&flushPendingEffects();ensureRootIsScheduled(root3);remainingLanes=root3.pendingLanes;0!==(lanes&261930)&&0!==(remainingLanes&42)?root3===rootWithNestedUpdates?nestedUpdateCount++:(nestedUpdateCount=0,rootWithNestedUpdates=root3):nestedUpdateCount=0;flushSyncWorkAcrossRoots_impl(0,false)}}function releaseRootPooledCache(root3,remainingLanes){0===(root3.pooledCacheLanes&=remainingLanes)&&(remainingLanes=root3.pooledCache,null!=remainingLanes&&(root3.pooledCache=null,releaseCache(remainingLanes)))}function flushPendingEffects(){flushMutationEffects();flushLayoutEffects();flushSpawnedWork();return flushPassiveEffects()}function flushPassiveEffects(){if(5!==pendingEffectsStatus)return false;var root3=pendingEffectsRoot,remainingLanes=pendingEffectsRemainingLanes;pendingEffectsRemainingLanes=0;var renderPriority=lanesToEventPriority(pendingEffectsLanes),prevTransition=ReactSharedInternals.T,previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=32>renderPriority?32:renderPriority;ReactSharedInternals.T=null;renderPriority=pendingPassiveTransitions;pendingPassiveTransitions=null;var root$jscomp$0=pendingEffectsRoot,lanes=pendingEffectsLanes;pendingEffectsStatus=0;pendingFinishedWork=pendingEffectsRoot=null;pendingEffectsLanes=0;if(0!==(executionContext&6))throw Error(formatProdErrorMessage(331));var prevExecutionContext=executionContext;executionContext|=4;commitPassiveUnmountOnFiber(root$jscomp$0.current);commitPassiveMountOnFiber(root$jscomp$0,root$jscomp$0.current,lanes,renderPriority);executionContext=prevExecutionContext;flushSyncWorkAcrossRoots_impl(0,false);if(injectedHook&&"function"===typeof injectedHook.onPostCommitFiberRoot)try{injectedHook.onPostCommitFiberRoot(rendererID,root$jscomp$0)}catch(err){}return true}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition,releaseRootPooledCache(root3,remainingLanes)}}function captureCommitPhaseErrorOnRoot(rootFiber,sourceFiber,error){sourceFiber=createCapturedValueAtFiber(error,sourceFiber);sourceFiber=createRootErrorUpdate(rootFiber.stateNode,sourceFiber,2);rootFiber=enqueueUpdate(rootFiber,sourceFiber,2);null!==rootFiber&&(markRootUpdated$1(rootFiber,2),ensureRootIsScheduled(rootFiber))}function captureCommitPhaseError(sourceFiber,nearestMountedAncestor,error){if(3===sourceFiber.tag)captureCommitPhaseErrorOnRoot(sourceFiber,sourceFiber,error);else for(;null!==nearestMountedAncestor;){if(3===nearestMountedAncestor.tag){captureCommitPhaseErrorOnRoot(nearestMountedAncestor,sourceFiber,error);break}else if(1===nearestMountedAncestor.tag){var instance=nearestMountedAncestor.stateNode;if("function"===typeof nearestMountedAncestor.type.getDerivedStateFromError||"function"===typeof instance.componentDidCatch&&(null===legacyErrorBoundariesThatAlreadyFailed||!legacyErrorBoundariesThatAlreadyFailed.has(instance))){sourceFiber=createCapturedValueAtFiber(error,sourceFiber);error=createClassErrorUpdate(2);instance=enqueueUpdate(nearestMountedAncestor,error,2);null!==instance&&(initializeClassErrorUpdate(error,instance,nearestMountedAncestor,sourceFiber),markRootUpdated$1(instance,2),ensureRootIsScheduled(instance));break}}nearestMountedAncestor=nearestMountedAncestor.return}}function attachPingListener(root3,wakeable,lanes){var pingCache=root3.pingCache;if(null===pingCache){pingCache=root3.pingCache=new PossiblyWeakMap;var threadIDs=new Set;pingCache.set(wakeable,threadIDs)}else threadIDs=pingCache.get(wakeable),void 0===threadIDs&&(threadIDs=new Set,pingCache.set(wakeable,threadIDs));threadIDs.has(lanes)||(workInProgressRootDidAttachPingListener=true,threadIDs.add(lanes),root3=pingSuspendedRoot.bind(null,root3,wakeable,lanes),wakeable.then(root3,root3))}function pingSuspendedRoot(root3,wakeable,pingedLanes){var pingCache=root3.pingCache;null!==pingCache&&pingCache.delete(wakeable);root3.pingedLanes|=root3.suspendedLanes&pingedLanes;root3.warmLanes&=~pingedLanes;workInProgressRoot===root3&&(workInProgressRootRenderLanes&pingedLanes)===pingedLanes&&(4===workInProgressRootExitStatus||3===workInProgressRootExitStatus&&(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes&&300>now()-globalMostRecentFallbackTime?0===(executionContext&2)&&prepareFreshStack(root3,0):workInProgressRootPingedLanes|=pingedLanes,workInProgressSuspendedRetryLanes===workInProgressRootRenderLanes&&(workInProgressSuspendedRetryLanes=0));ensureRootIsScheduled(root3)}function retryTimedOutBoundary(boundaryFiber,retryLane){0===retryLane&&(retryLane=claimNextRetryLane());boundaryFiber=enqueueConcurrentRenderForLane(boundaryFiber,retryLane);null!==boundaryFiber&&(markRootUpdated$1(boundaryFiber,retryLane),ensureRootIsScheduled(boundaryFiber))}function retryDehydratedSuspenseBoundary(boundaryFiber){var suspenseState=boundaryFiber.memoizedState,retryLane=0;null!==suspenseState&&(retryLane=suspenseState.retryLane);retryTimedOutBoundary(boundaryFiber,retryLane)}function resolveRetryWakeable(boundaryFiber,wakeable){var retryLane=0;switch(boundaryFiber.tag){case 31:case 13:var retryCache=boundaryFiber.stateNode;var suspenseState=boundaryFiber.memoizedState;null!==suspenseState&&(retryLane=suspenseState.retryLane);break;case 19:retryCache=boundaryFiber.stateNode;break;case 22:retryCache=boundaryFiber.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}null!==retryCache&&retryCache.delete(wakeable);retryTimedOutBoundary(boundaryFiber,retryLane)}function scheduleCallback$1(priorityLevel,callback){return scheduleCallback$3(priorityLevel,callback)}var firstScheduledRoot=null;var lastScheduledRoot=null;var didScheduleMicrotask=false;var mightHavePendingSyncWork=false;var isFlushingWork=false;var currentEventTransitionLane=0;function ensureRootIsScheduled(root3){root3!==lastScheduledRoot&&null===root3.next&&(null===lastScheduledRoot?firstScheduledRoot=lastScheduledRoot=root3:lastScheduledRoot=lastScheduledRoot.next=root3);mightHavePendingSyncWork=true;didScheduleMicrotask||(didScheduleMicrotask=true,scheduleImmediateRootScheduleTask())}function flushSyncWorkAcrossRoots_impl(syncTransitionLanes,onlyLegacy){if(!isFlushingWork&&mightHavePendingSyncWork){isFlushingWork=true;do{var didPerformSomeWork=false;for(var root$170=firstScheduledRoot;null!==root$170;){if(!onlyLegacy)if(0!==syncTransitionLanes){var pendingLanes=root$170.pendingLanes;if(0===pendingLanes)var JSCompiler_inline_result=0;else{var suspendedLanes=root$170.suspendedLanes,pingedLanes=root$170.pingedLanes;JSCompiler_inline_result=(1<<31-clz32(42|syncTransitionLanes)+1)-1;JSCompiler_inline_result&=pendingLanes&~(suspendedLanes&~pingedLanes);JSCompiler_inline_result=JSCompiler_inline_result&201326741?JSCompiler_inline_result&201326741|1:JSCompiler_inline_result?JSCompiler_inline_result|2:0}0!==JSCompiler_inline_result&&(didPerformSomeWork=true,performSyncWorkOnRoot(root$170,JSCompiler_inline_result))}else JSCompiler_inline_result=workInProgressRootRenderLanes,JSCompiler_inline_result=getNextLanes(root$170,root$170===workInProgressRoot?JSCompiler_inline_result:0,null!==root$170.cancelPendingCommit||-1!==root$170.timeoutHandle),0===(JSCompiler_inline_result&3)||checkIfRootIsPrerendering(root$170,JSCompiler_inline_result)||(didPerformSomeWork=true,performSyncWorkOnRoot(root$170,JSCompiler_inline_result));root$170=root$170.next}}while(didPerformSomeWork);isFlushingWork=false}}function processRootScheduleInImmediateTask(){processRootScheduleInMicrotask()}function processRootScheduleInMicrotask(){mightHavePendingSyncWork=didScheduleMicrotask=false;var syncTransitionLanes=0;0!==currentEventTransitionLane&&shouldAttemptEagerTransition()&&(syncTransitionLanes=currentEventTransitionLane);for(var currentTime=now(),prev=null,root3=firstScheduledRoot;null!==root3;){var next=root3.next,nextLanes=scheduleTaskForRootDuringMicrotask(root3,currentTime);if(0===nextLanes)root3.next=null,null===prev?firstScheduledRoot=next:prev.next=next,null===next&&(lastScheduledRoot=prev);else if(prev=root3,0!==syncTransitionLanes||0!==(nextLanes&3))mightHavePendingSyncWork=true;root3=next}0!==pendingEffectsStatus&&5!==pendingEffectsStatus||flushSyncWorkAcrossRoots_impl(syncTransitionLanes,false);0!==currentEventTransitionLane&&(currentEventTransitionLane=0)}function scheduleTaskForRootDuringMicrotask(root3,currentTime){for(var suspendedLanes=root3.suspendedLanes,pingedLanes=root3.pingedLanes,expirationTimes=root3.expirationTimes,lanes=root3.pendingLanes&-62914561;0<lanes;){var index$5=31-clz32(lanes),lane=1<<index$5,expirationTime=expirationTimes[index$5];if(-1===expirationTime){if(0===(lane&suspendedLanes)||0!==(lane&pingedLanes))expirationTimes[index$5]=computeExpirationTime(lane,currentTime)}else expirationTime<=currentTime&&(root3.expiredLanes|=lane);lanes&=~lane}currentTime=workInProgressRoot;suspendedLanes=workInProgressRootRenderLanes;suspendedLanes=getNextLanes(root3,root3===currentTime?suspendedLanes:0,null!==root3.cancelPendingCommit||-1!==root3.timeoutHandle);pingedLanes=root3.callbackNode;if(0===suspendedLanes||root3===currentTime&&(2===workInProgressSuspendedReason||9===workInProgressSuspendedReason)||null!==root3.cancelPendingCommit)return null!==pingedLanes&&null!==pingedLanes&&cancelCallback$1(pingedLanes),root3.callbackNode=null,root3.callbackPriority=0;if(0===(suspendedLanes&3)||checkIfRootIsPrerendering(root3,suspendedLanes)){currentTime=suspendedLanes&-suspendedLanes;if(currentTime===root3.callbackPriority)return currentTime;null!==pingedLanes&&cancelCallback$1(pingedLanes);switch(lanesToEventPriority(suspendedLanes)){case 2:case 8:suspendedLanes=UserBlockingPriority;break;case 32:suspendedLanes=NormalPriority$1;break;case 268435456:suspendedLanes=IdlePriority;break;default:suspendedLanes=NormalPriority$1}pingedLanes=performWorkOnRootViaSchedulerTask.bind(null,root3);suspendedLanes=scheduleCallback$3(suspendedLanes,pingedLanes);root3.callbackPriority=currentTime;root3.callbackNode=suspendedLanes;return currentTime}null!==pingedLanes&&null!==pingedLanes&&cancelCallback$1(pingedLanes);root3.callbackPriority=2;root3.callbackNode=null;return 2}function performWorkOnRootViaSchedulerTask(root3,didTimeout){if(0!==pendingEffectsStatus&&5!==pendingEffectsStatus)return root3.callbackNode=null,root3.callbackPriority=0,null;var originalCallbackNode=root3.callbackNode;if(flushPendingEffects()&&root3.callbackNode!==originalCallbackNode)return null;var workInProgressRootRenderLanes$jscomp$0=workInProgressRootRenderLanes;workInProgressRootRenderLanes$jscomp$0=getNextLanes(root3,root3===workInProgressRoot?workInProgressRootRenderLanes$jscomp$0:0,null!==root3.cancelPendingCommit||-1!==root3.timeoutHandle);if(0===workInProgressRootRenderLanes$jscomp$0)return null;performWorkOnRoot(root3,workInProgressRootRenderLanes$jscomp$0,didTimeout);scheduleTaskForRootDuringMicrotask(root3,now());return null!=root3.callbackNode&&root3.callbackNode===originalCallbackNode?performWorkOnRootViaSchedulerTask.bind(null,root3):null}function performSyncWorkOnRoot(root3,lanes){if(flushPendingEffects())return null;performWorkOnRoot(root3,lanes,true)}function scheduleImmediateRootScheduleTask(){scheduleMicrotask(function(){0!==(executionContext&6)?scheduleCallback$3(ImmediatePriority,processRootScheduleInImmediateTask):processRootScheduleInMicrotask()})}function requestTransitionLane(){if(0===currentEventTransitionLane){var actionScopeLane=currentEntangledLane;0===actionScopeLane&&(actionScopeLane=nextTransitionUpdateLane,nextTransitionUpdateLane<<=1,0===(nextTransitionUpdateLane&261888)&&(nextTransitionUpdateLane=256));currentEventTransitionLane=actionScopeLane}return currentEventTransitionLane}function coerceFormActionProp(actionProp){return null==actionProp||"symbol"===typeof actionProp||"boolean"===typeof actionProp?null:"function"===typeof actionProp?actionProp:sanitizeURL(""+actionProp)}function createFormDataWithSubmitter(form,submitter){var temp=submitter.ownerDocument.createElement("input");temp.name=submitter.name;temp.value=submitter.value;form.id&&temp.setAttribute("form",form.id);submitter.parentNode.insertBefore(temp,submitter);form=new FormData(form);temp.parentNode.removeChild(temp);return form}function extractEvents$1(dispatchQueue,domEventName,maybeTargetInst,nativeEvent,nativeEventTarget){if("submit"===domEventName&&maybeTargetInst&&maybeTargetInst.stateNode===nativeEventTarget){var action=coerceFormActionProp((nativeEventTarget[internalPropsKey]||null).action),submitter=nativeEvent.submitter;submitter&&(domEventName=(domEventName=submitter[internalPropsKey]||null)?coerceFormActionProp(domEventName.formAction):submitter.getAttribute("formAction"),null!==domEventName&&(action=domEventName,submitter=null));var event=new SyntheticEvent("action","action",null,nativeEvent,nativeEventTarget);dispatchQueue.push({event,listeners:[{instance:null,listener:function(){if(nativeEvent.defaultPrevented){if(0!==currentEventTransitionLane){var formData=submitter?createFormDataWithSubmitter(nativeEventTarget,submitter):new FormData(nativeEventTarget);startHostTransition(maybeTargetInst,{pending:true,data:formData,method:nativeEventTarget.method,action},null,formData)}}else"function"===typeof action&&(event.preventDefault(),formData=submitter?createFormDataWithSubmitter(nativeEventTarget,submitter):new FormData(nativeEventTarget),startHostTransition(maybeTargetInst,{pending:true,data:formData,method:nativeEventTarget.method,action},action,formData))},currentTarget:nativeEventTarget}]})}}for(i$jscomp$inline_1577=0;i$jscomp$inline_1577<simpleEventPluginEvents.length;i$jscomp$inline_1577++){eventName$jscomp$inline_1578=simpleEventPluginEvents[i$jscomp$inline_1577],domEventName$jscomp$inline_1579=eventName$jscomp$inline_1578.toLowerCase(),capitalizedEvent$jscomp$inline_1580=eventName$jscomp$inline_1578[0].toUpperCase()+eventName$jscomp$inline_1578.slice(1);registerSimpleEvent(domEventName$jscomp$inline_1579,"on"+capitalizedEvent$jscomp$inline_1580)}var eventName$jscomp$inline_1578;var domEventName$jscomp$inline_1579;var capitalizedEvent$jscomp$inline_1580;var i$jscomp$inline_1577;registerSimpleEvent(ANIMATION_END,"onAnimationEnd");registerSimpleEvent(ANIMATION_ITERATION,"onAnimationIteration");registerSimpleEvent(ANIMATION_START,"onAnimationStart");registerSimpleEvent("dblclick","onDoubleClick");registerSimpleEvent("focusin","onFocus");registerSimpleEvent("focusout","onBlur");registerSimpleEvent(TRANSITION_RUN,"onTransitionRun");registerSimpleEvent(TRANSITION_START,"onTransitionStart");registerSimpleEvent(TRANSITION_CANCEL,"onTransitionCancel");registerSimpleEvent(TRANSITION_END,"onTransitionEnd");registerDirectEvent("onMouseEnter",["mouseout","mouseover"]);registerDirectEvent("onMouseLeave",["mouseout","mouseover"]);registerDirectEvent("onPointerEnter",["pointerout","pointerover"]);registerDirectEvent("onPointerLeave",["pointerout","pointerover"]);registerTwoPhaseEvent("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));registerTwoPhaseEvent("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));registerTwoPhaseEvent("onBeforeInput",["compositionend","keypress","textInput","paste"]);registerTwoPhaseEvent("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mediaEventTypes="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");var nonDelegatedEvents=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mediaEventTypes));function processDispatchQueue(dispatchQueue,eventSystemFlags){eventSystemFlags=0!==(eventSystemFlags&4);for(var i=0;i<dispatchQueue.length;i++){var _dispatchQueue$i=dispatchQueue[i],event=_dispatchQueue$i.event;_dispatchQueue$i=_dispatchQueue$i.listeners;a:{var previousInstance=void 0;if(eventSystemFlags)for(var i$jscomp$0=_dispatchQueue$i.length-1;0<=i$jscomp$0;i$jscomp$0--){var _dispatchListeners$i=_dispatchQueue$i[i$jscomp$0],instance=_dispatchListeners$i.instance,currentTarget=_dispatchListeners$i.currentTarget;_dispatchListeners$i=_dispatchListeners$i.listener;if(instance!==previousInstance&&event.isPropagationStopped())break a;previousInstance=_dispatchListeners$i;event.currentTarget=currentTarget;try{previousInstance(event)}catch(error){reportGlobalError(error)}event.currentTarget=null;previousInstance=instance}else for(i$jscomp$0=0;i$jscomp$0<_dispatchQueue$i.length;i$jscomp$0++){_dispatchListeners$i=_dispatchQueue$i[i$jscomp$0];instance=_dispatchListeners$i.instance;currentTarget=_dispatchListeners$i.currentTarget;_dispatchListeners$i=_dispatchListeners$i.listener;if(instance!==previousInstance&&event.isPropagationStopped())break a;previousInstance=_dispatchListeners$i;event.currentTarget=currentTarget;try{previousInstance(event)}catch(error){reportGlobalError(error)}event.currentTarget=null;previousInstance=instance}}}}function listenToNonDelegatedEvent(domEventName,targetElement){var JSCompiler_inline_result=targetElement[internalEventHandlersKey];void 0===JSCompiler_inline_result&&(JSCompiler_inline_result=targetElement[internalEventHandlersKey]=new Set);var listenerSetKey=domEventName+"__bubble";JSCompiler_inline_result.has(listenerSetKey)||(addTrappedEventListener(targetElement,domEventName,2,false),JSCompiler_inline_result.add(listenerSetKey))}function listenToNativeEvent(domEventName,isCapturePhaseListener,target){var eventSystemFlags=0;isCapturePhaseListener&&(eventSystemFlags|=4);addTrappedEventListener(target,domEventName,eventSystemFlags,isCapturePhaseListener)}var listeningMarker="_reactListening"+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(rootContainerElement){if(!rootContainerElement[listeningMarker]){rootContainerElement[listeningMarker]=true;allNativeEvents.forEach(function(domEventName){"selectionchange"!==domEventName&&(nonDelegatedEvents.has(domEventName)||listenToNativeEvent(domEventName,false,rootContainerElement),listenToNativeEvent(domEventName,true,rootContainerElement))});var ownerDocument=9===rootContainerElement.nodeType?rootContainerElement:rootContainerElement.ownerDocument;null===ownerDocument||ownerDocument[listeningMarker]||(ownerDocument[listeningMarker]=true,listenToNativeEvent("selectionchange",false,ownerDocument))}}function addTrappedEventListener(targetContainer,domEventName,eventSystemFlags,isCapturePhaseListener){switch(getEventPriority(domEventName)){case 2:var listenerWrapper=dispatchDiscreteEvent;break;case 8:listenerWrapper=dispatchContinuousEvent;break;default:listenerWrapper=dispatchEvent}eventSystemFlags=listenerWrapper.bind(null,domEventName,eventSystemFlags,targetContainer);listenerWrapper=void 0;!passiveBrowserEventsSupported||"touchstart"!==domEventName&&"touchmove"!==domEventName&&"wheel"!==domEventName||(listenerWrapper=true);isCapturePhaseListener?void 0!==listenerWrapper?targetContainer.addEventListener(domEventName,eventSystemFlags,{capture:true,passive:listenerWrapper}):targetContainer.addEventListener(domEventName,eventSystemFlags,true):void 0!==listenerWrapper?targetContainer.addEventListener(domEventName,eventSystemFlags,{passive:listenerWrapper}):targetContainer.addEventListener(domEventName,eventSystemFlags,false)}function dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,targetInst$jscomp$0,targetContainer){var ancestorInst=targetInst$jscomp$0;if(0===(eventSystemFlags&1)&&0===(eventSystemFlags&2)&&null!==targetInst$jscomp$0)a:for(;;){if(null===targetInst$jscomp$0)return;var nodeTag=targetInst$jscomp$0.tag;if(3===nodeTag||4===nodeTag){var container2=targetInst$jscomp$0.stateNode.containerInfo;if(container2===targetContainer)break;if(4===nodeTag)for(nodeTag=targetInst$jscomp$0.return;null!==nodeTag;){var grandTag=nodeTag.tag;if((3===grandTag||4===grandTag)&&nodeTag.stateNode.containerInfo===targetContainer)return;nodeTag=nodeTag.return}for(;null!==container2;){nodeTag=getClosestInstanceFromNode(container2);if(null===nodeTag)return;grandTag=nodeTag.tag;if(5===grandTag||6===grandTag||26===grandTag||27===grandTag){targetInst$jscomp$0=ancestorInst=nodeTag;continue a}container2=container2.parentNode}}targetInst$jscomp$0=targetInst$jscomp$0.return}batchedUpdates$1(function(){var targetInst=ancestorInst,nativeEventTarget=getEventTarget(nativeEvent),dispatchQueue=[];a:{var reactName=topLevelEventsToReactNames.get(domEventName);if(void 0!==reactName){var SyntheticEventCtor=SyntheticEvent,reactEventType=domEventName;switch(domEventName){case"keypress":if(0===getEventCharCode(nativeEvent))break a;case"keydown":case"keyup":SyntheticEventCtor=SyntheticKeyboardEvent;break;case"focusin":reactEventType="focus";SyntheticEventCtor=SyntheticFocusEvent;break;case"focusout":reactEventType="blur";SyntheticEventCtor=SyntheticFocusEvent;break;case"beforeblur":case"afterblur":SyntheticEventCtor=SyntheticFocusEvent;break;case"click":if(2===nativeEvent.button)break a;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":SyntheticEventCtor=SyntheticMouseEvent;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":SyntheticEventCtor=SyntheticDragEvent;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":SyntheticEventCtor=SyntheticTouchEvent;break;case ANIMATION_END:case ANIMATION_ITERATION:case ANIMATION_START:SyntheticEventCtor=SyntheticAnimationEvent;break;case TRANSITION_END:SyntheticEventCtor=SyntheticTransitionEvent;break;case"scroll":case"scrollend":SyntheticEventCtor=SyntheticUIEvent;break;case"wheel":SyntheticEventCtor=SyntheticWheelEvent;break;case"copy":case"cut":case"paste":SyntheticEventCtor=SyntheticClipboardEvent;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":SyntheticEventCtor=SyntheticPointerEvent;break;case"toggle":case"beforetoggle":SyntheticEventCtor=SyntheticToggleEvent}var inCapturePhase=0!==(eventSystemFlags&4),accumulateTargetOnly=!inCapturePhase&&("scroll"===domEventName||"scrollend"===domEventName),reactEventName=inCapturePhase?null!==reactName?reactName+"Capture":null:reactName;inCapturePhase=[];for(var instance=targetInst,lastHostComponent;null!==instance;){var _instance=instance;lastHostComponent=_instance.stateNode;_instance=_instance.tag;5!==_instance&&26!==_instance&&27!==_instance||null===lastHostComponent||null===reactEventName||(_instance=getListener(instance,reactEventName),null!=_instance&&inCapturePhase.push(createDispatchListener(instance,_instance,lastHostComponent)));if(accumulateTargetOnly)break;instance=instance.return}0<inCapturePhase.length&&(reactName=new SyntheticEventCtor(reactName,reactEventType,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:reactName,listeners:inCapturePhase}))}}if(0===(eventSystemFlags&7)){a:{reactName="mouseover"===domEventName||"pointerover"===domEventName;SyntheticEventCtor="mouseout"===domEventName||"pointerout"===domEventName;if(reactName&&nativeEvent!==currentReplayingEvent&&(reactEventType=nativeEvent.relatedTarget||nativeEvent.fromElement)&&(getClosestInstanceFromNode(reactEventType)||reactEventType[internalContainerInstanceKey]))break a;if(SyntheticEventCtor||reactName){reactName=nativeEventTarget.window===nativeEventTarget?nativeEventTarget:(reactName=nativeEventTarget.ownerDocument)?reactName.defaultView||reactName.parentWindow:window;if(SyntheticEventCtor){if(reactEventType=nativeEvent.relatedTarget||nativeEvent.toElement,SyntheticEventCtor=targetInst,reactEventType=reactEventType?getClosestInstanceFromNode(reactEventType):null,null!==reactEventType&&(accumulateTargetOnly=getNearestMountedFiber(reactEventType),inCapturePhase=reactEventType.tag,reactEventType!==accumulateTargetOnly||5!==inCapturePhase&&27!==inCapturePhase&&6!==inCapturePhase))reactEventType=null}else SyntheticEventCtor=null,reactEventType=targetInst;if(SyntheticEventCtor!==reactEventType){inCapturePhase=SyntheticMouseEvent;_instance="onMouseLeave";reactEventName="onMouseEnter";instance="mouse";if("pointerout"===domEventName||"pointerover"===domEventName)inCapturePhase=SyntheticPointerEvent,_instance="onPointerLeave",reactEventName="onPointerEnter",instance="pointer";accumulateTargetOnly=null==SyntheticEventCtor?reactName:getNodeFromInstance(SyntheticEventCtor);lastHostComponent=null==reactEventType?reactName:getNodeFromInstance(reactEventType);reactName=new inCapturePhase(_instance,instance+"leave",SyntheticEventCtor,nativeEvent,nativeEventTarget);reactName.target=accumulateTargetOnly;reactName.relatedTarget=lastHostComponent;_instance=null;getClosestInstanceFromNode(nativeEventTarget)===targetInst&&(inCapturePhase=new inCapturePhase(reactEventName,instance+"enter",reactEventType,nativeEvent,nativeEventTarget),inCapturePhase.target=lastHostComponent,inCapturePhase.relatedTarget=accumulateTargetOnly,_instance=inCapturePhase);accumulateTargetOnly=_instance;if(SyntheticEventCtor&&reactEventType)b:{inCapturePhase=getParent;reactEventName=SyntheticEventCtor;instance=reactEventType;lastHostComponent=0;for(_instance=reactEventName;_instance;_instance=inCapturePhase(_instance))lastHostComponent++;_instance=0;for(var tempB=instance;tempB;tempB=inCapturePhase(tempB))_instance++;for(;0<lastHostComponent-_instance;)reactEventName=inCapturePhase(reactEventName),lastHostComponent--;for(;0<_instance-lastHostComponent;)instance=inCapturePhase(instance),_instance--;for(;lastHostComponent--;){if(reactEventName===instance||null!==instance&&reactEventName===instance.alternate){inCapturePhase=reactEventName;break b}reactEventName=inCapturePhase(reactEventName);instance=inCapturePhase(instance)}inCapturePhase=null}else inCapturePhase=null;null!==SyntheticEventCtor&&accumulateEnterLeaveListenersForEvent(dispatchQueue,reactName,SyntheticEventCtor,inCapturePhase,false);null!==reactEventType&&null!==accumulateTargetOnly&&accumulateEnterLeaveListenersForEvent(dispatchQueue,accumulateTargetOnly,reactEventType,inCapturePhase,true)}}}a:{reactName=targetInst?getNodeFromInstance(targetInst):window;SyntheticEventCtor=reactName.nodeName&&reactName.nodeName.toLowerCase();if("select"===SyntheticEventCtor||"input"===SyntheticEventCtor&&"file"===reactName.type)var getTargetInstFunc=getTargetInstForChangeEvent;else if(isTextInputElement(reactName))if(isInputEventSupported)getTargetInstFunc=getTargetInstForInputOrChangeEvent;else{getTargetInstFunc=getTargetInstForInputEventPolyfill;var handleEventFunc=handleEventsForInputEventPolyfill}else SyntheticEventCtor=reactName.nodeName,!SyntheticEventCtor||"input"!==SyntheticEventCtor.toLowerCase()||"checkbox"!==reactName.type&&"radio"!==reactName.type?targetInst&&isCustomElement(targetInst.elementType)&&(getTargetInstFunc=getTargetInstForChangeEvent):getTargetInstFunc=getTargetInstForClickEvent;if(getTargetInstFunc&&(getTargetInstFunc=getTargetInstFunc(domEventName,targetInst))){createAndAccumulateChangeEvent(dispatchQueue,getTargetInstFunc,nativeEvent,nativeEventTarget);break a}handleEventFunc&&handleEventFunc(domEventName,reactName,targetInst);"focusout"===domEventName&&targetInst&&"number"===reactName.type&&null!=targetInst.memoizedProps.value&&setDefaultValue(reactName,"number",reactName.value)}handleEventFunc=targetInst?getNodeFromInstance(targetInst):window;switch(domEventName){case"focusin":if(isTextInputElement(handleEventFunc)||"true"===handleEventFunc.contentEditable)activeElement=handleEventFunc,activeElementInst=targetInst,lastSelection=null;break;case"focusout":lastSelection=activeElementInst=activeElement=null;break;case"mousedown":mouseDown=true;break;case"contextmenu":case"mouseup":case"dragend":mouseDown=false;constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget);break;case"selectionchange":if(skipSelectionChangeEvent)break;case"keydown":case"keyup":constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget)}var fallbackData;if(canUseCompositionEvent)b:{switch(domEventName){case"compositionstart":var eventType="onCompositionStart";break b;case"compositionend":eventType="onCompositionEnd";break b;case"compositionupdate":eventType="onCompositionUpdate";break b}eventType=void 0}else isComposing?isFallbackCompositionEnd(domEventName,nativeEvent)&&(eventType="onCompositionEnd"):"keydown"===domEventName&&229===nativeEvent.keyCode&&(eventType="onCompositionStart");eventType&&(useFallbackCompositionData&&"ko"!==nativeEvent.locale&&(isComposing||"onCompositionStart"!==eventType?"onCompositionEnd"===eventType&&isComposing&&(fallbackData=getData()):(root2=nativeEventTarget,startText="value"in root2?root2.value:root2.textContent,isComposing=true)),handleEventFunc=accumulateTwoPhaseListeners(targetInst,eventType),0<handleEventFunc.length&&(eventType=new SyntheticCompositionEvent(eventType,domEventName,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:eventType,listeners:handleEventFunc}),fallbackData?eventType.data=fallbackData:(fallbackData=getDataFromCustomEvent(nativeEvent),null!==fallbackData&&(eventType.data=fallbackData))));if(fallbackData=canUseTextInputEvent?getNativeBeforeInputChars(domEventName,nativeEvent):getFallbackBeforeInputChars(domEventName,nativeEvent))eventType=accumulateTwoPhaseListeners(targetInst,"onBeforeInput"),0<eventType.length&&(handleEventFunc=new SyntheticCompositionEvent("onBeforeInput","beforeinput",null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:handleEventFunc,listeners:eventType}),handleEventFunc.data=fallbackData);extractEvents$1(dispatchQueue,domEventName,targetInst,nativeEvent,nativeEventTarget)}processDispatchQueue(dispatchQueue,eventSystemFlags)})}function createDispatchListener(instance,listener,currentTarget){return{instance,listener,currentTarget}}function accumulateTwoPhaseListeners(targetFiber,reactName){for(var captureName=reactName+"Capture",listeners=[];null!==targetFiber;){var _instance2=targetFiber,stateNode=_instance2.stateNode;_instance2=_instance2.tag;5!==_instance2&&26!==_instance2&&27!==_instance2||null===stateNode||(_instance2=getListener(targetFiber,captureName),null!=_instance2&&listeners.unshift(createDispatchListener(targetFiber,_instance2,stateNode)),_instance2=getListener(targetFiber,reactName),null!=_instance2&&listeners.push(createDispatchListener(targetFiber,_instance2,stateNode)));if(3===targetFiber.tag)return listeners;targetFiber=targetFiber.return}return[]}function getParent(inst){if(null===inst)return null;do inst=inst.return;while(inst&&5!==inst.tag&&27!==inst.tag);return inst?inst:null}function accumulateEnterLeaveListenersForEvent(dispatchQueue,event,target,common,inCapturePhase){for(var registrationName=event._reactName,listeners=[];null!==target&&target!==common;){var _instance3=target,alternate=_instance3.alternate,stateNode=_instance3.stateNode;_instance3=_instance3.tag;if(null!==alternate&&alternate===common)break;5!==_instance3&&26!==_instance3&&27!==_instance3||null===stateNode||(alternate=stateNode,inCapturePhase?(stateNode=getListener(target,registrationName),null!=stateNode&&listeners.unshift(createDispatchListener(target,stateNode,alternate))):inCapturePhase||(stateNode=getListener(target,registrationName),null!=stateNode&&listeners.push(createDispatchListener(target,stateNode,alternate))));target=target.return}0!==listeners.length&&dispatchQueue.push({event,listeners})}var NORMALIZE_NEWLINES_REGEX=/\r\n?/g;var NORMALIZE_NULL_AND_REPLACEMENT_REGEX=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(markup){return("string"===typeof markup?markup:""+markup).replace(NORMALIZE_NEWLINES_REGEX,"\n").replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX,"")}function checkForUnmatchedText(serverText,clientText){clientText=normalizeMarkupForTextOrAttribute(clientText);return normalizeMarkupForTextOrAttribute(serverText)===clientText?true:false}function setProp(domElement,tag,key,value,props,prevValue){switch(key){case"children":"string"===typeof value?"body"===tag||"textarea"===tag&&""===value||setTextContent(domElement,value):("number"===typeof value||"bigint"===typeof value)&&"body"!==tag&&setTextContent(domElement,""+value);break;case"className":setValueForKnownAttribute(domElement,"class",value);break;case"tabIndex":setValueForKnownAttribute(domElement,"tabindex",value);break;case"dir":case"role":case"viewBox":case"width":case"height":setValueForKnownAttribute(domElement,key,value);break;case"style":setValueForStyles(domElement,value,prevValue);break;case"data":if("object"!==tag){setValueForKnownAttribute(domElement,"data",value);break}case"src":case"href":if(""===value&&("a"!==tag||"href"!==key)){domElement.removeAttribute(key);break}if(null==value||"function"===typeof value||"symbol"===typeof value||"boolean"===typeof value){domElement.removeAttribute(key);break}value=sanitizeURL(""+value);domElement.setAttribute(key,value);break;case"action":case"formAction":if("function"===typeof value){domElement.setAttribute(key,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else"function"===typeof prevValue&&("formAction"===key?("input"!==tag&&setProp(domElement,tag,"name",props.name,props,null),setProp(domElement,tag,"formEncType",props.formEncType,props,null),setProp(domElement,tag,"formMethod",props.formMethod,props,null),setProp(domElement,tag,"formTarget",props.formTarget,props,null)):(setProp(domElement,tag,"encType",props.encType,props,null),setProp(domElement,tag,"method",props.method,props,null),setProp(domElement,tag,"target",props.target,props,null)));if(null==value||"symbol"===typeof value||"boolean"===typeof value){domElement.removeAttribute(key);break}value=sanitizeURL(""+value);domElement.setAttribute(key,value);break;case"onClick":null!=value&&(domElement.onclick=noop$1);break;case"onScroll":null!=value&&listenToNonDelegatedEvent("scroll",domElement);break;case"onScrollEnd":null!=value&&listenToNonDelegatedEvent("scrollend",domElement);break;case"dangerouslySetInnerHTML":if(null!=value){if("object"!==typeof value||!("__html"in value))throw Error(formatProdErrorMessage(61));key=value.__html;if(null!=key){if(null!=props.children)throw Error(formatProdErrorMessage(60));domElement.innerHTML=key}}break;case"multiple":domElement.multiple=value&&"function"!==typeof value&&"symbol"!==typeof value;break;case"muted":domElement.muted=value&&"function"!==typeof value&&"symbol"!==typeof value;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(null==value||"function"===typeof value||"boolean"===typeof value||"symbol"===typeof value){domElement.removeAttribute("xlink:href");break}key=sanitizeURL(""+value);domElement.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",key);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=value&&"function"!==typeof value&&"symbol"!==typeof value?domElement.setAttribute(key,""+value):domElement.removeAttribute(key);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":value&&"function"!==typeof value&&"symbol"!==typeof value?domElement.setAttribute(key,""):domElement.removeAttribute(key);break;case"capture":case"download":true===value?domElement.setAttribute(key,""):false!==value&&null!=value&&"function"!==typeof value&&"symbol"!==typeof value?domElement.setAttribute(key,value):domElement.removeAttribute(key);break;case"cols":case"rows":case"size":case"span":null!=value&&"function"!==typeof value&&"symbol"!==typeof value&&!isNaN(value)&&1<=value?domElement.setAttribute(key,value):domElement.removeAttribute(key);break;case"rowSpan":case"start":null==value||"function"===typeof value||"symbol"===typeof value||isNaN(value)?domElement.removeAttribute(key):domElement.setAttribute(key,value);break;case"popover":listenToNonDelegatedEvent("beforetoggle",domElement);listenToNonDelegatedEvent("toggle",domElement);setValueForAttribute(domElement,"popover",value);break;case"xlinkActuate":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:actuate",value);break;case"xlinkArcrole":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:arcrole",value);break;case"xlinkRole":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:role",value);break;case"xlinkShow":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:show",value);break;case"xlinkTitle":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:title",value);break;case"xlinkType":setValueForNamespacedAttribute(domElement,"http://www.w3.org/1999/xlink","xlink:type",value);break;case"xmlBase":setValueForNamespacedAttribute(domElement,"http://www.w3.org/XML/1998/namespace","xml:base",value);break;case"xmlLang":setValueForNamespacedAttribute(domElement,"http://www.w3.org/XML/1998/namespace","xml:lang",value);break;case"xmlSpace":setValueForNamespacedAttribute(domElement,"http://www.w3.org/XML/1998/namespace","xml:space",value);break;case"is":setValueForAttribute(domElement,"is",value);break;case"innerText":case"textContent":break;default:if(!(2<key.length)||"o"!==key[0]&&"O"!==key[0]||"n"!==key[1]&&"N"!==key[1])key=aliases.get(key)||key,setValueForAttribute(domElement,key,value)}}function setPropOnCustomElement(domElement,tag,key,value,props,prevValue){switch(key){case"style":setValueForStyles(domElement,value,prevValue);break;case"dangerouslySetInnerHTML":if(null!=value){if("object"!==typeof value||!("__html"in value))throw Error(formatProdErrorMessage(61));key=value.__html;if(null!=key){if(null!=props.children)throw Error(formatProdErrorMessage(60));domElement.innerHTML=key}}break;case"children":"string"===typeof value?setTextContent(domElement,value):("number"===typeof value||"bigint"===typeof value)&&setTextContent(domElement,""+value);break;case"onScroll":null!=value&&listenToNonDelegatedEvent("scroll",domElement);break;case"onScrollEnd":null!=value&&listenToNonDelegatedEvent("scrollend",domElement);break;case"onClick":null!=value&&(domElement.onclick=noop$1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!registrationNameDependencies.hasOwnProperty(key))a:{if("o"===key[0]&&"n"===key[1]&&(props=key.endsWith("Capture"),tag=key.slice(2,props?key.length-7:void 0),prevValue=domElement[internalPropsKey]||null,prevValue=null!=prevValue?prevValue[key]:null,"function"===typeof prevValue&&domElement.removeEventListener(tag,prevValue,props),"function"===typeof value)){"function"!==typeof prevValue&&null!==prevValue&&(key in domElement?domElement[key]=null:domElement.hasAttribute(key)&&domElement.removeAttribute(key));domElement.addEventListener(tag,value,props);break a}key in domElement?domElement[key]=value:true===value?domElement.setAttribute(key,""):setValueForAttribute(domElement,key,value)}}}function setInitialProperties(domElement,tag,props){switch(tag){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":listenToNonDelegatedEvent("error",domElement);listenToNonDelegatedEvent("load",domElement);var hasSrc=false,hasSrcSet=false,propKey;for(propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)switch(propKey){case"src":hasSrc=true;break;case"srcSet":hasSrcSet=true;break;case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,tag));default:setProp(domElement,tag,propKey,propValue,props,null)}}hasSrcSet&&setProp(domElement,tag,"srcSet",props.srcSet,props,null);hasSrc&&setProp(domElement,tag,"src",props.src,props,null);return;case"input":listenToNonDelegatedEvent("invalid",domElement);var defaultValue=propKey=propValue=hasSrcSet=null,checked=null,defaultChecked=null;for(hasSrc in props)if(props.hasOwnProperty(hasSrc)){var propValue$184=props[hasSrc];if(null!=propValue$184)switch(hasSrc){case"name":hasSrcSet=propValue$184;break;case"type":propValue=propValue$184;break;case"checked":checked=propValue$184;break;case"defaultChecked":defaultChecked=propValue$184;break;case"value":propKey=propValue$184;break;case"defaultValue":defaultValue=propValue$184;break;case"children":case"dangerouslySetInnerHTML":if(null!=propValue$184)throw Error(formatProdErrorMessage(137,tag));break;default:setProp(domElement,tag,hasSrc,propValue$184,props,null)}}initInput(domElement,propKey,defaultValue,checked,defaultChecked,propValue,hasSrcSet,false);return;case"select":listenToNonDelegatedEvent("invalid",domElement);hasSrc=propValue=propKey=null;for(hasSrcSet in props)if(props.hasOwnProperty(hasSrcSet)&&(defaultValue=props[hasSrcSet],null!=defaultValue))switch(hasSrcSet){case"value":propKey=defaultValue;break;case"defaultValue":propValue=defaultValue;break;case"multiple":hasSrc=defaultValue;default:setProp(domElement,tag,hasSrcSet,defaultValue,props,null)}tag=propKey;props=propValue;domElement.multiple=!!hasSrc;null!=tag?updateOptions(domElement,!!hasSrc,tag,false):null!=props&&updateOptions(domElement,!!hasSrc,props,true);return;case"textarea":listenToNonDelegatedEvent("invalid",domElement);propKey=hasSrcSet=hasSrc=null;for(propValue in props)if(props.hasOwnProperty(propValue)&&(defaultValue=props[propValue],null!=defaultValue))switch(propValue){case"value":hasSrc=defaultValue;break;case"defaultValue":hasSrcSet=defaultValue;break;case"children":propKey=defaultValue;break;case"dangerouslySetInnerHTML":if(null!=defaultValue)throw Error(formatProdErrorMessage(91));break;default:setProp(domElement,tag,propValue,defaultValue,props,null)}initTextarea(domElement,hasSrc,hasSrcSet,propKey);return;case"option":for(checked in props)if(props.hasOwnProperty(checked)&&(hasSrc=props[checked],null!=hasSrc))switch(checked){case"selected":domElement.selected=hasSrc&&"function"!==typeof hasSrc&&"symbol"!==typeof hasSrc;break;default:setProp(domElement,tag,checked,hasSrc,props,null)}return;case"dialog":listenToNonDelegatedEvent("beforetoggle",domElement);listenToNonDelegatedEvent("toggle",domElement);listenToNonDelegatedEvent("cancel",domElement);listenToNonDelegatedEvent("close",domElement);break;case"iframe":case"object":listenToNonDelegatedEvent("load",domElement);break;case"video":case"audio":for(hasSrc=0;hasSrc<mediaEventTypes.length;hasSrc++)listenToNonDelegatedEvent(mediaEventTypes[hasSrc],domElement);break;case"image":listenToNonDelegatedEvent("error",domElement);listenToNonDelegatedEvent("load",domElement);break;case"details":listenToNonDelegatedEvent("toggle",domElement);break;case"embed":case"source":case"link":listenToNonDelegatedEvent("error",domElement),listenToNonDelegatedEvent("load",domElement);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(defaultChecked in props)if(props.hasOwnProperty(defaultChecked)&&(hasSrc=props[defaultChecked],null!=hasSrc))switch(defaultChecked){case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,tag));default:setProp(domElement,tag,defaultChecked,hasSrc,props,null)}return;default:if(isCustomElement(tag)){for(propValue$184 in props)props.hasOwnProperty(propValue$184)&&(hasSrc=props[propValue$184],void 0!==hasSrc&&setPropOnCustomElement(domElement,tag,propValue$184,hasSrc,props,void 0));return}}for(defaultValue in props)props.hasOwnProperty(defaultValue)&&(hasSrc=props[defaultValue],null!=hasSrc&&setProp(domElement,tag,defaultValue,hasSrc,props,null))}function updateProperties(domElement,tag,lastProps,nextProps){switch(tag){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var name=null,type=null,value=null,defaultValue=null,lastDefaultValue=null,checked=null,defaultChecked=null;for(propKey in lastProps){var lastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&null!=lastProp)switch(propKey){case"checked":break;case"value":break;case"defaultValue":lastDefaultValue=lastProp;default:nextProps.hasOwnProperty(propKey)||setProp(domElement,tag,propKey,null,nextProps,lastProp)}}for(var propKey$201 in nextProps){var propKey=nextProps[propKey$201];lastProp=lastProps[propKey$201];if(nextProps.hasOwnProperty(propKey$201)&&(null!=propKey||null!=lastProp))switch(propKey$201){case"type":type=propKey;break;case"name":name=propKey;break;case"checked":checked=propKey;break;case"defaultChecked":defaultChecked=propKey;break;case"value":value=propKey;break;case"defaultValue":defaultValue=propKey;break;case"children":case"dangerouslySetInnerHTML":if(null!=propKey)throw Error(formatProdErrorMessage(137,tag));break;default:propKey!==lastProp&&setProp(domElement,tag,propKey$201,propKey,nextProps,lastProp)}}updateInput(domElement,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name);return;case"select":propKey=value=defaultValue=propKey$201=null;for(type in lastProps)if(lastDefaultValue=lastProps[type],lastProps.hasOwnProperty(type)&&null!=lastDefaultValue)switch(type){case"value":break;case"multiple":propKey=lastDefaultValue;default:nextProps.hasOwnProperty(type)||setProp(domElement,tag,type,null,nextProps,lastDefaultValue)}for(name in nextProps)if(type=nextProps[name],lastDefaultValue=lastProps[name],nextProps.hasOwnProperty(name)&&(null!=type||null!=lastDefaultValue))switch(name){case"value":propKey$201=type;break;case"defaultValue":defaultValue=type;break;case"multiple":value=type;default:type!==lastDefaultValue&&setProp(domElement,tag,name,type,nextProps,lastDefaultValue)}tag=defaultValue;lastProps=value;nextProps=propKey;null!=propKey$201?updateOptions(domElement,!!lastProps,propKey$201,false):!!nextProps!==!!lastProps&&(null!=tag?updateOptions(domElement,!!lastProps,tag,true):updateOptions(domElement,!!lastProps,lastProps?[]:"",false));return;case"textarea":propKey=propKey$201=null;for(defaultValue in lastProps)if(name=lastProps[defaultValue],lastProps.hasOwnProperty(defaultValue)&&null!=name&&!nextProps.hasOwnProperty(defaultValue))switch(defaultValue){case"value":break;case"children":break;default:setProp(domElement,tag,defaultValue,null,nextProps,name)}for(value in nextProps)if(name=nextProps[value],type=lastProps[value],nextProps.hasOwnProperty(value)&&(null!=name||null!=type))switch(value){case"value":propKey$201=name;break;case"defaultValue":propKey=name;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=name)throw Error(formatProdErrorMessage(91));break;default:name!==type&&setProp(domElement,tag,value,name,nextProps,type)}updateTextarea(domElement,propKey$201,propKey);return;case"option":for(var propKey$217 in lastProps)if(propKey$201=lastProps[propKey$217],lastProps.hasOwnProperty(propKey$217)&&null!=propKey$201&&!nextProps.hasOwnProperty(propKey$217))switch(propKey$217){case"selected":domElement.selected=false;break;default:setProp(domElement,tag,propKey$217,null,nextProps,propKey$201)}for(lastDefaultValue in nextProps)if(propKey$201=nextProps[lastDefaultValue],propKey=lastProps[lastDefaultValue],nextProps.hasOwnProperty(lastDefaultValue)&&propKey$201!==propKey&&(null!=propKey$201||null!=propKey))switch(lastDefaultValue){case"selected":domElement.selected=propKey$201&&"function"!==typeof propKey$201&&"symbol"!==typeof propKey$201;break;default:setProp(domElement,tag,lastDefaultValue,propKey$201,nextProps,propKey)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var propKey$222 in lastProps)propKey$201=lastProps[propKey$222],lastProps.hasOwnProperty(propKey$222)&&null!=propKey$201&&!nextProps.hasOwnProperty(propKey$222)&&setProp(domElement,tag,propKey$222,null,nextProps,propKey$201);for(checked in nextProps)if(propKey$201=nextProps[checked],propKey=lastProps[checked],nextProps.hasOwnProperty(checked)&&propKey$201!==propKey&&(null!=propKey$201||null!=propKey))switch(checked){case"children":case"dangerouslySetInnerHTML":if(null!=propKey$201)throw Error(formatProdErrorMessage(137,tag));break;default:setProp(domElement,tag,checked,propKey$201,nextProps,propKey)}return;default:if(isCustomElement(tag)){for(var propKey$227 in lastProps)propKey$201=lastProps[propKey$227],lastProps.hasOwnProperty(propKey$227)&&void 0!==propKey$201&&!nextProps.hasOwnProperty(propKey$227)&&setPropOnCustomElement(domElement,tag,propKey$227,void 0,nextProps,propKey$201);for(defaultChecked in nextProps)propKey$201=nextProps[defaultChecked],propKey=lastProps[defaultChecked],!nextProps.hasOwnProperty(defaultChecked)||propKey$201===propKey||void 0===propKey$201&&void 0===propKey||setPropOnCustomElement(domElement,tag,defaultChecked,propKey$201,nextProps,propKey);return}}for(var propKey$232 in lastProps)propKey$201=lastProps[propKey$232],lastProps.hasOwnProperty(propKey$232)&&null!=propKey$201&&!nextProps.hasOwnProperty(propKey$232)&&setProp(domElement,tag,propKey$232,null,nextProps,propKey$201);for(lastProp in nextProps)propKey$201=nextProps[lastProp],propKey=lastProps[lastProp],!nextProps.hasOwnProperty(lastProp)||propKey$201===propKey||null==propKey$201&&null==propKey||setProp(domElement,tag,lastProp,propKey$201,nextProps,propKey)}function isLikelyStaticResource(initiatorType){switch(initiatorType){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return true;default:return false}}function estimateBandwidth(){if("function"===typeof performance.getEntriesByType){for(var count=0,bits=0,resourceEntries=performance.getEntriesByType("resource"),i=0;i<resourceEntries.length;i++){var entry=resourceEntries[i],transferSize=entry.transferSize,initiatorType=entry.initiatorType,duration=entry.duration;if(transferSize&&duration&&isLikelyStaticResource(initiatorType)){initiatorType=0;duration=entry.responseEnd;for(i+=1;i<resourceEntries.length;i++){var overlapEntry=resourceEntries[i],overlapStartTime=overlapEntry.startTime;if(overlapStartTime>duration)break;var overlapTransferSize=overlapEntry.transferSize,overlapInitiatorType=overlapEntry.initiatorType;overlapTransferSize&&isLikelyStaticResource(overlapInitiatorType)&&(overlapEntry=overlapEntry.responseEnd,initiatorType+=overlapTransferSize*(overlapEntry<duration?1:(duration-overlapStartTime)/(overlapEntry-overlapStartTime)))}--i;bits+=8*(transferSize+initiatorType)/(entry.duration/1e3);count++;if(10<count)break}}if(0<count)return bits/count/1e6}return navigator.connection&&(count=navigator.connection.downlink,"number"===typeof count)?count:5}var eventsEnabled=null;var selectionInformation=null;function getOwnerDocumentFromRootContainer(rootContainerElement){return 9===rootContainerElement.nodeType?rootContainerElement:rootContainerElement.ownerDocument}function getOwnHostContext(namespaceURI){switch(namespaceURI){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function getChildHostContextProd(parentNamespace,type){if(0===parentNamespace)switch(type){case"svg":return 1;case"math":return 2;default:return 0}return 1===parentNamespace&&"foreignObject"===type?0:parentNamespace}function shouldSetTextContent(type,props){return"textarea"===type||"noscript"===type||"string"===typeof props.children||"number"===typeof props.children||"bigint"===typeof props.children||"object"===typeof props.dangerouslySetInnerHTML&&null!==props.dangerouslySetInnerHTML&&null!=props.dangerouslySetInnerHTML.__html}var currentPopstateTransitionEvent=null;function shouldAttemptEagerTransition(){var event=window.event;if(event&&"popstate"===event.type){if(event===currentPopstateTransitionEvent)return false;currentPopstateTransitionEvent=event;return true}currentPopstateTransitionEvent=null;return false}var scheduleTimeout="function"===typeof setTimeout?setTimeout:void 0;var cancelTimeout="function"===typeof clearTimeout?clearTimeout:void 0;var localPromise="function"===typeof Promise?Promise:void 0;var scheduleMicrotask="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof localPromise?function(callback){return localPromise.resolve(null).then(callback).catch(handleErrorInNextTick)}:scheduleTimeout;function handleErrorInNextTick(error){setTimeout(function(){throw error})}function isSingletonScope(type){return"head"===type}function clearHydrationBoundary(parentInstance,hydrationInstance){var node=hydrationInstance,depth=0;do{var nextNode=node.nextSibling;parentInstance.removeChild(node);if(nextNode&&8===nextNode.nodeType)if(node=nextNode.data,"/$"===node||"/&"===node){if(0===depth){parentInstance.removeChild(nextNode);retryIfBlockedOn(hydrationInstance);return}depth--}else if("$"===node||"$?"===node||"$~"===node||"$!"===node||"&"===node)depth++;else if("html"===node)releaseSingletonInstance(parentInstance.ownerDocument.documentElement);else if("head"===node){node=parentInstance.ownerDocument.head;releaseSingletonInstance(node);for(var node$jscomp$0=node.firstChild;node$jscomp$0;){var nextNode$jscomp$0=node$jscomp$0.nextSibling,nodeName=node$jscomp$0.nodeName;node$jscomp$0[internalHoistableMarker]||"SCRIPT"===nodeName||"STYLE"===nodeName||"LINK"===nodeName&&"stylesheet"===node$jscomp$0.rel.toLowerCase()||node.removeChild(node$jscomp$0);node$jscomp$0=nextNode$jscomp$0}}else"body"===node&&releaseSingletonInstance(parentInstance.ownerDocument.body);node=nextNode}while(node);retryIfBlockedOn(hydrationInstance)}function hideOrUnhideDehydratedBoundary(suspenseInstance,isHidden){var node=suspenseInstance;suspenseInstance=0;do{var nextNode=node.nextSibling;1===node.nodeType?isHidden?(node._stashedDisplay=node.style.display,node.style.display="none"):(node.style.display=node._stashedDisplay||"",""===node.getAttribute("style")&&node.removeAttribute("style")):3===node.nodeType&&(isHidden?(node._stashedText=node.nodeValue,node.nodeValue=""):node.nodeValue=node._stashedText||"");if(nextNode&&8===nextNode.nodeType)if(node=nextNode.data,"/$"===node)if(0===suspenseInstance)break;else suspenseInstance--;else"$"!==node&&"$?"!==node&&"$~"!==node&&"$!"!==node||suspenseInstance++;node=nextNode}while(node)}function clearContainerSparingly(container2){var nextNode=container2.firstChild;nextNode&&10===nextNode.nodeType&&(nextNode=nextNode.nextSibling);for(;nextNode;){var node=nextNode;nextNode=nextNode.nextSibling;switch(node.nodeName){case"HTML":case"HEAD":case"BODY":clearContainerSparingly(node);detachDeletedInstance(node);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===node.rel.toLowerCase())continue}container2.removeChild(node)}}function canHydrateInstance(instance,type,props,inRootOrSingleton){for(;1===instance.nodeType;){var anyProps=props;if(instance.nodeName.toLowerCase()!==type.toLowerCase()){if(!inRootOrSingleton&&("INPUT"!==instance.nodeName||"hidden"!==instance.type))break}else if(!inRootOrSingleton)if("input"===type&&"hidden"===instance.type){var name=null==anyProps.name?null:""+anyProps.name;if("hidden"===anyProps.type&&instance.getAttribute("name")===name)return instance}else return instance;else if(!instance[internalHoistableMarker])switch(type){case"meta":if(!instance.hasAttribute("itemprop"))break;return instance;case"link":name=instance.getAttribute("rel");if("stylesheet"===name&&instance.hasAttribute("data-precedence"))break;else if(name!==anyProps.rel||instance.getAttribute("href")!==(null==anyProps.href||""===anyProps.href?null:anyProps.href)||instance.getAttribute("crossorigin")!==(null==anyProps.crossOrigin?null:anyProps.crossOrigin)||instance.getAttribute("title")!==(null==anyProps.title?null:anyProps.title))break;return instance;case"style":if(instance.hasAttribute("data-precedence"))break;return instance;case"script":name=instance.getAttribute("src");if((name!==(null==anyProps.src?null:anyProps.src)||instance.getAttribute("type")!==(null==anyProps.type?null:anyProps.type)||instance.getAttribute("crossorigin")!==(null==anyProps.crossOrigin?null:anyProps.crossOrigin))&&name&&instance.hasAttribute("async")&&!instance.hasAttribute("itemprop"))break;return instance;default:return instance}instance=getNextHydratable(instance.nextSibling);if(null===instance)break}return null}function canHydrateTextInstance(instance,text,inRootOrSingleton){if(""===text)return null;for(;3!==instance.nodeType;){if((1!==instance.nodeType||"INPUT"!==instance.nodeName||"hidden"!==instance.type)&&!inRootOrSingleton)return null;instance=getNextHydratable(instance.nextSibling);if(null===instance)return null}return instance}function canHydrateHydrationBoundary(instance,inRootOrSingleton){for(;8!==instance.nodeType;){if((1!==instance.nodeType||"INPUT"!==instance.nodeName||"hidden"!==instance.type)&&!inRootOrSingleton)return null;instance=getNextHydratable(instance.nextSibling);if(null===instance)return null}return instance}function isSuspenseInstancePending(instance){return"$?"===instance.data||"$~"===instance.data}function isSuspenseInstanceFallback(instance){return"$!"===instance.data||"$?"===instance.data&&"loading"!==instance.ownerDocument.readyState}function registerSuspenseInstanceRetry(instance,callback){var ownerDocument=instance.ownerDocument;if("$~"===instance.data)instance._reactRetry=callback;else if("$?"!==instance.data||"loading"!==ownerDocument.readyState)callback();else{var listener=function(){callback();ownerDocument.removeEventListener("DOMContentLoaded",listener)};ownerDocument.addEventListener("DOMContentLoaded",listener);instance._reactRetry=listener}}function getNextHydratable(node){for(;null!=node;node=node.nextSibling){var nodeType=node.nodeType;if(1===nodeType||3===nodeType)break;if(8===nodeType){nodeType=node.data;if("$"===nodeType||"$!"===nodeType||"$?"===nodeType||"$~"===nodeType||"&"===nodeType||"F!"===nodeType||"F"===nodeType)break;if("/$"===nodeType||"/&"===nodeType)return null}}return node}var previousHydratableOnEnteringScopedSingleton=null;function getNextHydratableInstanceAfterHydrationBoundary(hydrationInstance){hydrationInstance=hydrationInstance.nextSibling;for(var depth=0;hydrationInstance;){if(8===hydrationInstance.nodeType){var data=hydrationInstance.data;if("/$"===data||"/&"===data){if(0===depth)return getNextHydratable(hydrationInstance.nextSibling);depth--}else"$"!==data&&"$!"!==data&&"$?"!==data&&"$~"!==data&&"&"!==data||depth++}hydrationInstance=hydrationInstance.nextSibling}return null}function getParentHydrationBoundary(targetInstance){targetInstance=targetInstance.previousSibling;for(var depth=0;targetInstance;){if(8===targetInstance.nodeType){var data=targetInstance.data;if("$"===data||"$!"===data||"$?"===data||"$~"===data||"&"===data){if(0===depth)return targetInstance;depth--}else"/$"!==data&&"/&"!==data||depth++}targetInstance=targetInstance.previousSibling}return null}function resolveSingletonInstance(type,props,rootContainerInstance){props=getOwnerDocumentFromRootContainer(rootContainerInstance);switch(type){case"html":type=props.documentElement;if(!type)throw Error(formatProdErrorMessage(452));return type;case"head":type=props.head;if(!type)throw Error(formatProdErrorMessage(453));return type;case"body":type=props.body;if(!type)throw Error(formatProdErrorMessage(454));return type;default:throw Error(formatProdErrorMessage(451))}}function releaseSingletonInstance(instance){for(var attributes=instance.attributes;attributes.length;)instance.removeAttributeNode(attributes[0]);detachDeletedInstance(instance)}var preloadPropsMap=new Map;var preconnectsSet=new Set;function getHoistableRoot(container2){return"function"===typeof container2.getRootNode?container2.getRootNode():9===container2.nodeType?container2:container2.ownerDocument}var previousDispatcher=ReactDOMSharedInternals.d;ReactDOMSharedInternals.d={f:flushSyncWork,r:requestFormReset,D:prefetchDNS,C:preconnect,L:preload,m:preloadModule,X:preinitScript,S:preinitStyle,M:preinitModuleScript};function flushSyncWork(){var previousWasRendering=previousDispatcher.f(),wasRendering=flushSyncWork$1();return previousWasRendering||wasRendering}function requestFormReset(form){var formInst=getInstanceFromNode(form);null!==formInst&&5===formInst.tag&&"form"===formInst.type?requestFormReset$1(formInst):previousDispatcher.r(form)}var globalDocument="undefined"===typeof document?null:document;function preconnectAs(rel,href,crossOrigin){var ownerDocument=globalDocument;if(ownerDocument&&"string"===typeof href&&href){var limitedEscapedHref=escapeSelectorAttributeValueInsideDoubleQuotes(href);limitedEscapedHref='link[rel="'+rel+'"][href="'+limitedEscapedHref+'"]';"string"===typeof crossOrigin&&(limitedEscapedHref+='[crossorigin="'+crossOrigin+'"]');preconnectsSet.has(limitedEscapedHref)||(preconnectsSet.add(limitedEscapedHref),rel={rel,crossOrigin,href},null===ownerDocument.querySelector(limitedEscapedHref)&&(href=ownerDocument.createElement("link"),setInitialProperties(href,"link",rel),markNodeAsHoistable(href),ownerDocument.head.appendChild(href)))}}function prefetchDNS(href){previousDispatcher.D(href);preconnectAs("dns-prefetch",href,null)}function preconnect(href,crossOrigin){previousDispatcher.C(href,crossOrigin);preconnectAs("preconnect",href,crossOrigin)}function preload(href,as,options2){previousDispatcher.L(href,as,options2);var ownerDocument=globalDocument;if(ownerDocument&&href&&as){var preloadSelector='link[rel="preload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(as)+'"]';"image"===as?options2&&options2.imageSrcSet?(preloadSelector+='[imagesrcset="'+escapeSelectorAttributeValueInsideDoubleQuotes(options2.imageSrcSet)+'"]',"string"===typeof options2.imageSizes&&(preloadSelector+='[imagesizes="'+escapeSelectorAttributeValueInsideDoubleQuotes(options2.imageSizes)+'"]')):preloadSelector+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(href)+'"]':preloadSelector+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(href)+'"]';var key=preloadSelector;switch(as){case"style":key=getStyleKey(href);break;case"script":key=getScriptKey(href)}preloadPropsMap.has(key)||(href=assign({rel:"preload",href:"image"===as&&options2&&options2.imageSrcSet?void 0:href,as},options2),preloadPropsMap.set(key,href),null!==ownerDocument.querySelector(preloadSelector)||"style"===as&&ownerDocument.querySelector(getStylesheetSelectorFromKey(key))||"script"===as&&ownerDocument.querySelector(getScriptSelectorFromKey(key))||(as=ownerDocument.createElement("link"),setInitialProperties(as,"link",href),markNodeAsHoistable(as),ownerDocument.head.appendChild(as)))}}function preloadModule(href,options2){previousDispatcher.m(href,options2);var ownerDocument=globalDocument;if(ownerDocument&&href){var as=options2&&"string"===typeof options2.as?options2.as:"script",preloadSelector='link[rel="modulepreload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(as)+'"][href="'+escapeSelectorAttributeValueInsideDoubleQuotes(href)+'"]',key=preloadSelector;switch(as){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":key=getScriptKey(href)}if(!preloadPropsMap.has(key)&&(href=assign({rel:"modulepreload",href},options2),preloadPropsMap.set(key,href),null===ownerDocument.querySelector(preloadSelector))){switch(as){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ownerDocument.querySelector(getScriptSelectorFromKey(key)))return}as=ownerDocument.createElement("link");setInitialProperties(as,"link",href);markNodeAsHoistable(as);ownerDocument.head.appendChild(as)}}}function preinitStyle(href,precedence,options2){previousDispatcher.S(href,precedence,options2);var ownerDocument=globalDocument;if(ownerDocument&&href){var styles=getResourcesFromRoot(ownerDocument).hoistableStyles,key=getStyleKey(href);precedence=precedence||"default";var resource=styles.get(key);if(!resource){var state={loading:0,preload:null};if(resource=ownerDocument.querySelector(getStylesheetSelectorFromKey(key)))state.loading=5;else{href=assign({rel:"stylesheet",href,"data-precedence":precedence},options2);(options2=preloadPropsMap.get(key))&&adoptPreloadPropsForStylesheet(href,options2);var link=resource=ownerDocument.createElement("link");markNodeAsHoistable(link);setInitialProperties(link,"link",href);link._p=new Promise(function(resolve,reject){link.onload=resolve;link.onerror=reject});link.addEventListener("load",function(){state.loading|=1});link.addEventListener("error",function(){state.loading|=2});state.loading|=4;insertStylesheet(resource,precedence,ownerDocument)}resource={type:"stylesheet",instance:resource,count:1,state};styles.set(key,resource)}}}function preinitScript(src,options2){previousDispatcher.X(src,options2);var ownerDocument=globalDocument;if(ownerDocument&&src){var scripts=getResourcesFromRoot(ownerDocument).hoistableScripts,key=getScriptKey(src),resource=scripts.get(key);resource||(resource=ownerDocument.querySelector(getScriptSelectorFromKey(key)),resource||(src=assign({src,async:true},options2),(options2=preloadPropsMap.get(key))&&adoptPreloadPropsForScript(src,options2),resource=ownerDocument.createElement("script"),markNodeAsHoistable(resource),setInitialProperties(resource,"link",src),ownerDocument.head.appendChild(resource)),resource={type:"script",instance:resource,count:1,state:null},scripts.set(key,resource))}}function preinitModuleScript(src,options2){previousDispatcher.M(src,options2);var ownerDocument=globalDocument;if(ownerDocument&&src){var scripts=getResourcesFromRoot(ownerDocument).hoistableScripts,key=getScriptKey(src),resource=scripts.get(key);resource||(resource=ownerDocument.querySelector(getScriptSelectorFromKey(key)),resource||(src=assign({src,async:true,type:"module"},options2),(options2=preloadPropsMap.get(key))&&adoptPreloadPropsForScript(src,options2),resource=ownerDocument.createElement("script"),markNodeAsHoistable(resource),setInitialProperties(resource,"link",src),ownerDocument.head.appendChild(resource)),resource={type:"script",instance:resource,count:1,state:null},scripts.set(key,resource))}}function getResource(type,currentProps,pendingProps,currentResource){var JSCompiler_inline_result=(JSCompiler_inline_result=rootInstanceStackCursor.current)?getHoistableRoot(JSCompiler_inline_result):null;if(!JSCompiler_inline_result)throw Error(formatProdErrorMessage(446));switch(type){case"meta":case"title":return null;case"style":return"string"===typeof pendingProps.precedence&&"string"===typeof pendingProps.href?(currentProps=getStyleKey(pendingProps.href),pendingProps=getResourcesFromRoot(JSCompiler_inline_result).hoistableStyles,currentResource=pendingProps.get(currentProps),currentResource||(currentResource={type:"style",instance:null,count:0,state:null},pendingProps.set(currentProps,currentResource)),currentResource):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===pendingProps.rel&&"string"===typeof pendingProps.href&&"string"===typeof pendingProps.precedence){type=getStyleKey(pendingProps.href);var styles$243=getResourcesFromRoot(JSCompiler_inline_result).hoistableStyles,resource$244=styles$243.get(type);resource$244||(JSCompiler_inline_result=JSCompiler_inline_result.ownerDocument||JSCompiler_inline_result,resource$244={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},styles$243.set(type,resource$244),(styles$243=JSCompiler_inline_result.querySelector(getStylesheetSelectorFromKey(type)))&&!styles$243._p&&(resource$244.instance=styles$243,resource$244.state.loading=5),preloadPropsMap.has(type)||(pendingProps={rel:"preload",as:"style",href:pendingProps.href,crossOrigin:pendingProps.crossOrigin,integrity:pendingProps.integrity,media:pendingProps.media,hrefLang:pendingProps.hrefLang,referrerPolicy:pendingProps.referrerPolicy},preloadPropsMap.set(type,pendingProps),styles$243||preloadStylesheet(JSCompiler_inline_result,type,pendingProps,resource$244.state)));if(currentProps&&null===currentResource)throw Error(formatProdErrorMessage(528,""));return resource$244}if(currentProps&&null!==currentResource)throw Error(formatProdErrorMessage(529,""));return null;case"script":return currentProps=pendingProps.async,pendingProps=pendingProps.src,"string"===typeof pendingProps&&currentProps&&"function"!==typeof currentProps&&"symbol"!==typeof currentProps?(currentProps=getScriptKey(pendingProps),pendingProps=getResourcesFromRoot(JSCompiler_inline_result).hoistableScripts,currentResource=pendingProps.get(currentProps),currentResource||(currentResource={type:"script",instance:null,count:0,state:null},pendingProps.set(currentProps,currentResource)),currentResource):{type:"void",instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,type))}}function getStyleKey(href){return'href="'+escapeSelectorAttributeValueInsideDoubleQuotes(href)+'"'}function getStylesheetSelectorFromKey(key){return'link[rel="stylesheet"]['+key+"]"}function stylesheetPropsFromRawProps(rawProps){return assign({},rawProps,{"data-precedence":rawProps.precedence,precedence:null})}function preloadStylesheet(ownerDocument,key,preloadProps,state){ownerDocument.querySelector('link[rel="preload"][as="style"]['+key+"]")?state.loading=1:(key=ownerDocument.createElement("link"),state.preload=key,key.addEventListener("load",function(){return state.loading|=1}),key.addEventListener("error",function(){return state.loading|=2}),setInitialProperties(key,"link",preloadProps),markNodeAsHoistable(key),ownerDocument.head.appendChild(key))}function getScriptKey(src){return'[src="'+escapeSelectorAttributeValueInsideDoubleQuotes(src)+'"]'}function getScriptSelectorFromKey(key){return"script[async]"+key}function acquireResource(hoistableRoot,resource,props){resource.count++;if(null===resource.instance)switch(resource.type){case"style":var instance=hoistableRoot.querySelector('style[data-href~="'+escapeSelectorAttributeValueInsideDoubleQuotes(props.href)+'"]');if(instance)return resource.instance=instance,markNodeAsHoistable(instance),instance;var styleProps=assign({},props,{"data-href":props.href,"data-precedence":props.precedence,href:null,precedence:null});instance=(hoistableRoot.ownerDocument||hoistableRoot).createElement("style");markNodeAsHoistable(instance);setInitialProperties(instance,"style",styleProps);insertStylesheet(instance,props.precedence,hoistableRoot);return resource.instance=instance;case"stylesheet":styleProps=getStyleKey(props.href);var instance$249=hoistableRoot.querySelector(getStylesheetSelectorFromKey(styleProps));if(instance$249)return resource.state.loading|=4,resource.instance=instance$249,markNodeAsHoistable(instance$249),instance$249;instance=stylesheetPropsFromRawProps(props);(styleProps=preloadPropsMap.get(styleProps))&&adoptPreloadPropsForStylesheet(instance,styleProps);instance$249=(hoistableRoot.ownerDocument||hoistableRoot).createElement("link");markNodeAsHoistable(instance$249);var linkInstance=instance$249;linkInstance._p=new Promise(function(resolve,reject){linkInstance.onload=resolve;linkInstance.onerror=reject});setInitialProperties(instance$249,"link",instance);resource.state.loading|=4;insertStylesheet(instance$249,props.precedence,hoistableRoot);return resource.instance=instance$249;case"script":instance$249=getScriptKey(props.src);if(styleProps=hoistableRoot.querySelector(getScriptSelectorFromKey(instance$249)))return resource.instance=styleProps,markNodeAsHoistable(styleProps),styleProps;instance=props;if(styleProps=preloadPropsMap.get(instance$249))instance=assign({},props),adoptPreloadPropsForScript(instance,styleProps);hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot;styleProps=hoistableRoot.createElement("script");markNodeAsHoistable(styleProps);setInitialProperties(styleProps,"link",instance);hoistableRoot.head.appendChild(styleProps);return resource.instance=styleProps;case"void":return null;default:throw Error(formatProdErrorMessage(443,resource.type))}else"stylesheet"===resource.type&&0===(resource.state.loading&4)&&(instance=resource.instance,resource.state.loading|=4,insertStylesheet(instance,props.precedence,hoistableRoot));return resource.instance}function insertStylesheet(instance,precedence,root3){for(var nodes=root3.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),last=nodes.length?nodes[nodes.length-1]:null,prior=last,i=0;i<nodes.length;i++){var node=nodes[i];if(node.dataset.precedence===precedence)prior=node;else if(prior!==last)break}prior?prior.parentNode.insertBefore(instance,prior.nextSibling):(precedence=9===root3.nodeType?root3.head:root3,precedence.insertBefore(instance,precedence.firstChild))}function adoptPreloadPropsForStylesheet(stylesheetProps,preloadProps){null==stylesheetProps.crossOrigin&&(stylesheetProps.crossOrigin=preloadProps.crossOrigin);null==stylesheetProps.referrerPolicy&&(stylesheetProps.referrerPolicy=preloadProps.referrerPolicy);null==stylesheetProps.title&&(stylesheetProps.title=preloadProps.title)}function adoptPreloadPropsForScript(scriptProps,preloadProps){null==scriptProps.crossOrigin&&(scriptProps.crossOrigin=preloadProps.crossOrigin);null==scriptProps.referrerPolicy&&(scriptProps.referrerPolicy=preloadProps.referrerPolicy);null==scriptProps.integrity&&(scriptProps.integrity=preloadProps.integrity)}var tagCaches=null;function getHydratableHoistableCache(type,keyAttribute,ownerDocument){if(null===tagCaches){var cache=new Map;var caches=tagCaches=new Map;caches.set(ownerDocument,cache)}else caches=tagCaches,cache=caches.get(ownerDocument),cache||(cache=new Map,caches.set(ownerDocument,cache));if(cache.has(type))return cache;cache.set(type,null);ownerDocument=ownerDocument.getElementsByTagName(type);for(caches=0;caches<ownerDocument.length;caches++){var node=ownerDocument[caches];if(!(node[internalHoistableMarker]||node[internalInstanceKey]||"link"===type&&"stylesheet"===node.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==node.namespaceURI){var nodeKey=node.getAttribute(keyAttribute)||"";nodeKey=type+nodeKey;var existing=cache.get(nodeKey);existing?existing.push(node):cache.set(nodeKey,[node])}}return cache}function mountHoistable(hoistableRoot,type,instance){hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot;hoistableRoot.head.insertBefore(instance,"title"===type?hoistableRoot.querySelector("head > title"):null)}function isHostHoistableType(type,props,hostContext){if(1===hostContext||null!=props.itemProp)return false;switch(type){case"meta":case"title":return true;case"style":if("string"!==typeof props.precedence||"string"!==typeof props.href||""===props.href)break;return true;case"link":if("string"!==typeof props.rel||"string"!==typeof props.href||""===props.href||props.onLoad||props.onError)break;switch(props.rel){case"stylesheet":return type=props.disabled,"string"===typeof props.precedence&&null==type;default:return true}case"script":if(props.async&&"function"!==typeof props.async&&"symbol"!==typeof props.async&&!props.onLoad&&!props.onError&&props.src&&"string"===typeof props.src)return true}return false}function preloadResource(resource){return"stylesheet"===resource.type&&0===(resource.state.loading&3)?false:true}function suspendResource(state,hoistableRoot,resource,props){if("stylesheet"===resource.type&&("string"!==typeof props.media||false!==matchMedia(props.media).matches)&&0===(resource.state.loading&4)){if(null===resource.instance){var key=getStyleKey(props.href),instance=hoistableRoot.querySelector(getStylesheetSelectorFromKey(key));if(instance){hoistableRoot=instance._p;null!==hoistableRoot&&"object"===typeof hoistableRoot&&"function"===typeof hoistableRoot.then&&(state.count++,state=onUnsuspend.bind(state),hoistableRoot.then(state,state));resource.state.loading|=4;resource.instance=instance;markNodeAsHoistable(instance);return}instance=hoistableRoot.ownerDocument||hoistableRoot;props=stylesheetPropsFromRawProps(props);(key=preloadPropsMap.get(key))&&adoptPreloadPropsForStylesheet(props,key);instance=instance.createElement("link");markNodeAsHoistable(instance);var linkInstance=instance;linkInstance._p=new Promise(function(resolve,reject){linkInstance.onload=resolve;linkInstance.onerror=reject});setInitialProperties(instance,"link",props);resource.instance=instance}null===state.stylesheets&&(state.stylesheets=new Map);state.stylesheets.set(resource,hoistableRoot);(hoistableRoot=resource.state.preload)&&0===(resource.state.loading&3)&&(state.count++,resource=onUnsuspend.bind(state),hoistableRoot.addEventListener("load",resource),hoistableRoot.addEventListener("error",resource))}}var estimatedBytesWithinLimit=0;function waitForCommitToBeReady(state,timeoutOffset){state.stylesheets&&0===state.count&&insertSuspendedStylesheets(state,state.stylesheets);return 0<state.count||0<state.imgCount?function(commit){var stylesheetTimer=setTimeout(function(){state.stylesheets&&insertSuspendedStylesheets(state,state.stylesheets);if(state.unsuspend){var unsuspend=state.unsuspend;state.unsuspend=null;unsuspend()}},6e4+timeoutOffset);0<state.imgBytes&&0===estimatedBytesWithinLimit&&(estimatedBytesWithinLimit=62500*estimateBandwidth());var imgTimer=setTimeout(function(){state.waitingForImages=false;if(0===state.count&&(state.stylesheets&&insertSuspendedStylesheets(state,state.stylesheets),state.unsuspend)){var unsuspend=state.unsuspend;state.unsuspend=null;unsuspend()}},(state.imgBytes>estimatedBytesWithinLimit?50:800)+timeoutOffset);state.unsuspend=commit;return function(){state.unsuspend=null;clearTimeout(stylesheetTimer);clearTimeout(imgTimer)}}:null}function onUnsuspend(){this.count--;if(0===this.count&&(0===this.imgCount||!this.waitingForImages)){if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var unsuspend=this.unsuspend;this.unsuspend=null;unsuspend()}}}var precedencesByRoot=null;function insertSuspendedStylesheets(state,resources){state.stylesheets=null;null!==state.unsuspend&&(state.count++,precedencesByRoot=new Map,resources.forEach(insertStylesheetIntoRoot,state),precedencesByRoot=null,onUnsuspend.call(state))}function insertStylesheetIntoRoot(root3,resource){if(!(resource.state.loading&4)){var precedences=precedencesByRoot.get(root3);if(precedences)var last=precedences.get(null);else{precedences=new Map;precedencesByRoot.set(root3,precedences);for(var nodes=root3.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<nodes.length;i++){var node=nodes[i];if("LINK"===node.nodeName||"not all"!==node.getAttribute("media"))precedences.set(node.dataset.precedence,node),last=node}last&&precedences.set(null,last)}nodes=resource.instance;node=nodes.getAttribute("data-precedence");i=precedences.get(node)||last;i===last&&precedences.set(null,nodes);precedences.set(node,nodes);this.count++;last=onUnsuspend.bind(this);nodes.addEventListener("load",last);nodes.addEventListener("error",last);i?i.parentNode.insertBefore(nodes,i.nextSibling):(root3=9===root3.nodeType?root3.head:root3,root3.insertBefore(nodes,root3.firstChild));resource.state.loading|=4}}var HostTransitionContext={$$typeof:REACT_CONTEXT_TYPE,Provider:null,Consumer:null,_currentValue:sharedNotPendingObject,_currentValue2:sharedNotPendingObject,_threadCount:0};function FiberRootNode(containerInfo,tag,hydrate,identifierPrefix,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator,formState){this.tag=1;this.containerInfo=containerInfo;this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null;this.callbackPriority=0;this.expirationTimes=createLaneMap(-1);this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=createLaneMap(0);this.hiddenUpdates=createLaneMap(null);this.identifierPrefix=identifierPrefix;this.onUncaughtError=onUncaughtError;this.onCaughtError=onCaughtError;this.onRecoverableError=onRecoverableError;this.pooledCache=null;this.pooledCacheLanes=0;this.formState=formState;this.incompleteTransitions=new Map}function createFiberRoot(containerInfo,tag,hydrate,initialChildren,hydrationCallbacks,isStrictMode,identifierPrefix,formState,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator){containerInfo=new FiberRootNode(containerInfo,tag,hydrate,identifierPrefix,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator,formState);tag=1;true===isStrictMode&&(tag|=24);isStrictMode=createFiberImplClass(3,null,null,tag);containerInfo.current=isStrictMode;isStrictMode.stateNode=containerInfo;tag=createCache();tag.refCount++;containerInfo.pooledCache=tag;tag.refCount++;isStrictMode.memoizedState={element:initialChildren,isDehydrated:hydrate,cache:tag};initializeUpdateQueue(isStrictMode);return containerInfo}function getContextForSubtree(parentComponent){if(!parentComponent)return emptyContextObject;parentComponent=emptyContextObject;return parentComponent}function updateContainerImpl(rootFiber,lane,element,container2,parentComponent,callback){parentComponent=getContextForSubtree(parentComponent);null===container2.context?container2.context=parentComponent:container2.pendingContext=parentComponent;container2=createUpdate(lane);container2.payload={element};callback=void 0===callback?null:callback;null!==callback&&(container2.callback=callback);element=enqueueUpdate(rootFiber,container2,lane);null!==element&&(scheduleUpdateOnFiber(element,rootFiber,lane),entangleTransitions(element,rootFiber,lane))}function markRetryLaneImpl(fiber,retryLane){fiber=fiber.memoizedState;if(null!==fiber&&null!==fiber.dehydrated){var a=fiber.retryLane;fiber.retryLane=0!==a&&a<retryLane?a:retryLane}}function markRetryLaneIfNotHydrated(fiber,retryLane){markRetryLaneImpl(fiber,retryLane);(fiber=fiber.alternate)&&markRetryLaneImpl(fiber,retryLane)}function attemptContinuousHydration(fiber){if(13===fiber.tag||31===fiber.tag){var root3=enqueueConcurrentRenderForLane(fiber,67108864);null!==root3&&scheduleUpdateOnFiber(root3,fiber,67108864);markRetryLaneIfNotHydrated(fiber,67108864)}}function attemptHydrationAtCurrentPriority(fiber){if(13===fiber.tag||31===fiber.tag){var lane=requestUpdateLane();lane=getBumpedLaneForHydrationByLane(lane);var root3=enqueueConcurrentRenderForLane(fiber,lane);null!==root3&&scheduleUpdateOnFiber(root3,fiber,lane);markRetryLaneIfNotHydrated(fiber,lane)}}var _enabled=true;function dispatchDiscreteEvent(domEventName,eventSystemFlags,container2,nativeEvent){var prevTransition=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,dispatchEvent(domEventName,eventSystemFlags,container2,nativeEvent)}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition}}function dispatchContinuousEvent(domEventName,eventSystemFlags,container2,nativeEvent){var prevTransition=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=8,dispatchEvent(domEventName,eventSystemFlags,container2,nativeEvent)}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition}}function dispatchEvent(domEventName,eventSystemFlags,targetContainer,nativeEvent){if(_enabled){var blockedOn=findInstanceBlockingEvent(nativeEvent);if(null===blockedOn)dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,return_targetInst,targetContainer),clearIfContinuousEvent(domEventName,nativeEvent);else if(queueIfContinuousEvent(blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent))nativeEvent.stopPropagation();else if(clearIfContinuousEvent(domEventName,nativeEvent),eventSystemFlags&4&&-1<discreteReplayableEvents.indexOf(domEventName)){for(;null!==blockedOn;){var fiber=getInstanceFromNode(blockedOn);if(null!==fiber)switch(fiber.tag){case 3:fiber=fiber.stateNode;if(fiber.current.memoizedState.isDehydrated){var lanes=getHighestPriorityLanes(fiber.pendingLanes);if(0!==lanes){var root3=fiber;root3.pendingLanes|=2;for(root3.entangledLanes|=2;lanes;){var lane=1<<31-clz32(lanes);root3.entanglements[1]|=lane;lanes&=~lane}ensureRootIsScheduled(fiber);0===(executionContext&6)&&(workInProgressRootRenderTargetTime=now()+500,flushSyncWorkAcrossRoots_impl(0,false))}}break;case 31:case 13:root3=enqueueConcurrentRenderForLane(fiber,2),null!==root3&&scheduleUpdateOnFiber(root3,fiber,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(fiber,2)}fiber=findInstanceBlockingEvent(nativeEvent);null===fiber&&dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,return_targetInst,targetContainer);if(fiber===blockedOn)break;blockedOn=fiber}null!==blockedOn&&nativeEvent.stopPropagation()}else dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,null,targetContainer)}}function findInstanceBlockingEvent(nativeEvent){nativeEvent=getEventTarget(nativeEvent);return findInstanceBlockingTarget(nativeEvent)}var return_targetInst=null;function findInstanceBlockingTarget(targetNode){return_targetInst=null;targetNode=getClosestInstanceFromNode(targetNode);if(null!==targetNode){var nearestMounted=getNearestMountedFiber(targetNode);if(null===nearestMounted)targetNode=null;else{var tag=nearestMounted.tag;if(13===tag){targetNode=getSuspenseInstanceFromFiber(nearestMounted);if(null!==targetNode)return targetNode;targetNode=null}else if(31===tag){targetNode=getActivityInstanceFromFiber(nearestMounted);if(null!==targetNode)return targetNode;targetNode=null}else if(3===tag){if(nearestMounted.stateNode.current.memoizedState.isDehydrated)return 3===nearestMounted.tag?nearestMounted.stateNode.containerInfo:null;targetNode=null}else nearestMounted!==targetNode&&(targetNode=null)}}return_targetInst=targetNode;return null}function getEventPriority(domEventName){switch(domEventName){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(getCurrentPriorityLevel()){case ImmediatePriority:return 2;case UserBlockingPriority:return 8;case NormalPriority$1:case LowPriority:return 32;case IdlePriority:return 268435456;default:return 32}default:return 32}}var hasScheduledReplayAttempt=false;var queuedFocus=null;var queuedDrag=null;var queuedMouse=null;var queuedPointers=new Map;var queuedPointerCaptures=new Map;var queuedExplicitHydrationTargets=[];var discreteReplayableEvents="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function clearIfContinuousEvent(domEventName,nativeEvent){switch(domEventName){case"focusin":case"focusout":queuedFocus=null;break;case"dragenter":case"dragleave":queuedDrag=null;break;case"mouseover":case"mouseout":queuedMouse=null;break;case"pointerover":case"pointerout":queuedPointers.delete(nativeEvent.pointerId);break;case"gotpointercapture":case"lostpointercapture":queuedPointerCaptures.delete(nativeEvent.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(existingQueuedEvent,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent){if(null===existingQueuedEvent||existingQueuedEvent.nativeEvent!==nativeEvent)return existingQueuedEvent={blockedOn,domEventName,eventSystemFlags,nativeEvent,targetContainers:[targetContainer]},null!==blockedOn&&(blockedOn=getInstanceFromNode(blockedOn),null!==blockedOn&&attemptContinuousHydration(blockedOn)),existingQueuedEvent;existingQueuedEvent.eventSystemFlags|=eventSystemFlags;blockedOn=existingQueuedEvent.targetContainers;null!==targetContainer&&-1===blockedOn.indexOf(targetContainer)&&blockedOn.push(targetContainer);return existingQueuedEvent}function queueIfContinuousEvent(blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent){switch(domEventName){case"focusin":return queuedFocus=accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),true;case"dragenter":return queuedDrag=accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),true;case"mouseover":return queuedMouse=accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),true;case"pointerover":var pointerId=nativeEvent.pointerId;queuedPointers.set(pointerId,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(pointerId)||null,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent));return true;case"gotpointercapture":return pointerId=nativeEvent.pointerId,queuedPointerCaptures.set(pointerId,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(pointerId)||null,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent)),true}return false}function attemptExplicitHydrationTarget(queuedTarget){var targetInst=getClosestInstanceFromNode(queuedTarget.target);if(null!==targetInst){var nearestMounted=getNearestMountedFiber(targetInst);if(null!==nearestMounted){if(targetInst=nearestMounted.tag,13===targetInst){if(targetInst=getSuspenseInstanceFromFiber(nearestMounted),null!==targetInst){queuedTarget.blockedOn=targetInst;runWithPriority(queuedTarget.priority,function(){attemptHydrationAtCurrentPriority(nearestMounted)});return}}else if(31===targetInst){if(targetInst=getActivityInstanceFromFiber(nearestMounted),null!==targetInst){queuedTarget.blockedOn=targetInst;runWithPriority(queuedTarget.priority,function(){attemptHydrationAtCurrentPriority(nearestMounted)});return}}else if(3===targetInst&&nearestMounted.stateNode.current.memoizedState.isDehydrated){queuedTarget.blockedOn=3===nearestMounted.tag?nearestMounted.stateNode.containerInfo:null;return}}}queuedTarget.blockedOn=null}function attemptReplayContinuousQueuedEvent(queuedEvent){if(null!==queuedEvent.blockedOn)return false;for(var targetContainers=queuedEvent.targetContainers;0<targetContainers.length;){var nextBlockedOn=findInstanceBlockingEvent(queuedEvent.nativeEvent);if(null===nextBlockedOn){nextBlockedOn=queuedEvent.nativeEvent;var nativeEventClone=new nextBlockedOn.constructor(nextBlockedOn.type,nextBlockedOn);currentReplayingEvent=nativeEventClone;nextBlockedOn.target.dispatchEvent(nativeEventClone);currentReplayingEvent=null}else return targetContainers=getInstanceFromNode(nextBlockedOn),null!==targetContainers&&attemptContinuousHydration(targetContainers),queuedEvent.blockedOn=nextBlockedOn,false;targetContainers.shift()}return true}function attemptReplayContinuousQueuedEventInMap(queuedEvent,key,map){attemptReplayContinuousQueuedEvent(queuedEvent)&&map.delete(key)}function replayUnblockedEvents(){hasScheduledReplayAttempt=false;null!==queuedFocus&&attemptReplayContinuousQueuedEvent(queuedFocus)&&(queuedFocus=null);null!==queuedDrag&&attemptReplayContinuousQueuedEvent(queuedDrag)&&(queuedDrag=null);null!==queuedMouse&&attemptReplayContinuousQueuedEvent(queuedMouse)&&(queuedMouse=null);queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(queuedEvent,unblocked){queuedEvent.blockedOn===unblocked&&(queuedEvent.blockedOn=null,hasScheduledReplayAttempt||(hasScheduledReplayAttempt=true,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,replayUnblockedEvents)))}var lastScheduledReplayQueue=null;function scheduleReplayQueueIfNeeded(formReplayingQueue){lastScheduledReplayQueue!==formReplayingQueue&&(lastScheduledReplayQueue=formReplayingQueue,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,function(){lastScheduledReplayQueue===formReplayingQueue&&(lastScheduledReplayQueue=null);for(var i=0;i<formReplayingQueue.length;i+=3){var form=formReplayingQueue[i],submitterOrAction=formReplayingQueue[i+1],formData=formReplayingQueue[i+2];if("function"!==typeof submitterOrAction)if(null===findInstanceBlockingTarget(submitterOrAction||form))continue;else break;var formInst=getInstanceFromNode(form);null!==formInst&&(formReplayingQueue.splice(i,3),i-=3,startHostTransition(formInst,{pending:true,data:formData,method:form.method,action:submitterOrAction},submitterOrAction,formData))}}))}function retryIfBlockedOn(unblocked){function unblock(queuedEvent){return scheduleCallbackIfUnblocked(queuedEvent,unblocked)}null!==queuedFocus&&scheduleCallbackIfUnblocked(queuedFocus,unblocked);null!==queuedDrag&&scheduleCallbackIfUnblocked(queuedDrag,unblocked);null!==queuedMouse&&scheduleCallbackIfUnblocked(queuedMouse,unblocked);queuedPointers.forEach(unblock);queuedPointerCaptures.forEach(unblock);for(var i=0;i<queuedExplicitHydrationTargets.length;i++){var queuedTarget=queuedExplicitHydrationTargets[i];queuedTarget.blockedOn===unblocked&&(queuedTarget.blockedOn=null)}for(;0<queuedExplicitHydrationTargets.length&&(i=queuedExplicitHydrationTargets[0],null===i.blockedOn);)attemptExplicitHydrationTarget(i),null===i.blockedOn&&queuedExplicitHydrationTargets.shift();i=(unblocked.ownerDocument||unblocked).$$reactFormReplay;if(null!=i)for(queuedTarget=0;queuedTarget<i.length;queuedTarget+=3){var form=i[queuedTarget],submitterOrAction=i[queuedTarget+1],formProps=form[internalPropsKey]||null;if("function"===typeof submitterOrAction)formProps||scheduleReplayQueueIfNeeded(i);else if(formProps){var action=null;if(submitterOrAction&&submitterOrAction.hasAttribute("formAction"))if(form=submitterOrAction,formProps=submitterOrAction[internalPropsKey]||null)action=formProps.formAction;else{if(null!==findInstanceBlockingTarget(form))continue}else action=formProps.action;"function"===typeof action?i[queuedTarget+1]=action:(i.splice(queuedTarget,3),queuedTarget-=3);scheduleReplayQueueIfNeeded(i)}}}function defaultOnDefaultTransitionIndicator(){function handleNavigate(event){event.canIntercept&&"react-transition"===event.info&&event.intercept({handler:function(){return new Promise(function(resolve){return pendingResolve=resolve})},focusReset:"manual",scroll:"manual"})}function handleNavigateComplete(){null!==pendingResolve&&(pendingResolve(),pendingResolve=null);isCancelled||setTimeout(startFakeNavigation,20)}function startFakeNavigation(){if(!isCancelled&&!navigation.transition){var currentEntry=navigation.currentEntry;currentEntry&&null!=currentEntry.url&&navigation.navigate(currentEntry.url,{state:currentEntry.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var isCancelled=false,pendingResolve=null;navigation.addEventListener("navigate",handleNavigate);navigation.addEventListener("navigatesuccess",handleNavigateComplete);navigation.addEventListener("navigateerror",handleNavigateComplete);setTimeout(startFakeNavigation,100);return function(){isCancelled=true;navigation.removeEventListener("navigate",handleNavigate);navigation.removeEventListener("navigatesuccess",handleNavigateComplete);navigation.removeEventListener("navigateerror",handleNavigateComplete);null!==pendingResolve&&(pendingResolve(),pendingResolve=null)}}}function ReactDOMRoot(internalRoot){this._internalRoot=internalRoot}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(children){var root3=this._internalRoot;if(null===root3)throw Error(formatProdErrorMessage(409));var current=root3.current,lane=requestUpdateLane();updateContainerImpl(current,lane,children,root3,null,null)};ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var root3=this._internalRoot;if(null!==root3){this._internalRoot=null;var container2=root3.containerInfo;updateContainerImpl(root3.current,2,null,root3,null,null);flushSyncWork$1();container2[internalContainerInstanceKey]=null}};function ReactDOMHydrationRoot(internalRoot){this._internalRoot=internalRoot}ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(target){if(target){var updatePriority=resolveUpdatePriority();target={blockedOn:null,target,priority:updatePriority};for(var i=0;i<queuedExplicitHydrationTargets.length&&0!==updatePriority&&updatePriority<queuedExplicitHydrationTargets[i].priority;i++);queuedExplicitHydrationTargets.splice(i,0,target);0===i&&attemptExplicitHydrationTarget(target)}};var isomorphicReactPackageVersion$jscomp$inline_1840=React2.version;if("19.2.4"!==isomorphicReactPackageVersion$jscomp$inline_1840)throw Error(formatProdErrorMessage(527,isomorphicReactPackageVersion$jscomp$inline_1840,"19.2.4"));ReactDOMSharedInternals.findDOMNode=function(componentOrElement){var fiber=componentOrElement._reactInternals;if(void 0===fiber){if("function"===typeof componentOrElement.render)throw Error(formatProdErrorMessage(188));componentOrElement=Object.keys(componentOrElement).join(",");throw Error(formatProdErrorMessage(268,componentOrElement))}componentOrElement=findCurrentFiberUsingSlowPath(fiber);componentOrElement=null!==componentOrElement?findCurrentHostFiberImpl(componentOrElement):null;componentOrElement=null===componentOrElement?null:componentOrElement.stateNode;return componentOrElement};var internals$jscomp$inline_2347={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ReactSharedInternals,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){hook$jscomp$inline_2348=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hook$jscomp$inline_2348.isDisabled&&hook$jscomp$inline_2348.supportsFiber)try{rendererID=hook$jscomp$inline_2348.inject(internals$jscomp$inline_2347),injectedHook=hook$jscomp$inline_2348}catch(err){}}var hook$jscomp$inline_2348;exports.createRoot=function(container2,options2){if(!isValidContainer(container2))throw Error(formatProdErrorMessage(299));var isStrictMode=false,identifierPrefix="",onUncaughtError=defaultOnUncaughtError,onCaughtError=defaultOnCaughtError,onRecoverableError=defaultOnRecoverableError;null!==options2&&void 0!==options2&&(true===options2.unstable_strictMode&&(isStrictMode=true),void 0!==options2.identifierPrefix&&(identifierPrefix=options2.identifierPrefix),void 0!==options2.onUncaughtError&&(onUncaughtError=options2.onUncaughtError),void 0!==options2.onCaughtError&&(onCaughtError=options2.onCaughtError),void 0!==options2.onRecoverableError&&(onRecoverableError=options2.onRecoverableError));options2=createFiberRoot(container2,1,false,null,null,isStrictMode,identifierPrefix,null,onUncaughtError,onCaughtError,onRecoverableError,defaultOnDefaultTransitionIndicator);container2[internalContainerInstanceKey]=options2.current;listenToAllSupportedEvents(container2);return new ReactDOMRoot(options2)};exports.hydrateRoot=function(container2,initialChildren,options2){if(!isValidContainer(container2))throw Error(formatProdErrorMessage(299));var isStrictMode=false,identifierPrefix="",onUncaughtError=defaultOnUncaughtError,onCaughtError=defaultOnCaughtError,onRecoverableError=defaultOnRecoverableError,formState=null;null!==options2&&void 0!==options2&&(true===options2.unstable_strictMode&&(isStrictMode=true),void 0!==options2.identifierPrefix&&(identifierPrefix=options2.identifierPrefix),void 0!==options2.onUncaughtError&&(onUncaughtError=options2.onUncaughtError),void 0!==options2.onCaughtError&&(onCaughtError=options2.onCaughtError),void 0!==options2.onRecoverableError&&(onRecoverableError=options2.onRecoverableError),void 0!==options2.formState&&(formState=options2.formState));initialChildren=createFiberRoot(container2,1,true,initialChildren,null!=options2?options2:null,isStrictMode,identifierPrefix,formState,onUncaughtError,onCaughtError,onRecoverableError,defaultOnDefaultTransitionIndicator);initialChildren.context=getContextForSubtree(null);options2=initialChildren.current;isStrictMode=requestUpdateLane();isStrictMode=getBumpedLaneForHydrationByLane(isStrictMode);identifierPrefix=createUpdate(isStrictMode);identifierPrefix.callback=null;enqueueUpdate(options2,identifierPrefix,isStrictMode);options2=isStrictMode;initialChildren.current.lanes=options2;markRootUpdated$1(initialChildren,options2);ensureRootIsScheduled(initialChildren);container2[internalContainerInstanceKey]=initialChildren.current;listenToAllSupportedEvents(container2);return new ReactDOMHydrationRoot(initialChildren)};exports.version="19.2.4"}});var require_client=__commonJS({"home/claude/.npm-global/lib/node_modules/react-dom/client.js"(exports,module){"use strict";function checkDCE(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){throw new Error("^_^")}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}if(true){checkDCE();module.exports=require_react_dom_client_production()}else{module.exports=null}}});var import_react=__toESM(require_react());var import_client=__toESM(require_client());var STORAGE_KEY="dce_estimates";var HUB_STORAGE="dce_hub";function getApiKey(){return window.DCE_API_KEY||""}var SB_URL="https://gsjuqsmrqhyphzedwspa.supabase.co";var SB_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzanVxc21ycWh5cGh6ZWR3c3BhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxMzg0MzAsImV4cCI6MjA4NzcxNDQzMH0.QPS0R0CzpKyPPB18Q1HksNCSuomrR_Yna0EH5l06YJc";var SB_HEADERS={"Content-Type":"application/json","apikey":SB_KEY,"Authorization":`Bearer ${SB_KEY}`,"Prefer":"return=minimal"};async function sbLoad(table){try{const r=await fetch(`${SB_URL}/rest/v1/${table}?select=id,data&order=updated_at.desc`,{headers:{...SB_HEADERS,"Prefer":""}});if(!r.ok){console.warn(`sbLoad ${table} failed:`,r.status);return null}const rows=await r.json();return rows.map(row=>({...row.data,id:row.id}))}catch(e){console.warn(`sbLoad ${table} error:`,e);return null}}async function sbSaveAll(table,records){if(!(records==null?void 0:records.length))return;try{const rows=records.map(r=>({id:r.id,data:r,updated_at:new Date().toISOString()}));const res=await fetch(`${SB_URL}/rest/v1/${table}`,{method:"POST",headers:{...SB_HEADERS,"Prefer":"resolution=merge-duplicates,return=minimal"},body:JSON.stringify(rows)});if(!res.ok)console.warn(`sbSaveAll ${table} failed:`,res.status,await res.text())}catch(e){console.warn(`sbSaveAll ${table} error:`,e)}}async function sbLoadShopHours(){var _a;try{const r=await fetch(`${SB_URL}/rest/v1/shop_hours?id=eq.main&select=data`,{headers:{...SB_HEADERS,"Prefer":""}});if(!r.ok)return null;const rows=await r.json();return((_a=rows[0])==null?void 0:_a.data)||null}catch(e){return null}}async function sbSaveShopHours(data){try{await fetch(`${SB_URL}/rest/v1/shop_hours`,{method:"POST",headers:{...SB_HEADERS,"Prefer":"resolution=merge-duplicates,return=minimal"},body:JSON.stringify({id:"main",data,updated_at:new Date().toISOString()})})}catch(e){console.warn("sbSaveShopHours error:",e)}}async function sbTest(){try{const r=await fetch(`${SB_URL}/rest/v1/estimates?limit=1`,{headers:{...SB_HEADERS,"Prefer":""}});return r.ok}catch(e){return false}}var FONTS=`@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap');`;var ThemeCtx=import_react.default.createContext({dark:true,toggle:()=>{},t:{}});function useTheme(){return import_react.default.useContext(ThemeCtx)}var DARK={bg:"#000",bg2:"#0a0a0a",bg3:"#111",border:"rgba(255,255,255,0.1)",border2:"rgba(255,255,255,0.06)",text:"#fff",text2:"rgba(255,255,255,0.7)",text3:"rgba(255,255,255,0.4)",text4:"rgba(255,255,255,0.2)",navBg:"#000",navBorder:"rgba(255,255,255,0.1)",cardBg:"#000",cardHover:"rgba(255,255,255,0.04)",inputBg:"rgba(255,255,255,0.06)",inputBorder:"rgba(255,255,255,0.15)",accent:"rgba(0,174,239,0.9)",accentBg:"rgba(0,174,239,0.12)",accentBorder:"rgba(0,174,239,0.35)",btnBg:"rgba(255,255,255,0.08)",btnBorder:"rgba(255,255,255,0.15)",btnText:"rgba(255,255,255,0.8)",btnPrimaryBg:"#fff",btnPrimaryText:"#000",scrollbar:"rgba(255,255,255,0.1)",gridGap:"rgba(255,255,255,0.08)",sectionHeader:"rgba(255,255,255,0.04)",success:"rgba(100,220,100,0.8)",warn:"rgba(255,200,80,0.8)",danger:"rgba(255,80,80,0.7)",tableRow:"rgba(255,255,255,0.025)",tableRowHover:"rgba(255,255,255,0.05)",modalBg:"rgba(0,0,0,0.92)",panelBg:"#080808"};var LIGHT={bg:"#f4f4f4",bg2:"#ffffff",bg3:"#eaeaea",border:"rgba(0,0,0,0.1)",border2:"rgba(0,0,0,0.06)",text:"#0a0a0a",text2:"rgba(0,0,0,0.65)",text3:"rgba(0,0,0,0.4)",text4:"rgba(0,0,0,0.2)",navBg:"#ffffff",navBorder:"rgba(0,0,0,0.1)",cardBg:"#ffffff",cardHover:"rgba(0,0,0,0.025)",inputBg:"rgba(0,0,0,0.04)",inputBorder:"rgba(0,0,0,0.15)",accent:"rgb(0,130,190)",accentBg:"rgba(0,130,190,0.08)",accentBorder:"rgba(0,130,190,0.3)",btnBg:"rgba(0,0,0,0.06)",btnBorder:"rgba(0,0,0,0.15)",btnText:"rgba(0,0,0,0.7)",btnPrimaryBg:"#0a0a0a",btnPrimaryText:"#ffffff",scrollbar:"rgba(0,0,0,0.15)",gridGap:"rgba(0,0,0,0.08)",sectionHeader:"rgba(0,0,0,0.04)",success:"rgba(20,140,20,0.9)",warn:"rgba(160,100,0,0.9)",danger:"rgba(180,20,20,0.8)",tableRow:"rgba(0,0,0,0.015)",tableRowHover:"rgba(0,0,0,0.04)",modalBg:"rgba(0,0,0,0.75)",panelBg:"#f8f8f8"};var genId=()=>Math.random().toString(36).slice(2,10);var fmt=n=>n?"$"+Number(n).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):"\u2014";function loadHub(){try{return JSON.parse(localStorage.getItem(HUB_STORAGE)||"{}")}catch{return{}}}function saveHub(data){try{localStorage.setItem(HUB_STORAGE,JSON.stringify(data))}catch{}}async function callClaude(system,userMsg,maxTokens=4e3){var _a;const res=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":getApiKey(),"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:maxTokens,system,messages:[{role:"user",content:userMsg}]})});const data=await res.json();if(data.error)throw new Error(data.error.message);return((_a=data.content)==null?void 0:_a.map(b=>b.text||"").join(""))||""}function extractJSON(text){const m=text.match(/\{[\s\S]*\}/);if(!m)throw new Error("No JSON found in response");return JSON.parse(m[0])}function GlobalStyle({dark}){const t=dark?DARK:LIGHT;const css=`
    ${FONTS}
    :root {
      --bg: ${t.bg}; --bg2: ${t.bg2}; --bg3: ${t.bg3};
      --border: ${t.border}; --border2: ${t.border2};
      --text: ${t.text}; --text2: ${t.text2}; --text3: ${t.text3}; --text4: ${t.text4};
      --card: ${t.cardBg}; --card-hover: ${t.cardHover};
      --input-bg: ${t.inputBg}; --input-border: ${t.inputBorder};
      --accent: ${t.accent}; --accent-bg: ${t.accentBg}; --accent-border: ${t.accentBorder};
      --btn-bg: ${t.btnBg}; --btn-border: ${t.btnBorder}; --btn-text: ${t.btnText};
      --btn-pri: ${t.btnPrimaryBg}; --btn-pri-text: ${t.btnPrimaryText};
      --grid-gap: ${t.gridGap}; --section-hdr: ${t.sectionHeader};
      --success: ${t.success}; --warn: ${t.warn}; --danger: ${t.danger};
      --modal-bg: ${t.modalBg}; --panel: ${t.panelBg};
      --scroll: ${t.scrollbar};
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { min-height: 100%; background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; transition: background .2s, color .2s; }
    ::-webkit-scrollbar { width: 4px; } ::-webkit-scrollbar-thumb { background: var(--scroll); border-radius: 2px; }
    input::placeholder, textarea::placeholder { color: var(--text4); }
    select option { background: var(--bg2); color: var(--text); }
    @keyframes spin { from{transform:rotate(0deg)}to{transform:rotate(360deg)} }
    @keyframes fadeIn { from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)} }
    .fade-in { animation: fadeIn .3s ease forwards; }
    input:not([type=checkbox]):not([type=range]):not([type=file]) { background: transparent; border: none; border-bottom: 1px solid var(--input-border); color: var(--text) !important; font-family: inherit; transition: border-color .2s; }
    input[type=date], input[type=time] { background: var(--input-bg) !important; border: 1px solid var(--input-border) !important; border-bottom: 1px solid var(--input-border) !important; padding: 7px 10px !important; color-scheme: ${dark?"dark":"light"}; }
    input[type=number] { background: var(--input-bg) !important; border: 1px solid var(--input-border) !important; border-bottom: none !important; padding: 7px 8px !important; color: var(--text) !important; }
    textarea { background: var(--input-bg) !important; border: 1px solid var(--input-border) !important; color: var(--text) !important; font-family: inherit; }
    select { background: var(--input-bg) !important; border: 1px solid var(--input-border) !important; color: var(--text) !important; font-family: inherit; }
    table th { color: var(--text3) !important; border-bottom: 1px solid var(--border) !important; font-size: 9px !important; letter-spacing: .12em !important; }
    table td { border-bottom: 1px solid var(--border2) !important; }
  `;return import_react.default.createElement("style",null,css)}function SyncDot(){const[status,setStatus]=(0,import_react.useState)("checking");(0,import_react.useEffect)(()=>{sbTest().then(ok=>setStatus(ok?"ok":"offline"));const iv=setInterval(()=>sbTest().then(ok=>setStatus(ok?"ok":"offline")),3e4);return()=>clearInterval(iv)},[]);const colors={checking:"rgba(180,180,0,0.8)",ok:"rgba(60,180,60,0.9)",offline:"rgba(200,60,60,0.8)"};const labels={checking:"Connecting\u2026",ok:"Synced",offline:"Offline"};return import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:5,fontSize:10,color:colors[status],fontFamily:"'Barlow Condensed',sans-serif",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase"}},import_react.default.createElement("div",{style:{width:6,height:6,borderRadius:"50%",background:colors[status]}}),labels[status])}var BC=props=>import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed', sans-serif",...props.style}},props.children);var Label=({children})=>import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:8}},children);var Input=({style,...props})=>import_react.default.createElement("input",{style:{width:"100%",fontSize:13,outline:"none",...style},...props});var Select=({style,children,...props})=>import_react.default.createElement("select",{style:{width:"100%",padding:"10px 0",background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,appearance:"none",outline:"none",cursor:"pointer",...style},...props},children);var Btn=({primary,style,...props})=>import_react.default.createElement("button",{type:"button",style:{padding:primary?"13px 28px":"10px 20px",background:primary?"var(--btn-pri)":"var(--btn-bg)",border:primary?"none":"1px solid var(--btn-border)",color:primary?"var(--btn-pri-text)":"var(--btn-text)",fontWeight:700,fontSize:11,letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",fontFamily:"'Barlow Condensed',sans-serif",transition:"background .2s, color .2s, border-color .2s",...style},...props});var Spinner=({label})=>import_react.default.createElement("div",{style:{textAlign:"center",padding:"80px 0"}},import_react.default.createElement("div",{style:{fontSize:40,marginBottom:18,display:"inline-block",animation:"spin 1.8s linear infinite"}},"\u2699"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:28,fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase"}},label||"Processing\u2026"),import_react.default.createElement("div",{style:{color:"var(--text3)",fontSize:13,marginTop:8}},"Talking to Claude\u2026"));var ErrorBox=({msg})=>msg?import_react.default.createElement("div",{style:{border:"1px solid var(--border)",padding:"14px 18px",marginBottom:20}},import_react.default.createElement("div",{style:{fontWeight:700,fontSize:13,marginBottom:4}},"\u26A0 Error"),import_react.default.createElement("div",{style:{color:"var(--text2)",fontSize:12}},msg)):null;function LocationAutocomplete({value,onChange,onSelect,placeholder,style,label,showZip=true}){const[query,setQuery]=(0,import_react.useState)(value||"");const[results,setResults]=(0,import_react.useState)([]);const[loading,setLoading]=(0,import_react.useState)(false);const[open,setOpen]=(0,import_react.useState)(false);const[focused,setFocused]=(0,import_react.useState)(false);const debounceRef=(0,import_react.useRef)(null);const wrapRef=(0,import_react.useRef)(null);(0,import_react.useEffect)(()=>{setQuery(value||"")},[value]);(0,import_react.useEffect)(()=>{const handler=e=>{if(wrapRef.current&&!wrapRef.current.contains(e.target))setOpen(false)};document.addEventListener("mousedown",handler);return()=>document.removeEventListener("mousedown",handler)},[]);const search=q=>{if(!q||q.length<3){setResults([]);setOpen(false);return}clearTimeout(debounceRef.current);debounceRef.current=setTimeout(async()=>{setLoading(true);try{const url=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(q)}&format=json&addressdetails=1&limit=7&countrycodes=us`;const res=await fetch(url,{headers:{"Accept-Language":"en","User-Agent":"DreamCraft-Hub/1.0"}});const data=await res.json();const filtered=data.filter(r=>{var _a;return["city","town","village","suburb","county","convention_centre","venue","place"].includes(r.type)||["city","town","village","county","amenity","place"].includes(r.class)||((_a=r.address)==null?void 0:_a.postcode)});setResults(filtered.slice(0,6));setOpen(filtered.length>0)}catch{setResults([])}finally{setLoading(false)}},350)};const pick=r=>{var _a;const addr=r.address||{};const city=addr.city||addr.town||addr.village||addr.county||addr.suburb||"";const state=addr.state_code||addr.state||"";const zip=addr.postcode||"";const country=((_a=addr.country_code)==null?void 0:_a.toUpperCase())||"";const cityState=[city,state].filter(Boolean).join(", ");const display=zip?`${cityState} ${zip}`:cityState;setQuery(display);setOpen(false);setResults([]);onChange&&onChange(display);onSelect&&onSelect({city,cityState,display,zip,state,country,venue:r.display_name,raw:r})};const handleChange=e=>{const v=e.target.value;setQuery(v);onChange&&onChange(v);search(v)};return import_react.default.createElement("div",{ref:wrapRef,style:{position:"relative",...style}},import_react.default.createElement("div",{style:{position:"relative"}},import_react.default.createElement("input",{value:query,onChange:handleChange,onFocus:()=>{setFocused(true);if(results.length)setOpen(true)},onBlur:()=>setFocused(false),placeholder:placeholder||"City, venue, or ZIP\u2026",style:{width:"100%",fontSize:13,outline:"none",background:"transparent",border:"none",borderBottom:`1px solid ${focused?"var(--accent)":"var(--input-border)"}`,color:"var(--text)",padding:"9px 28px 9px 0",transition:"border-color 0.15s"}}),loading?import_react.default.createElement("span",{style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",fontSize:10,color:"var(--text4)",animation:"spin 1s linear infinite",display:"inline-block"}},"\u27F3"):query&&import_react.default.createElement("button",{type:"button",onClick:()=>{setQuery("");onChange&&onChange("");setResults([]);setOpen(false)},style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"var(--text4)",cursor:"pointer",fontSize:12,lineHeight:1,padding:"2px 4px"}},"\u2715")),open&&results.length>0&&import_react.default.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:999,background:"var(--bg2)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",maxHeight:280,overflowY:"auto"}},results.map((r,i)=>{const addr=r.address||{};const city=addr.city||addr.town||addr.village||addr.county||addr.suburb||r.display_name.split(",")[0];const state=addr.state_code||addr.state||"";const zip=addr.postcode||"";const venue=addr.amenity||addr.leisure||addr.building||"";return import_react.default.createElement("div",{key:i,onMouseDown:()=>pick(r),style:{padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid var(--border2)"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="transparent"},import_react.default.createElement("div",{style:{fontSize:13,fontWeight:600,color:"var(--text)"}},city,state?`, ${state}`:"",zip?` ${zip}`:""),venue&&import_react.default.createElement("div",{style:{fontSize:10,color:"var(--accent)",marginTop:2}},venue),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text4)",marginTop:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.display_name))}),import_react.default.createElement("div",{style:{padding:"6px 14px",fontSize:9,color:"var(--text4)",textAlign:"right",borderTop:"1px solid var(--border2)"}},"via OpenStreetMap \xB7 US locations")))}var NAV_ITEMS=[{id:"home",label:"Hub"},{id:"projects",label:"Projects"},{id:"quotes",label:"Quotes"},{id:"estimator",label:"Estimator"},{id:"milestone",label:"Milestones"},{id:"hours",label:"Shop Hours"},{id:"quickquote",label:"Quick Quote"},{id:"inventory",label:"Inventory"},{id:"portal",label:"Client Portal"}];function Nav({active,setActive,dark,toggleTheme,t}){const theme=t||DARK;return import_react.default.createElement("header",{style:{background:theme.navBg,borderBottom:`1px solid ${theme.navBorder}`,position:"sticky",top:0,zIndex:200,transition:"background 0.2s"}},import_react.default.createElement("div",{style:{maxWidth:1100,margin:"0 auto",padding:"0 24px",display:"flex",alignItems:"center",gap:0}},import_react.default.createElement("button",{type:"button",onClick:()=>setActive("home"),style:{background:"none",border:"none",cursor:"pointer",padding:"16px 0",marginRight:32,flexShrink:0}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:18,fontWeight:800,letterSpacing:"0.04em",color:theme.text}},import_react.default.createElement("strong",null,"DREAM"),import_react.default.createElement("span",{style:{fontWeight:300}},"CRAFT"))),import_react.default.createElement("nav",{style:{display:"flex",gap:0,flex:1,overflowX:"auto"}},NAV_ITEMS.filter(n=>n.id!=="home").map(item=>import_react.default.createElement("button",{type:"button",key:item.id,onClick:()=>setActive(item.id),style:{background:"none",border:"none",borderBottom:`2px solid ${active===item.id?theme.text:"transparent"}`,color:active===item.id?theme.text:theme.text3,padding:"16px 14px",cursor:"pointer",flexShrink:0,fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",transition:"color 0.2s, border-color 0.2s"}},item.label))),import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12,marginLeft:12,flexShrink:0}},import_react.default.createElement(SyncDot,null),import_react.default.createElement("button",{type:"button",onClick:toggleTheme,title:dark?"Switch to Light Mode":"Switch to Dark Mode",style:{background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center",gap:7}},import_react.default.createElement("span",{style:{fontSize:12,lineHeight:1,opacity:.7}},dark?"\u2600\uFE0F":"\u{1F319}"),import_react.default.createElement("div",{style:{width:36,height:20,borderRadius:10,background:dark?"rgba(255,255,255,0.12)":"rgba(0,0,0,0.1)",border:`1px solid ${theme.border}`,position:"relative",transition:"background 0.25s",flexShrink:0}},import_react.default.createElement("div",{style:{position:"absolute",top:2,left:dark?2:16,width:14,height:14,borderRadius:"50%",background:dark?"rgba(255,255,255,0.9)":"rgba(0,0,0,0.7)",transition:"left 0.22s cubic-bezier(0.4,0,0.2,1)",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})),import_react.default.createElement("span",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.1em",color:theme.text3,fontFamily:"'Barlow Condensed',sans-serif",textTransform:"uppercase",minWidth:28}},dark?"Dark":"Light")))))}function Home({setActive}){const{t}=useTheme();const theme=t||DARK;const tools=[{id:"projects",icon:"\u25A6",title:"Project Overview",desc:"All approved projects in one view. Track trucking, delivery dates, onsite contacts, and get alerts for missing logistics.",cta:"View Projects",alert:true},{id:"estimator",icon:"\u25C8",title:"Fabrication Estimator",desc:"Upload renders or describe a project to generate three-tier pricing estimates with full logistics breakdowns.",cta:"Open Estimator"},{id:"milestone",icon:"\u25CE",title:"Milestone Creator",desc:"Input your project and launch date. Get a full production schedule with milestones, deadlines, and department assignments.",cta:"Create Schedule"},{id:"hours",icon:"\u25F7",title:"Shop Hours Tracker",desc:"Log project hours by task and see weekly shop utilization vs capacity. Know when you're overbooked before it's a problem.",cta:"Track Hours"},{id:"quotes",icon:"\u25D1",title:"Quote Builder",desc:"Create detailed Quotient-style quotes with sections, line items, photos, union labor calc, and change orders. Export to QuickBooks.",cta:"Open Quote Builder"},{id:"quickquote",icon:"\u25FB",title:"Quick Quote",desc:"Client wants to dispose of a booth, needs storage, or light support? Get a fast shareable estimate in seconds.",cta:"Get Quick Quote"},{id:"inventory",icon:"\u25EB",title:"Warehouse Inventory",desc:"Track rental and shop inventory by location. Upload photos, search items, and add rentals directly into quotes.",cta:"Open Inventory"},{id:"portal",icon:"\u25C9",title:"Client Portal",desc:"Publish milestones, quotes, and renders to a clean client-facing view. Upload art and preview it on a 4-wall render.",cta:"Open Portal"}];return import_react.default.createElement("div",{style:{maxWidth:1100,margin:"0 auto",padding:"64px 32px"}},import_react.default.createElement("div",{style:{marginBottom:64}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.22em",textTransform:"uppercase",color:theme.text3,marginBottom:16}},"DreamCraft Events \xB7 Operations Hub"),import_react.default.createElement("h1",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:72,fontWeight:800,letterSpacing:"0.02em",lineHeight:.9,textTransform:"uppercase"}},"YOUR TOOLS.",import_react.default.createElement("br",null),import_react.default.createElement("span",{style:{fontWeight:300}},"ALL HERE.")),import_react.default.createElement("p",{style:{marginTop:24,fontSize:15,color:theme.text2,maxWidth:480,lineHeight:1.7}},"Estimating, scheduling, capacity planning, and client communication \u2014 built for the DCE team.")),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:1,background:theme.gridGap}},tools.map(tool=>import_react.default.createElement("div",{key:tool.id,onClick:()=>setActive(tool.id),style:{background:"var(--bg2)",padding:"36px 32px",cursor:"pointer",transition:"background 0.15s",border:"1px solid var(--border2)"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="var(--bg2)"},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:28,marginBottom:16,color:"var(--text3)"}},tool.icon),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:20,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"var(--text)",marginBottom:10}},tool.title),import_react.default.createElement("p",{style:{fontSize:13,color:"var(--text2)",lineHeight:1.7,marginBottom:24}},tool.desc),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text2)",display:"flex",alignItems:"center",gap:8}},tool.cta," ",import_react.default.createElement("span",null,"\u2192"))))))}function MilestoneCreator(){const[form,setForm]=(0,import_react.useState)({projectName:"",clientName:"",launchDate:"",boothSize:"",eventVenue:"",notes:""});const[result,setResult]=(0,import_react.useState)(null);const[loading,setLoading]=(0,import_react.useState)(false);const[error,setError]=(0,import_react.useState)(null);const setF=(k,v)=>setForm(f=>({...f,[k]:v}));const generate=async()=>{if(!form.projectName||!form.launchDate){setError("Project name and launch date are required.");return}setLoading(true);setError(null);try{const system=`You are a production scheduler at DreamCraft Events, a world-class fabrication company. You create detailed milestone schedules for trade show exhibits, brand activations, and experiential builds. Work backwards from the launch/event date to create realistic production milestones. Be specific with tasks and realistic with timelines. Typical lead times: large custom builds need 10-14 weeks, medium builds 6-10 weeks, small builds 4-6 weeks.`;const prompt=`Create a production milestone schedule for this project:
Project: ${form.projectName}
Client: ${form.clientName||"TBD"}
Launch/Event Date: ${form.launchDate}
Booth Size: ${form.boothSize||"TBD"}
Venue: ${form.eventVenue||"TBD"}
Notes: ${form.notes||"None"}

Return ONLY a valid JSON object with this structure:
{
  "project_name": "string",
  "client": "string",
  "launch_date": "string",
  "total_weeks": number,
  "phases": [
    {
      "phase": "Phase name",
      "dept": "Department",
      "start_date": "YYYY-MM-DD",
      "due_date": "YYYY-MM-DD",
      "tasks": ["task 1", "task 2"],
      "deliverable": "What gets handed off",
      "critical": true/false
    }
  ],
  "key_dates": [
    { "label": "string", "date": "YYYY-MM-DD", "type": "milestone|deadline|review" }
  ]
}`;const text=await callClaude(system,prompt,3e3);const parsed=extractJSON(text);setResult(parsed);const hub=loadHub();if(!hub.milestones)hub.milestones=[];hub.milestones.unshift({id:genId(),...parsed,createdAt:new Date().toISOString()});saveHub(hub)}catch(e){setError(e.message)}finally{setLoading(false)}};const savedSchedules=(()=>{const h=loadHub();return h.milestones||[]})();const estimates=(()=>{try{return JSON.parse(localStorage.getItem("dce_quotes_v1")||"[]")}catch{return[]}})();if(loading)return import_react.default.createElement(Spinner,{label:"Building Your Schedule"});if(result)return import_react.default.createElement(MilestoneResult,{result,onNew:()=>setResult(null)});return import_react.default.createElement("div",{style:{maxWidth:700,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{marginBottom:36}},import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:10}},"Milestone Creator"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase",letterSpacing:"0.04em"}},"Build Production Schedule"),import_react.default.createElement("p",{style:{color:"var(--text2)",fontSize:13,marginTop:8,lineHeight:1.7}},"Enter your project details and launch date. Claude will work backwards to create a full milestone schedule.")),import_react.default.createElement(ErrorBox,{msg:error}),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Project Name *"),import_react.default.createElement(Input,{value:form.projectName,onChange:e=>setF("projectName",e.target.value),placeholder:"e.g. Nike SEMA 2026"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Client / Brand"),import_react.default.createElement(Input,{value:form.clientName,onChange:e=>setF("clientName",e.target.value),placeholder:"e.g. Nike"}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Launch / Event Date *"),import_react.default.createElement(Input,{type:"date",value:form.launchDate,onChange:e=>setF("launchDate",e.target.value)})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Booth Size"),import_react.default.createElement(Input,{value:form.boothSize,onChange:e=>setF("boothSize",e.target.value),placeholder:"e.g. 20x20, Island"}))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Event Venue / City"),import_react.default.createElement(LocationAutocomplete,{value:form.eventVenue||"",onChange:v=>setF("eventVenue",v),onSelect:({cityState,zip,venue})=>{if(cityState&&!form.eventVenue.includes(","))setF("eventVenue",venue||cityState);if(zip)setF("zip",zip)},placeholder:"e.g. LVCC, Las Vegas NV"})),import_react.default.createElement("div",{style:{marginBottom:32}},import_react.default.createElement(Label,null,"Project Notes"),import_react.default.createElement("textarea",{value:form.notes,onChange:e=>setF("notes",e.target.value),placeholder:"Complexity, re-use from prior builds, special requirements, team size\u2026",style:{width:"100%",background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,outline:"none",resize:"vertical",minHeight:70,lineHeight:1.6,padding:"10px 0"}})),import_react.default.createElement(Btn,{primary:true,onClick:generate,style:{width:"100%"}},"Generate Milestone Schedule"),estimates.length>0&&import_react.default.createElement("div",{style:{marginTop:32,borderTop:"1px solid var(--border2)",paddingTop:24}},import_react.default.createElement(Label,null,"Import from Saved Estimate"),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},estimates.slice(0,5).map(est=>import_react.default.createElement("div",{key:est.id,onClick:()=>{setF("projectName",est.projectName||est.quoteNumber||"");setF("clientName",est.clientName||"");setF("boothSize",est.boothSize||"")},style:{border:"1px solid var(--border2)",padding:"10px 14px",cursor:"pointer",fontSize:13,display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="transparent"},import_react.default.createElement("span",null,est.quoteNumber," \u2014 ",est.projectName||"Untitled"," ",import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:11,marginLeft:8}},est.clientName)),import_react.default.createElement("span",{style:{fontSize:10,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},"Import \u2192"))))),savedSchedules.length>0&&import_react.default.createElement("div",{style:{marginTop:28,borderTop:"1px solid var(--border2)",paddingTop:24}},import_react.default.createElement(Label,null,"Saved Schedules"),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},savedSchedules.map(s=>import_react.default.createElement("div",{key:s.id,onClick:()=>setResult(s),style:{border:"1px solid var(--border2)",padding:"10px 14px",cursor:"pointer",fontSize:13,display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="transparent"},import_react.default.createElement("span",null,s.project_name," ",import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:11,marginLeft:8}},s.client," \xB7 ",s.launch_date)),import_react.default.createElement("span",{style:{fontSize:10,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},"Open \u2192"))))))}function MilestoneResult({result,onNew}){var _a,_b;const typeColor={milestone:"var(--text)",deadline:"rgba(220,60,60,0.9)",review:"rgba(200,140,0,0.9)"};const saveSchedule=()=>{const hub=loadHub();if(!hub.milestones)hub.milestones=[];const exists=hub.milestones.find(m=>m.id===result.id);if(!exists)hub.milestones.unshift({id:result.id||genId(),...result,savedAt:new Date().toISOString()});saveHub(hub);alert("Schedule saved! You can load it from the Saved Schedules list.")};const KEY_MILESTONES=[{key:"fabrication_begins",label:"Fabrication Begins",color:"var(--text)",emoji:"\u{1F528}"},{key:"graphics_due",label:"Graphics Due (\u221230 days)",color:"rgba(255,200,80,0.9)",emoji:"\u{1F3A8}"},{key:"final_approval",label:"Final Approval",color:"rgba(255,160,50,0.9)",emoji:"\u2705"},{key:"client_walkthrough_shop",label:"Client Walkthrough \u2014 Shop",color:"rgba(100,200,255,0.9)",emoji:"\u{1F440}"},{key:"client_walkthrough_site",label:"Client Walkthrough \u2014 Site (\u22121 day)",color:"rgba(255,100,100,0.9)",emoji:"\u{1F4CD}"}];const parseDt=s=>{try{return new Date(s).getTime()}catch{return null}};const launchTs=parseDt(result.launch_date);const allDates=(result.key_dates||[]).map(kd=>parseDt(kd.date)).filter(Boolean);if(launchTs)allDates.push(launchTs);const phases=result.phases||[];phases.forEach(p=>{const d=parseDt(p.start_date);if(d)allDates.push(d)});const minTs=allDates.length?Math.min(...allDates):Date.now()-30*864e5;const maxTs=launchTs||(allDates.length?Math.max(...allDates):Date.now());const span=maxTs-minTs||1;const pct=ts=>Math.max(0,Math.min(100,(ts-minTs)/span*100));const keyMilestoneData=KEY_MILESTONES.map(km=>{let date=null;const kds=result.key_dates||[];const match=kds.find(kd=>kd.label&&kd.label.toLowerCase().includes(km.key.replace(/_/g," ").split(" ")[0]));if(match)date=match.date;if(!date&&launchTs){if(km.key==="graphics_due")date=new Date(launchTs-30*864e5).toISOString().slice(0,10);if(km.key==="client_walkthrough_site")date=new Date(launchTs-1*864e5).toISOString().slice(0,10);if(km.key==="fabrication_begins"){const fabPhase=phases.find(p=>{var _a2;return(_a2=p.phase)==null?void 0:_a2.toLowerCase().includes("fab")});date=fabPhase?fabPhase.start_date:new Date(launchTs-8*7*864e5).toISOString().slice(0,10)}if(km.key==="final_approval")date=new Date(launchTs-7*864e5).toISOString().slice(0,10);if(km.key==="client_walkthrough_shop")date=new Date(launchTs-14*864e5).toISOString().slice(0,10)}return{...km,date,ts:date?parseDt(date):null}}).filter(m=>m.ts);const exportSchedule=()=>{const rows=result.phases.map(p=>`<tr style="border-bottom:1px solid #eee;">
        <td style="padding:10px 12px;font-size:13px;font-weight:600;color:#111;">${p.phase}</td>
        <td style="padding:10px 12px;font-size:12px;color:#555;">${p.dept}</td>
        <td style="padding:10px 12px;font-size:12px;color:#555;">${p.start_date}</td>
        <td style="padding:10px 12px;font-size:12px;color:#555;">${p.due_date}</td>
        <td style="padding:10px 12px;font-size:12px;color:#555;">${p.tasks.join(", ")}</td>
        <td style="padding:10px 12px;font-size:12px;font-weight:600;color:#111;">${p.deliverable}</td>
        <td style="padding:10px 12px;text-align:center;">${p.critical?"\u26A0 YES":"\u2014"}</td>
      </tr>`).join("");const html=`<!DOCTYPE html><html><head><meta charset="utf-8"/><title>DCE Schedule \u2014 ${result.project_name}</title>
    <style>@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;800&family=Inter:wght@400;600&display=swap');
    *{box-sizing:border-box;margin:0;padding:0;}body{font-family:'Inter',sans-serif;background:#fff;color:#111;padding:48px 52px;}
    h1{font-family:'Barlow Condensed',sans-serif;font-size:36px;font-weight:800;text-transform:uppercase;letter-spacing:0.04em;margin-bottom:4px;}
    .meta{font-size:12px;color:#666;margin-bottom:32px;}
    table{width:100%;border-collapse:collapse;}
    thead tr{background:#111;}thead th{padding:10px 12px;font-size:10px;font-weight:700;letter-spacing:0.12em;text-transform:uppercase;color:#fff;text-align:left;}
    .key-dates{margin-top:32px;}h2{font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:700;text-transform:uppercase;margin-bottom:16px;}
    .kd{display:flex;gap:16px;align-items:center;padding:10px 0;border-bottom:1px solid #eee;}
    .kd-date{font-size:13px;font-weight:700;min-width:120px;}.kd-label{font-size:13px;color:#444;}
    @media print{body{print-color-adjust:exact;-webkit-print-color-adjust:exact;}}</style></head>
    <body>
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
      <div><div style="font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:800;letter-spacing:0.04em;margin-bottom:16px;"><strong>DREAM</strong><span style="font-weight:300;">CRAFT</span></div>
      <h1>${result.project_name}</h1></div>
      <div style="text-align:right;font-size:12px;color:#666;"><div>Client: ${result.client}</div><div>Launch: ${result.launch_date}</div><div>${result.total_weeks} weeks total</div></div>
    </div>
    <table><thead><tr><th>Phase</th><th>Department</th><th>Start</th><th>Due</th><th>Tasks</th><th>Deliverable</th><th>Critical</th></tr></thead>
    <tbody>${rows}</tbody></table>
    <div class="key-dates"><h2>Key Dates</h2>${(result.key_dates||[]).map(kd=>`<div class="kd"><span class="kd-date">${kd.date}</span><span class="kd-label">${kd.label}</span></div>`).join("")}</div>
    </body></html>`;const blob=new Blob([html],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`DCE-Schedule-${result.project_name.replace(/\s+/g,"-")}.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)};return import_react.default.createElement("div",{style:{maxWidth:960,margin:"0 auto",padding:"48px 32px"},className:"fade-in"},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:36}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"Production Schedule"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:36,fontWeight:800,textTransform:"uppercase",letterSpacing:"0.04em"}},result.project_name),import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text2)",marginTop:4}},result.client," \xB7 Launch: ",result.launch_date," \xB7 ",result.total_weeks," weeks")),import_react.default.createElement("div",{style:{display:"flex",gap:10}},import_react.default.createElement(Btn,{onClick:onNew},"\u2190 New Schedule"),import_react.default.createElement(Btn,{onClick:saveSchedule},"Save"),import_react.default.createElement(Btn,{primary:true,onClick:exportSchedule},"Export"))),import_react.default.createElement("div",{style:{marginBottom:48,paddingBottom:40}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:20}},"Timeline"),import_react.default.createElement("div",{style:{position:"relative",padding:"0 0 60px 0"}},import_react.default.createElement("div",{style:{position:"absolute",top:8,left:0,right:0,height:2,background:"var(--btn-bg)"}}),import_react.default.createElement("div",{style:{position:"absolute",top:0,right:0,textAlign:"center",transform:"translateX(50%)"}},import_react.default.createElement("div",{style:{width:16,height:16,background:"var(--accent)",borderRadius:"50%",margin:"0 auto"}}),import_react.default.createElement("div",{style:{position:"absolute",top:22,left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",fontSize:10,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--text)"}},"LAUNCH"),import_react.default.createElement("div",{style:{position:"absolute",top:34,left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",fontSize:10,color:"var(--text3)"}},result.launch_date)),import_react.default.createElement("div",{style:{position:"absolute",top:0,left:0,textAlign:"center",transform:"translateX(-50%)"}},import_react.default.createElement("div",{style:{width:10,height:10,marginTop:3,background:"var(--text3)",borderRadius:"50%",margin:"3px auto 0"}})),keyMilestoneData.map((km,i)=>{const pos=pct(km.ts);const above=i%2===0;return import_react.default.createElement("div",{key:km.key,style:{position:"absolute",left:pos+"%",top:0,transform:"translateX(-50%)"}},import_react.default.createElement("div",{style:{width:12,height:12,borderRadius:"50%",background:km.color,border:"2px solid var(--bg)",boxShadow:`0 0 0 2px ${km.color}`,margin:"1px auto",position:"relative",zIndex:2}}),import_react.default.createElement("div",{style:{position:"absolute",...above?{bottom:18}:{top:20},left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",textAlign:"center",pointerEvents:"none"}},import_react.default.createElement("div",{style:{fontSize:10,fontWeight:700,color:km.color,letterSpacing:"0.04em",marginBottom:2}},km.label),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)"}},km.date)))}))),((_a=result.key_dates)==null?void 0:_a.length)>0&&import_react.default.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:32}},result.key_dates.map((kd,i)=>import_react.default.createElement("div",{key:i,style:{border:`1px solid ${typeColor[kd.type]||"var(--border)"}`,background:"var(--bg2)",padding:"6px 12px",fontSize:11}},import_react.default.createElement("span",{style:{color:typeColor[kd.type]||"var(--text)",fontWeight:700,marginRight:8}},kd.date),import_react.default.createElement("span",{style:{color:"var(--text2)"}},kd.label)))),import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border)"}},(_b=result.phases)==null?void 0:_b.map((phase,i)=>import_react.default.createElement("div",{key:i,style:{borderBottom:"1px solid var(--border2)",padding:"18px 0",display:"grid",gridTemplateColumns:"1fr 130px 130px 160px",gap:16,alignItems:"start"}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:6}},phase.critical&&import_react.default.createElement("span",{style:{background:"rgba(255,80,80,0.15)",border:"1px solid rgba(255,80,80,0.4)",color:"rgba(255,120,120,1)",fontSize:9,fontWeight:700,letterSpacing:"0.1em",padding:"2px 6px"}},"CRITICAL"),import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:16,fontWeight:700,letterSpacing:"0.04em"}},phase.phase)),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",marginBottom:6,fontWeight:600,letterSpacing:"0.1em",textTransform:"uppercase"}},phase.dept),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text2)",lineHeight:1.7}},phase.tasks.join(" \xB7 "))),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:4}},"Start"),import_react.default.createElement("div",{style:{fontSize:13,fontWeight:600}},phase.start_date)),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:4}},"Due"),import_react.default.createElement("div",{style:{fontSize:13,fontWeight:600,color:phase.critical?"rgba(255,120,120,1)":"#fff"}},phase.due_date)),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:4}},"Deliverable"),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text2)"}},phase.deliverable))))))}var SH_STORAGE="dce_shop_hours_v2";var DEPT_COLORS={"Fabrication":{bg:"rgba(59,130,246,0.2)",border:"rgba(59,130,246,0.6)",text:"rgba(147,197,253,0.9)"},"Graphics":{bg:"rgba(168,85,247,0.2)",border:"rgba(168,85,247,0.6)",text:"rgba(216,180,254,0.9)"},"Installation":{bg:"rgba(34,197,94,0.2)",border:"rgba(34,197,94,0.6)",text:"rgba(134,239,172,0.9)"},"Paint":{bg:"rgba(249,115,22,0.2)",border:"rgba(249,115,22,0.6)",text:"rgba(253,186,116,0.9)"},"AV/Tech":{bg:"rgba(20,184,166,0.2)",border:"rgba(20,184,166,0.6)",text:"rgba(94,234,212,0.9)"},"Welding":{bg:"rgba(234,179,8,0.2)",border:"rgba(234,179,8,0.6)",text:"rgba(253,224,71,0.9)"},"Management":{bg:"var(--btn-bg)",border:"var(--border)",text:"var(--text2)"},"Shipping":{bg:"rgba(239,68,68,0.2)",border:"rgba(239,68,68,0.6)",text:"rgba(252,165,165,0.9)"}};var DEPTS=Object.keys(DEPT_COLORS);function loadSH(){try{const raw=localStorage.getItem(SH_STORAGE);if(raw)return JSON.parse(raw)}catch{}return{people:[{id:genId(),name:"Person 1",dept:"Fabrication",dailyCap:8},{id:genId(),name:"Person 2",dept:"Fabrication",dailyCap:8},{id:genId(),name:"Person 3",dept:"Graphics",dailyCap:8}],assignments:{},weekStart:getMonday(new Date).toISOString().slice(0,10)}}function saveSH(d){try{localStorage.setItem(SH_STORAGE,JSON.stringify(d))}catch{}sbSaveShopHours(d)}function getMonday(d){const dt=new Date(d);const day=dt.getDay();const diff=dt.getDate()-day+(day===0?-6:1);dt.setDate(diff);dt.setHours(0,0,0,0);return dt}function addDays(dateStr,n){const d=new Date(dateStr+"T12:00:00");d.setDate(d.getDate()+n);return d.toISOString().slice(0,10)}function fmtWeek(dateStr){const d=new Date(dateStr+"T12:00:00");return`Week of ${d.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`}function isWeekday(dateStr){const d=new Date(dateStr+"T12:00:00");return d.getDay()!==0&&d.getDay()!==6}function buildDays(weekStart,numWeeks){const days=[];for(let w=0;w<numWeeks;w++){for(let d=0;d<7;d++){const date=addDays(weekStart,w*7+d);if(isWeekday(date))days.push(date)}}return days}function cellColor(assigned,cap){if(!assigned||assigned===0)return{bg:"transparent",booked:0,avail:cap,color:"var(--text4)",status:"empty"};const pct=assigned/cap;const avail=Math.max(0,cap-assigned);if(pct<.5)return{bg:"rgba(100,220,100,0.15)",booked:assigned,avail,color:"rgba(80,190,80,0.9)",status:"low"};if(pct<1)return{bg:"rgba(250,200,50,0.18)",booked:assigned,avail,color:"rgba(200,150,0,0.9)",status:"partial"};if(pct===1)return{bg:"rgba(59,130,246,0.22)",booked:assigned,avail:0,color:"rgba(100,160,255,0.9)",status:"full"};return{bg:"rgba(239,68,68,0.22)",booked:assigned,avail:0,color:"rgba(220,80,80,0.9)",status:"over"}}function ShopHours(){const{t}=useTheme();const theme=t||DARK;const[data,setData]=(0,import_react.useState)(loadSH);const[history,setHistory]=(0,import_react.useState)([]);const[numWeeks,setNumWeeks]=(0,import_react.useState)(4);const[assigning,setAssigning]=(0,import_react.useState)(null);const[editPerson,setEditPerson]=(0,import_react.useState)(null);const[showAddPerson,setShowAddPerson]=(0,import_react.useState)(false);const[newPerson,setNewPerson]=(0,import_react.useState)({name:"",dept:"Fabrication",dailyCap:8});const[hoveredCell,setHoveredCell]=(0,import_react.useState)(null);const[viewMode,setViewMode]=(0,import_react.useState)("grid");(0,import_react.useEffect)(()=>{sbLoadShopHours().then(d=>{if(d&&d.people){setData(d);try{localStorage.setItem(SH_STORAGE,JSON.stringify(d))}catch{}}})},[]);const upd=d=>{setHistory(h=>[...h.slice(-19),data]);setData(d);saveSH(d)};const undo=()=>{if(!history.length)return;const prev=history[history.length-1];setHistory(h=>h.slice(0,-1));setData(prev);saveSH(prev)};const approvedQuotes=(()=>{try{const qs=JSON.parse(localStorage.getItem("dce_quotes_v1")||"[]");return qs.filter(q=>q.status==="approved")}catch{return[]}})();const sectionToDept={"Fabrication":"Fabrication","Graphics":"Graphics","Installation":"Installation","Dismantle":"Installation","Shipping":"Shipping","AV/Tech":"AV/Tech","Storage":"Management","Rental":"Management","Misc":"Fabrication","Paint":"Paint","Welding":"Welding"};const LABOR_DEPTS=["Fabrication","Graphics","AV/Tech","Misc","Paint","Welding"];const importQueue=approvedQuotes.flatMap(q=>{const allItems=(q.sections||[]).flatMap(sec=>(sec.lineItems||[]).map(it=>({...it,secType:sec.type})));const quoteTotal=allItems.reduce((s,it)=>s+Number(it.unitPrice||0)*Number(it.qty||1),0);if(quoteTotal<=0)return[];const totalLaborHrs=Math.round(quoteTotal*.6/120);const deptValues={};(q.sections||[]).forEach(sec=>{const dept=sectionToDept[sec.type]||sec.type||"Fabrication";const secVal=(sec.lineItems||[]).reduce((s,it)=>s+Number(it.unitPrice||0)*Number(it.qty||1),0);if(secVal>0)deptValues[dept]=(deptValues[dept]||0)+secVal});const shopDepts=Object.entries(deptValues).filter(([d])=>!["Management","Shipping"].includes(d));const shopTotal=shopDepts.reduce((s,[,v])=>s+v,0);if(shopTotal===0){return[{id:q.id+"_fab",quoteId:q.id,quoteNumber:q.quoteNumber,projectName:q.projectName||q.title,taskName:"Shop Production",dept:"Fabrication",estimatedHours:Math.max(1,totalLaborHrs),value:quoteTotal,quoteTotal,totalLaborHrs}]}return shopDepts.map(([dept,deptVal])=>{const proportion=deptVal/shopTotal;const hrs=Math.max(1,Math.round(totalLaborHrs*proportion));return{id:q.id+"_"+dept,quoteId:q.id,quoteNumber:q.quoteNumber,projectName:q.projectName||q.title,taskName:dept+" \u2014 "+(q.projectName||q.title),dept,estimatedHours:hrs,value:deptVal,quoteTotal,totalLaborHrs}})});const assignedHoursForTask=taskId=>{return Object.values(data.assignments||{}).filter(a=>a.taskId===taskId).reduce((s,a)=>s+a.hours,0)};const days=buildDays(data.weekStart||getMonday(new Date).toISOString().slice(0,10),numWeeks);const weeks=[];let wk=[];days.forEach((d,i)=>{wk.push(d);const next=days[i+1];if(!next||new Date(next+"T12:00:00").getDay()===1){weeks.push([...wk]);wk=[]}});const prevWeek=()=>upd({...data,weekStart:addDays(data.weekStart,-7)});const nextWeek=()=>upd({...data,weekStart:addDays(data.weekStart,7)});const assignCell=(personId,date)=>{var _a;if(!assigning)return;const key=`${personId}_${date}`;const existing=(_a=data.assignments)==null?void 0:_a[key];const existingHours=(existing==null?void 0:existing.hours)||0;const person=data.people.find(p=>p.id===personId);const cap=(person==null?void 0:person.dailyCap)||8;const newHours=Math.min(cap,existingHours+assigning.hours);const assignments={...data.assignments||{},[key]:{hours:newHours,taskId:assigning.id,taskName:assigning.taskName,projectId:assigning.quoteId,projectName:assigning.projectName,dept:assigning.dept}};upd({...data,assignments})};const clearCell=(personId,date)=>{const key=`${personId}_${date}`;const assignments={...data.assignments||{}};delete assignments[key];upd({...data,assignments})};const setCellHours=(personId,date,hours)=>{var _a;const key=`${personId}_${date}`;if(!hours||hours<=0){clearCell(personId,date);return}const existing=((_a=data.assignments)==null?void 0:_a[key])||{};upd({...data,assignments:{...data.assignments||{},[key]:{...existing,hours:Number(hours)}}})};const weekTotals=weeks.map(wDays=>{const totalAssigned=(data.people||[]).reduce((sum,p)=>{return sum+wDays.reduce((s,d)=>{var _a;return s+(((_a=(data.assignments||{})[`${p.id}_${d}`])==null?void 0:_a.hours)||0)},0)},0);const totalCap=(data.people||[]).reduce((s,p)=>s+(p.dailyCap||8)*wDays.length,0);return{totalAssigned,totalCap}});const COL_W=110,NAME_W=200,DEPT_W=130;return import_react.default.createElement("div",{style:{maxWidth:"100%",padding:"24px 32px",overflowX:"auto",background:theme.bg,minHeight:"100vh",color:theme.text}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24,minWidth:800}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"Shop"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Capacity Planner")),import_react.default.createElement("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"}},import_react.default.createElement("div",{style:{display:"flex",gap:0,border:"1px solid var(--border)"}},[2,4,6,8].map(n=>import_react.default.createElement("button",{type:"button",key:n,onClick:()=>setNumWeeks(n),style:{padding:"7px 14px",background:numWeeks===n?"var(--btn-bg)":"transparent",border:"none",color:numWeeks===n?"var(--text)":"var(--text3)",fontSize:11,fontWeight:700,cursor:"pointer"}},n,"W"))),import_react.default.createElement("div",{style:{display:"flex",gap:4}},import_react.default.createElement(Btn,{onClick:prevWeek},"\u2190"),import_react.default.createElement(Btn,{onClick:()=>upd({...data,weekStart:getMonday(new Date).toISOString().slice(0,10)})},"Today"),import_react.default.createElement(Btn,{onClick:nextWeek},"\u2192")),import_react.default.createElement(Btn,{onClick:undo,style:{opacity:history.length?1:.3},title:"Undo last change"},"\u21A9 Undo"),import_react.default.createElement(Btn,{primary:true,onClick:()=>setShowAddPerson(true)},"+ Add Person"))),assigning&&import_react.default.createElement("div",{style:{background:"rgba(0,174,239,0.12)",border:"1px solid rgba(0,174,239,0.4)",padding:"10px 16px",marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement("span",{style:{fontSize:13}},import_react.default.createElement("b",{style:{color:"rgba(0,174,239,0.9)"}},"Assigning:")," ",assigning.taskName," \xB7 ",assigning.projectName," \xB7 ",import_react.default.createElement("b",null,assigning.hours,"h"),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",marginLeft:10}},"Click a person's day cell to assign")),import_react.default.createElement("button",{type:"button",onClick:()=>setAssigning(null),style:{background:"none",border:"none",color:"var(--text3)",cursor:"pointer",fontSize:16}},"\u2715 Cancel")),import_react.default.createElement("div",{style:{display:"flex",gap:0,alignItems:"flex-start"}},import_react.default.createElement("div",{style:{flex:1,overflowX:"auto"}},import_react.default.createElement("table",{style:{borderCollapse:"collapse",fontSize:11,minWidth:NAME_W+DEPT_W+weeks.length*5*COL_W}},import_react.default.createElement("thead",null,import_react.default.createElement("tr",null,import_react.default.createElement("th",{style:{width:NAME_W,minWidth:NAME_W,padding:"6px 10px",textAlign:"left",color:"var(--text3)",fontWeight:600,fontSize:9,letterSpacing:"0.1em",borderBottom:"1px solid var(--border2)"}},"NAME"),import_react.default.createElement("th",{style:{width:DEPT_W,minWidth:DEPT_W,padding:"6px 8px",textAlign:"left",color:"var(--text3)",fontWeight:600,fontSize:9,borderBottom:"1px solid var(--border2)"}},"DEPT"),import_react.default.createElement("th",{style:{width:48,padding:"6px 4px",textAlign:"center",color:"var(--text3)",fontSize:9,borderBottom:"1px solid var(--border2)"}},"CAP"),weeks.map((wDays,wi)=>import_react.default.createElement("th",{key:wi,colSpan:wDays.length,style:{padding:"6px 8px",textAlign:"center",borderBottom:"1px solid var(--border2)",borderLeft:"1px solid var(--border2)",color:"var(--text2)",fontWeight:700,fontSize:9,letterSpacing:"0.08em",textTransform:"uppercase",whiteSpace:"nowrap"}},fmtWeek(wDays[0]),import_react.default.createElement("span",{style:{marginLeft:8,fontWeight:400,color:weekTotals[wi].totalAssigned>weekTotals[wi].totalCap?"var(--danger)":"var(--text4)"}},weekTotals[wi].totalAssigned,"/",weekTotals[wi].totalCap,"h")))),import_react.default.createElement("tr",null,import_react.default.createElement("th",{colSpan:3,style:{borderBottom:"1px solid var(--border2)"}}),weeks.map((wDays,wi)=>wDays.map((d,di)=>import_react.default.createElement("th",{key:d,style:{width:COL_W,padding:"4px 2px",textAlign:"center",borderBottom:"1px solid var(--border2)",borderLeft:di===0?"1px solid var(--border2)":"none",color:"var(--text3)",fontWeight:400,fontSize:9,whiteSpace:"nowrap"}},new Date(d+"T12:00:00").toLocaleDateString("en-US",{weekday:"short"}),import_react.default.createElement("br",null),import_react.default.createElement("span",{style:{color:"var(--text4)"}},new Date(d+"T12:00:00").toLocaleDateString("en-US",{month:"numeric",day:"numeric"}))))))),import_react.default.createElement("tbody",null,data.people.map((person,pi)=>{const deptStyle=DEPT_COLORS[person.dept]||DEPT_COLORS["Management"];const weeklyTotals=weeks.map(wDays=>wDays.reduce((s,d)=>{var _a,_b;return s+(((_b=(_a=data.assignments)==null?void 0:_a[`${person.id}_${d}`])==null?void 0:_b.hours)||0)},0));return import_react.default.createElement("tr",{key:person.id,style:{borderBottom:"1px solid var(--border2)",height:90}},import_react.default.createElement("td",{style:{padding:"8px 10px",verticalAlign:"middle"}},(editPerson==null?void 0:editPerson.id)===person.id?import_react.default.createElement("div",{style:{display:"flex",gap:6,alignItems:"center"}},import_react.default.createElement("input",{value:editPerson.name,onChange:e=>setEditPerson({...editPerson,name:e.target.value}),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:12,padding:"3px 6px",width:90,outline:"none"},onKeyDown:e=>{if(e.key==="Enter"){const p=data.people.map(x=>x.id===editPerson.id?editPerson:x);upd({...data,people:p});setEditPerson(null)}}}),import_react.default.createElement("button",{type:"button",onClick:()=>{const p=data.people.map(x=>x.id===editPerson.id?editPerson:x);upd({...data,people:p});setEditPerson(null)},style:{background:"none",border:"none",color:"rgba(100,220,100,0.7)",cursor:"pointer",fontSize:12}},"\u2713")):import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:6}},import_react.default.createElement("div",{style:{width:26,height:26,borderRadius:"50%",background:deptStyle.bg,border:`1px solid ${deptStyle.border}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:700,color:deptStyle.text,flexShrink:0}},person.name.charAt(0).toUpperCase()),import_react.default.createElement("span",{style:{fontWeight:600,fontSize:12,cursor:"pointer",color:"var(--text2)"},onClick:e=>{e.stopPropagation();setEditPerson({...person})}},person.name),import_react.default.createElement("span",{style:{fontSize:9,color:"var(--text4)",cursor:"pointer"},onClick:e=>{e.stopPropagation();setEditPerson({...person})}},"\u270E"),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();if(window.confirm(`Remove ${person.name}?`))upd({...data,people:data.people.filter(p=>p.id!==person.id)})},style:{background:"none",border:"1px solid rgba(255,80,80,0.2)",color:"rgba(255,80,80,0.5)",cursor:"pointer",fontSize:9,padding:"1px 5px",marginLeft:2}},"\u2715"))),import_react.default.createElement("td",{style:{padding:"8px 8px",verticalAlign:"middle"}},(editPerson==null?void 0:editPerson.id)===person.id?import_react.default.createElement("select",{value:editPerson.dept,onChange:e=>setEditPerson({...editPerson,dept:e.target.value}),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:11,padding:"3px 6px",outline:"none"}},DEPTS.map(d=>import_react.default.createElement("option",{key:d,value:d,style:{background:"var(--bg3)"}},d))):import_react.default.createElement("span",{style:{fontSize:10,padding:"2px 8px",background:deptStyle.bg,border:`1px solid ${deptStyle.border}`,color:deptStyle.text,fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",whiteSpace:"nowrap"}},person.dept)),import_react.default.createElement("td",{style:{padding:"8px 4px",verticalAlign:"middle",textAlign:"center"}},(editPerson==null?void 0:editPerson.id)===person.id?import_react.default.createElement("input",{type:"number",value:editPerson.dailyCap,onChange:e=>setEditPerson({...editPerson,dailyCap:Number(e.target.value)}),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:11,padding:"3px 4px",width:36,textAlign:"center",outline:"none"}}):import_react.default.createElement("span",{style:{fontSize:10,color:"var(--text3)"}},person.dailyCap,"h")),weeks.map((wDays,wi)=>wDays.map((d,di)=>{var _a;const key=`${person.id}_${d}`;const cell=(_a=data.assignments)==null?void 0:_a[key];const hours=(cell==null?void 0:cell.hours)||0;const{bg,avail,color}=cellColor(hours,person.dailyCap||8);const dStyle=cell?DEPT_COLORS[cell.dept]||DEPT_COLORS["Management"]:null;const isHovered=hoveredCell===key;return import_react.default.createElement("td",{key:d,style:{width:COL_W,maxWidth:COL_W,padding:"2px",verticalAlign:"middle",borderLeft:di===0?"1px solid var(--border2)":"none",cursor:assigning?"cell":"default"},onClick:()=>assigning?assignCell(person.id,d):null,onMouseEnter:()=>setHoveredCell(key),onMouseLeave:()=>setHoveredCell(null)},import_react.default.createElement("div",{style:{minHeight:72,padding:"8px 8px 5px",background:isHovered&&assigning?"rgba(0,174,239,0.15)":dStyle?dStyle.bg:bg,border:`1px solid ${isHovered&&assigning?"rgba(0,174,239,0.6)":dStyle?dStyle.border:"var(--border2)"}`,borderRadius:2,transition:"background 0.1s",position:"relative",display:"flex",flexDirection:"column",gap:4}},hours>0?import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:3}},import_react.default.createElement("span",{style:{fontSize:9,fontWeight:600,color:dStyle?dStyle.text:color,opacity:.75,textTransform:"uppercase",letterSpacing:"0.06em"}},"Booked")),import_react.default.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:2}},import_react.default.createElement("span",{style:{fontSize:18,fontWeight:800,color:dStyle?dStyle.text:color,lineHeight:1}},hours),import_react.default.createElement("span",{style:{fontSize:10,color:dStyle?dStyle.text:color,opacity:.75}},"h")),import_react.default.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:2,marginTop:1}},import_react.default.createElement("span",{style:{fontSize:9,fontWeight:600,color:"var(--text3)",opacity:.8,textTransform:"uppercase",letterSpacing:"0.06em"}},"Avail"),import_react.default.createElement("span",{style:{fontSize:13,fontWeight:700,color:avail<=0?"var(--danger)":avail<=(person.dailyCap||8)*.3?"var(--warn)":"var(--success)",marginLeft:3}},avail>0?`${avail}h`:"Full")),(cell==null?void 0:cell.projectName)&&import_react.default.createElement("div",{style:{fontSize:8,color:"var(--text4)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderTop:"1px solid rgba(128,128,128,0.15)",paddingTop:2,marginTop:"auto"}},cell.projectName),import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:3,background:"rgba(128,128,128,0.15)",borderRadius:"0 0 2px 2px"}},import_react.default.createElement("div",{style:{height:"100%",width:`${Math.min(100,Math.round(hours/(person.dailyCap||8)*100))}%`,background:dStyle?dStyle.border:color,borderRadius:"0 0 2px 2px",transition:"width 0.2s"}})),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();clearCell(person.id,d)},style:{position:"absolute",top:3,right:3,background:"none",border:"none",color:"var(--text4)",cursor:"pointer",fontSize:10,lineHeight:1,padding:"1px 3px",display:isHovered?"block":"none",zIndex:2}},"\u2715")):import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:2,height:"100%",justifyContent:"center",alignItems:"center"}},import_react.default.createElement("span",{style:{fontSize:9,color:"var(--text4)",textTransform:"uppercase",letterSpacing:"0.06em"}},"Avail"),import_react.default.createElement("span",{style:{fontSize:16,fontWeight:700,color:"var(--text3)"}},person.dailyCap||8,"h")),!assigning&&isHovered&&import_react.default.createElement("input",{type:"number",min:0,max:24,defaultValue:hours||"",placeholder:String(person.dailyCap||8),autoFocus:true,onClick:e=>e.stopPropagation(),onBlur:e=>setCellHours(person.id,d,e.target.value),onKeyDown:e=>{if(e.key==="Enter")setCellHours(person.id,d,e.target.value)},style:{position:"absolute",inset:0,width:"100%",height:"100%",background:"var(--bg2)",border:"2px solid var(--accent)",color:"var(--text)",fontSize:18,fontWeight:700,textAlign:"center",outline:"none",zIndex:5,borderRadius:2}})))})))}),import_react.default.createElement("tr",{style:{borderTop:"2px solid var(--border)"}},import_react.default.createElement("td",{colSpan:3,style:{padding:"8px 10px",fontSize:11,fontWeight:700,color:"var(--text2)",textTransform:"uppercase",letterSpacing:"0.08em"}},"TOTAL"),weeks.map((wDays,wi)=>wDays.map((d,di)=>{const dayTotal=data.people.reduce((s,p)=>{var _a,_b;return s+(((_b=(_a=data.assignments)==null?void 0:_a[`${p.id}_${d}`])==null?void 0:_b.hours)||0)},0);const dayCap=data.people.reduce((s,p)=>s+(p.dailyCap||8),0);const pct=dayCap>0?dayTotal/dayCap:0;return import_react.default.createElement("td",{key:d,style:{padding:"2px",borderLeft:di===0?"1px solid var(--border2)":"none",textAlign:"center"}},import_react.default.createElement("div",{style:{minHeight:52,padding:"4px 3px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,background:dayTotal>0?"var(--section-hdr)":"transparent",borderRadius:2}},dayTotal>0&&import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("span",{style:{fontSize:12,fontWeight:800,color:pct>1?"var(--danger)":pct>.8?"var(--warn)":"var(--success)"}},dayTotal,"h"),import_react.default.createElement("span",{style:{fontSize:9,color:"var(--text4)"}},Math.max(0,dayCap-dayTotal),"h free"))))})))))),import_react.default.createElement("div",{style:{width:260,flexShrink:0,marginLeft:20,position:"sticky",top:80}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)"}},"Ready to Assign"),import_react.default.createElement("span",{style:{fontSize:9,color:"var(--text4)"}},"Click to auto-assign")),importQueue.length===0&&import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text4)",padding:"20px 0",textAlign:"center",border:"1px dashed var(--border2)",borderRadius:2}},"No approved quotes.",import_react.default.createElement("br",null),"Approve a quote to see tasks here."),importQueue.map(item=>{const alreadyHours=assignedHoursForTask(item.id);const remaining=Math.max(0,item.estimatedHours-alreadyHours);const done=remaining===0;const dStyle=DEPT_COLORS[item.dept]||DEPT_COLORS["Management"];const isActive=(assigning==null?void 0:assigning.id)===item.id;return import_react.default.createElement("div",{key:item.id,style:{padding:"10px 12px",marginBottom:6,border:`1px solid ${isActive?"rgba(0,174,239,0.6)":done?"rgba(60,180,60,0.4)":"var(--border2)"}`,background:isActive?"var(--accent-bg)":done?"rgba(60,180,60,0.06)":"var(--card)",cursor:done?"default":"pointer",opacity:done?.5:1},onClick:()=>{var _a;if(done)return;const matchPeople=data.people.filter(p=>p.dept===item.dept);const candidates=matchPeople;if(!candidates.length){alert(`No "${item.dept}" team members in the planner. Add someone with that department first.`);return}let assigned=0;const newAssignments={...data.assignments||{}};for(const day of days){if(assigned>=item.estimatedHours)break;const sorted=[...candidates].sort((a,b)=>{var _a2,_b;const ah=((_a2=newAssignments[`${a.id}_${day}`])==null?void 0:_a2.hours)||0;const bh=((_b=newAssignments[`${b.id}_${day}`])==null?void 0:_b.hours)||0;return ah-bh});for(const person of sorted){if(assigned>=item.estimatedHours)break;const key=`${person.id}_${day}`;const cur=((_a=newAssignments[key])==null?void 0:_a.hours)||0;const cap=person.dailyCap||8;const avail=cap-cur;if(avail<=0)continue;const toAdd=Math.min(avail,item.estimatedHours-assigned);newAssignments[key]={hours:cur+toAdd,taskId:item.id,taskName:item.taskName,projectId:item.quoteId,projectName:item.projectName,dept:item.dept};assigned+=toAdd}}upd({...data,assignments:newAssignments})}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6}},import_react.default.createElement("span",{style:{fontSize:9,padding:"2px 7px",background:dStyle.bg,border:`1px solid ${dStyle.border}`,color:dStyle.text,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.08em"}},item.dept),done?import_react.default.createElement("span",{style:{fontSize:9,color:"var(--success)",fontWeight:700}},"\u2713 DONE"):import_react.default.createElement("span",{style:{fontSize:13,fontWeight:800,color:"var(--text)"}},remaining,"h")),import_react.default.createElement("div",{style:{fontSize:11,fontWeight:600,color:"var(--text)",lineHeight:1.3,marginBottom:4}},item.projectName),item.quoteTotal>0&&import_react.default.createElement("div",{style:{fontSize:9,color:"var(--text4)",lineHeight:1.7,borderTop:"1px solid var(--border2)",paddingTop:5,marginTop:4}},import_react.default.createElement("span",{style:{color:"var(--text3)"}},"$","{","Math.round(item.quoteTotal).toLocaleString()","}")," \xD7 0.6 = ",import_react.default.createElement("span",{style:{color:"var(--text3)"}},"$","{","Math.round(item.quoteTotal*0.6).toLocaleString()","}")," \xF7 120 = ",import_react.default.createElement("span",{style:{color:"var(--text2)",fontWeight:700}},item.totalLaborHrs,"h total")," \u2192 ",import_react.default.createElement("span",{style:{color:dStyle.text,fontWeight:700}},item.estimatedHours,"h ",item.dept)),alreadyHours>0&&!done&&import_react.default.createElement("div",{style:{marginTop:5}},import_react.default.createElement("div",{style:{height:2,background:"var(--border)",borderRadius:1}},import_react.default.createElement("div",{style:{height:"100%",width:`${"{"}Math.min(100,(alreadyHours/item.estimatedHours)*100){"}"}%`,background:"rgba(0,174,239,0.7)",borderRadius:1}})),import_react.default.createElement("div",{style:{fontSize:9,color:"var(--text4)",marginTop:2}},alreadyHours,"/",item.estimatedHours,"h assigned")))}),import_react.default.createElement("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border2)"}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text4)",marginBottom:8}},"Or enter hours manually"),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",lineHeight:1.6}},"Hover over any cell and type hours directly. Click \u2715 on a cell to clear it.")),import_react.default.createElement("div",{style:{marginTop:20,paddingTop:16,borderTop:"1px solid var(--border2)"}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:10}},"Weekly Summary"),weeks.map((wDays,wi)=>{const{totalAssigned,totalCap}=weekTotals[wi];const pct=totalCap>0?totalAssigned/totalCap:0;return import_react.default.createElement("div",{key:wi,style:{marginBottom:8}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,marginBottom:3}},import_react.default.createElement("span",{style:{color:"var(--text2)"}},fmtWeek(wDays[0])),import_react.default.createElement("span",{style:{fontWeight:700,color:pct>1?"var(--danger)":pct>.8?"var(--warn)":"var(--text2)"}},totalAssigned,"/",totalCap,"h")),import_react.default.createElement("div",{style:{height:4,background:"var(--btn-bg)",borderRadius:2}},import_react.default.createElement("div",{style:{height:"100%",width:`${Math.min(100,pct*100)}%`,background:pct>1?"rgba(239,68,68,0.8)":pct>.8?"rgba(250,200,50,0.7)":"rgba(59,130,246,0.7)",borderRadius:2}})))})))),Object.keys(data.assignments||{}).length>0&&(()=>{const projMap={};Object.values(data.assignments||{}).forEach(a=>{if(!a.hours)return;const key=a.projectName||a.projectId||"Unassigned";if(!projMap[key])projMap[key]={name:key,totalHours:0,depts:{},assignments:[]};projMap[key].totalHours+=a.hours;projMap[key].depts[a.dept]=(projMap[key].depts[a.dept]||0)+a.hours;projMap[key].assignments.push(a)});const deptTotals={};DEPTS.forEach(d=>{const h=Object.values(data.assignments||{}).filter(a=>a.dept===d).reduce((s,a)=>s+a.hours,0);if(h>0)deptTotals[d]=h});const untaggedH=Object.values(data.assignments||{}).filter(a=>!a.dept).reduce((s,a)=>s+a.hours,0);const grandTotal=Object.values(data.assignments||{}).reduce((s,a)=>s+(a.hours||0),0);const removeProject=projName=>{if(!confirm(`Remove ALL hours for "${projName}"? This cannot be undone.`))return;const newAssignments={};Object.entries(data.assignments||{}).forEach(([k,v])=>{if((v.projectName||v.projectId||"Unassigned")!==projName)newAssignments[k]=v});upd({...data,assignments:newAssignments})};return import_react.default.createElement("div",{style:{marginTop:48,paddingTop:32,borderTop:"2px solid var(--border)"}},import_react.default.createElement("div",{style:{marginBottom:40}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:16,marginBottom:20}},import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:800,textTransform:"uppercase",color:"var(--text)"}},"Project Summary"),import_react.default.createElement("span",{style:{fontSize:12,color:"var(--text3)"}},"Hours committed by project \xB7 click \xD7 to remove")),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(300px,1fr))",gap:12}},Object.values(projMap).sort((a,b)=>b.totalHours-a.totalHours).map(proj=>import_react.default.createElement("div",{key:proj.name,style:{border:"1px solid var(--border)",background:"var(--bg2)",padding:"16px 18px",position:"relative"}},import_react.default.createElement("button",{type:"button",onClick:()=>removeProject(proj.name),title:"Remove all hours for this project",style:{position:"absolute",top:10,right:10,background:"none",border:"1px solid var(--border)",color:"var(--danger)",fontSize:11,cursor:"pointer",padding:"2px 7px",lineHeight:1.4,fontWeight:700,opacity:.7}},"\xD7 Remove"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:16,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:10,paddingRight:80,color:"var(--text)"}},proj.name),import_react.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:12}},Object.entries(proj.depts).map(([dept,h])=>{const dStyle=DEPT_COLORS[dept]||DEPT_COLORS["Management"];return import_react.default.createElement("span",{key:dept,style:{fontSize:10,padding:"3px 8px",background:dStyle.bg,border:`1px solid ${dStyle.border}`,color:dStyle.text,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.06em"}},dept,": ",h,"h")})),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",borderTop:"1px solid var(--border2)",paddingTop:8}},import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},"Total"),import_react.default.createElement(BC,{style:{fontSize:22,fontWeight:800,color:"var(--text)"}},proj.totalHours,"h")))))),import_react.default.createElement("div",{style:{marginBottom:32}},import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:800,textTransform:"uppercase",color:"var(--text)",display:"block",marginBottom:20}},"By Department"),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8}},Object.entries(deptTotals).map(([dept,h])=>{const dStyle=DEPT_COLORS[dept]||DEPT_COLORS["Management"];const dPeople=data.people.filter(p=>p.dept===dept);const totalCap=dPeople.reduce((s,p)=>s+(p.dailyCap||8)*days.length,0);const pct=totalCap>0?h/totalCap:0;return import_react.default.createElement("div",{key:dept,style:{border:`1px solid ${dStyle.border}`,background:dStyle.bg,padding:"14px 16px"}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:dStyle.text,marginBottom:8}},dept),import_react.default.createElement(BC,{style:{fontSize:28,fontWeight:800,color:dStyle.text,display:"block",lineHeight:1}},h,"h"),import_react.default.createElement("div",{style:{marginTop:8,height:3,background:"rgba(128,128,128,0.2)",borderRadius:2}},import_react.default.createElement("div",{style:{height:"100%",width:`${Math.min(100,pct*100)}%`,background:dStyle.border,borderRadius:2}})),import_react.default.createElement("div",{style:{fontSize:10,color:dStyle.text,opacity:.7,marginTop:4}},dPeople.length," ",dPeople.length===1?"person":"people"))}),untaggedH>0&&import_react.default.createElement("div",{style:{border:"1px solid var(--border)",background:"var(--input-bg)",padding:"14px 16px"}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:8}},"Untagged"),import_react.default.createElement(BC,{style:{fontSize:28,fontWeight:800,color:"var(--text3)",display:"block",lineHeight:1}},untaggedH,"h")))),import_react.default.createElement("div",{style:{borderTop:"2px solid var(--border)",paddingTop:24,display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.12em",color:"var(--text3)"}},"Total Shop Hours"),import_react.default.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:8}},import_react.default.createElement(BC,{style:{fontSize:56,fontWeight:900,letterSpacing:"-0.02em",color:"var(--text)",lineHeight:1}},grandTotal),import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:700,color:"var(--text3)"}},"hours"))))})(),showAddPerson&&import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:500,display:"flex",alignItems:"center",justifyContent:"center"}},import_react.default.createElement("div",{style:{background:theme.bg2,border:`1px solid ${theme.border}`,padding:32,width:360}},import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:800,textTransform:"uppercase",display:"block",marginBottom:20}},"Add Team Member"),import_react.default.createElement("div",{style:{marginBottom:16}},import_react.default.createElement(Label,null,"Name"),import_react.default.createElement(Input,{value:newPerson.name,onChange:e=>setNewPerson({...newPerson,name:e.target.value}),placeholder:"e.g. John Smith"})),import_react.default.createElement("div",{style:{marginBottom:16}},import_react.default.createElement(Label,null,"Department"),import_react.default.createElement("select",{value:newPerson.dept,onChange:e=>setNewPerson({...newPerson,dept:e.target.value}),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"8px 10px",outline:"none"}},DEPTS.map(d=>import_react.default.createElement("option",{key:d,value:d,style:{background:"var(--bg3)"}},d)))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Daily Hours Capacity"),import_react.default.createElement(Input,{type:"number",min:1,max:24,value:newPerson.dailyCap,onChange:e=>setNewPerson({...newPerson,dailyCap:Number(e.target.value)})})),import_react.default.createElement("div",{style:{display:"flex",gap:10}},import_react.default.createElement(Btn,{onClick:()=>setShowAddPerson(false),style:{flex:1}},"Cancel"),import_react.default.createElement(Btn,{primary:true,onClick:()=>{if(newPerson.name){upd({...data,people:[...data.people,{...newPerson,id:genId()}]});setNewPerson({name:"",dept:"Fabrication",dailyCap:8});setShowAddPerson(false)}},style:{flex:2}},"Add")))))}var TRUCKING_VENDORS=["Select vendor\u2026","Alliance Shippers","Atlas Van Lines","Beltmann","C&D Transportation","C.H. Robinson","Drayage Direct","EFW","Freeman","GES","Midwest Rigging","Rock-It Cargo","Show Solutions","Total Show Services","Unigroup","Other"];var TRUCK_SIZES=["Sprinter Van","16ft Box Truck","24ft Box Truck","26ft Box Truck","48ft Semi","53ft Semi","Flatbed 48ft","Flatbed 53ft"];var PROJ_STORAGE="dce_projects_v2";function loadProjects(){try{return JSON.parse(localStorage.getItem(PROJ_STORAGE)||"[]")}catch{return[]}}function saveProjects(arr){try{localStorage.setItem(PROJ_STORAGE,JSON.stringify(arr))}catch{}sbSaveAll("projects",arr)}function ProjectOverview({setActive}){const[projects,setProjects]=(0,import_react.useState)(loadProjects);const[showAdd,setShowAdd]=(0,import_react.useState)(false);const[editId,setEditId]=(0,import_react.useState)(null);(0,import_react.useEffect)(()=>{sbLoad("projects").then(rows=>{if(rows&&rows.length>0){try{localStorage.setItem(PROJ_STORAGE,JSON.stringify(rows))}catch{}setProjects(rows)}})},[]);const[blank]=(0,import_react.useState)(()=>({id:"",name:"",client:"",eventDate:"",venue:"",city:"",onsiteContact:"",onsitePhone:"",trucking:{vendor:"",trucks:[{size:"",qty:1}],departDate:"",notes:""},status:"approved",estimateId:"",quoteId:""}));const[form,setForm]=(0,import_react.useState)(blank);const updProj=p=>{setProjects(p);saveProjects(p)};const setF=(k,v)=>setForm(f=>({...f,[k]:v}));const setTruck=(k,v)=>setForm(f=>({...f,trucking:{...f.trucking,[k]:v}}));const setTruckRow=(i,k,v)=>setForm(f=>({...f,trucking:{...f.trucking,trucks:f.trucking.trucks.map((t,idx)=>idx===i?{...t,[k]:v}:t)}}));const addTruckRow=()=>setForm(f=>({...f,trucking:{...f.trucking,trucks:[...f.trucking.trucks,{size:"",qty:1}]}}));const openAdd=()=>{setForm({...blank,id:genId()});setEditId(null);setShowAdd(true)};const openEdit=proj=>{setForm(proj);setEditId(proj.id);setShowAdd(true)};const saveForm=()=>{if(!form.name)return;if(editId){updProj(projects.map(p=>p.id===editId?form:p))}else{updProj([...projects,form])}setShowAdd(false)};const deleteProj=id=>{if(window.confirm("Remove project?"))updProj(projects.filter(p=>p.id!==id))};const now=Date.now();const alertIds=new Set(projects.filter(p=>{if(!p.eventDate)return false;const ms=new Date(p.eventDate).getTime()-now;const days=ms/864e5;return days<=7&&days>=0&&(!p.trucking.vendor||p.trucking.vendor==="Select vendor\u2026"||!p.trucking.vendor.trim())}).map(p=>p.id));const sorted=[...projects].sort((a,b)=>{const ta=a.eventDate?new Date(a.eventDate).getTime():Infinity;const tb=b.eventDate?new Date(b.eventDate).getTime():Infinity;return ta-tb});const daysUntil=dateStr=>{if(!dateStr)return null;const d=Math.ceil((new Date(dateStr).getTime()-now)/864e5);return d};const estimates=(()=>{try{return JSON.parse(localStorage.getItem("dce_quotes_v1")||"[]")}catch{return[]}})();return import_react.default.createElement("div",{style:{maxWidth:1100,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:40}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"Operations"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Project Overview"),import_react.default.createElement("p",{style:{color:"var(--text2)",fontSize:13,marginTop:6}},"Approved projects \xB7 Trucking \xB7 Logistics \xB7 Field contacts")),import_react.default.createElement(Btn,{primary:true,onClick:openAdd},"+ Add Project")),alertIds.size>0&&import_react.default.createElement("div",{style:{background:"rgba(255,60,60,0.08)",border:"1px solid rgba(255,60,60,0.3)",padding:"14px 20px",marginBottom:28,display:"flex",alignItems:"center",gap:12}},import_react.default.createElement("span",{style:{fontSize:18}},"\u26A0"),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontWeight:700,fontSize:13,color:"rgba(255,120,120,1)"}},alertIds.size," project",alertIds.size>1?"s":""," within 7 days with no trucking assigned"),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text2)",marginTop:2}},"Click the project to add trucking details immediately."))),projects.length===0&&import_react.default.createElement("div",{style:{textAlign:"center",padding:"80px 0",color:"var(--text4)",fontSize:14}},'No projects yet. Click "+ Add Project" to track an approved build.'),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:2,background:"var(--border)"}},sorted.map(proj=>{var _a;const days=daysUntil(proj.eventDate);const isAlert=alertIds.has(proj.id);const hasTruck=proj.trucking.vendor&&proj.trucking.vendor!=="Select vendor\u2026"&&proj.trucking.vendor.trim();const truckCount=((_a=proj.trucking.trucks)==null?void 0:_a.reduce((s,t)=>s+Number(t.qty||0),0))||0;return import_react.default.createElement("div",{key:proj.id,onClick:()=>openEdit(proj),style:{background:isAlert?"rgba(255,30,30,0.05)":"var(--bg2)",padding:"24px",cursor:"pointer",borderLeft:isAlert?"3px solid rgba(255,60,60,0.6)":"3px solid transparent",position:"relative"},onMouseEnter:e=>e.currentTarget.style.background=isAlert?"rgba(255,30,30,0.1)":"var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background=isAlert?"rgba(255,30,30,0.05)":"var(--bg2)"},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:18,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.04em",color:"var(--text)"}},proj.name),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text3)",marginTop:2}},proj.client)),days!==null&&import_react.default.createElement("div",{style:{textAlign:"right"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:22,fontWeight:800,color:days<=7?"rgba(220,60,60,1)":days<=14?"rgba(200,140,0,1)":"var(--text)"}},days,"d"),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},"to event"))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:14}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:2}},"Event Date"),import_react.default.createElement("div",{style:{fontSize:13,fontWeight:600}},proj.eventDate||"\u2014")),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:2}},"Location"),import_react.default.createElement("div",{style:{fontSize:13}},proj.city||proj.venue||"\u2014")),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:2}},"Onsite Contact"),import_react.default.createElement("div",{style:{fontSize:13}},proj.onsiteContact||"\u2014")),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)",marginBottom:2}},"Depart Date"),import_react.default.createElement("div",{style:{fontSize:13}},proj.trucking.departDate||"\u2014"))),import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:hasTruck?"rgba(200,180,0,55,0.04)":"rgba(255,60,60,0.08)",border:`1px solid ${hasTruck?"var(--border)":"rgba(255,60,60,0.3)"}`}},import_react.default.createElement("span",{style:{fontSize:14}},hasTruck?"\u{1F69B}":"\u26A0"),import_react.default.createElement("div",{style:{fontSize:12}},hasTruck?import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("span",{style:{fontWeight:600}},proj.trucking.vendor),import_react.default.createElement("span",{style:{color:"var(--text3)",marginLeft:8}},truckCount," truck",truckCount!==1?"s":"")):import_react.default.createElement("span",{style:{color:"rgba(255,120,120,0.9)",fontWeight:600}},"No trucking assigned"))))})),showAdd&&import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:300,display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"40px 20px",overflowY:"auto"}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",width:"100%",maxWidth:620,padding:36}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:28}},import_react.default.createElement(BC,{style:{fontSize:22,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase"}},editId?"Edit Project":"Add Project"),import_react.default.createElement("button",{type:"button",onClick:()=>setShowAdd(false),style:{background:"none",border:"none",color:"var(--text3)",fontSize:20,cursor:"pointer"}},"\u2715")),estimates.length>0&&!editId&&import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Import from Estimate"),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:6}},estimates.slice(0,5).map(est=>import_react.default.createElement("div",{key:est.id,onClick:()=>setForm(f=>({...f,name:est.projectName||est.quoteNumber||"",client:est.clientName||"",estimateId:est.id})),style:{border:"1px solid var(--border2)",padding:"8px 12px",cursor:"pointer",fontSize:12,display:"flex",justifyContent:"space-between"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="transparent"},import_react.default.createElement("span",null,est.quoteNumber," \u2014 ",est.projectName||"Untitled"," ",import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:11}},est.clientName)),import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:10}},"Import \u2192"))))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:20}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Project Name *"),import_react.default.createElement(Input,{value:form.name,onChange:e=>setF("name",e.target.value),placeholder:"e.g. Nike SEMA 2026"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Client / Brand"),import_react.default.createElement(Input,{value:form.client,onChange:e=>setF("client",e.target.value),placeholder:"e.g. Nike"}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:20}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Event Date"),import_react.default.createElement(Input,{type:"date",value:form.eventDate,onChange:e=>setF("eventDate",e.target.value)})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Venue"),import_react.default.createElement(LocationAutocomplete,{value:form.venue||"",onChange:v=>setF("venue",v),onSelect:({cityState,zip,venue})=>{if(!form.city&&cityState)setF("city",cityState);if(zip)setF("zip",zip)},placeholder:"e.g. LVCC South Hall"}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:12,marginBottom:20,alignItems:"end"}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"City / Location"),import_react.default.createElement(LocationAutocomplete,{value:form.city||"",onChange:v=>setF("city",v),onSelect:({cityState,zip})=>{setF("city",cityState);if(zip)setF("zip",zip)},placeholder:"e.g. Las Vegas, NV"})),import_react.default.createElement("div",{style:{width:90}},import_react.default.createElement(Label,null,"ZIP"),import_react.default.createElement(Input,{value:form.zip||"",onChange:e=>setF("zip",e.target.value),placeholder:"89101",style:{textAlign:"center"}}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:28}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Onsite Contact"),import_react.default.createElement(Input,{value:form.onsiteContact,onChange:e=>setF("onsiteContact",e.target.value),placeholder:"Name"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Onsite Phone"),import_react.default.createElement(Input,{value:form.onsitePhone,onChange:e=>setF("onsitePhone",e.target.value),placeholder:"(555) 000-0000"}))),import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border)",paddingTop:24,marginBottom:24}},import_react.default.createElement(BC,{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:16}},"Trucking \u2014 Outbound"),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:16}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Trucking Vendor"),import_react.default.createElement(Select,{value:form.trucking.vendor,onChange:e=>setTruck("vendor",e.target.value)},TRUCKING_VENDORS.map(v=>import_react.default.createElement("option",{key:v,value:v,style:{background:"var(--bg3)"}},v)))),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Depart Date"),import_react.default.createElement(Input,{type:"date",value:form.trucking.departDate,onChange:e=>setTruck("departDate",e.target.value)}))),import_react.default.createElement(Label,null,"Trucks Needed"),form.trucking.trucks.map((t,i)=>import_react.default.createElement("div",{key:i,style:{display:"grid",gridTemplateColumns:"2fr 80px 32px",gap:10,marginBottom:8,alignItems:"end"}},import_react.default.createElement(Select,{value:t.size,onChange:e=>setTruckRow(i,"size",e.target.value)},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select size\u2026"),TRUCK_SIZES.map(s=>import_react.default.createElement("option",{key:s,value:s,style:{background:"var(--bg3)"}},s))),import_react.default.createElement(Input,{type:"number",value:t.qty,min:1,max:20,onChange:e=>setTruckRow(i,"qty",e.target.value),placeholder:"Qty"}),form.trucking.trucks.length>1&&import_react.default.createElement("button",{type:"button",onClick:()=>setForm(f=>({...f,trucking:{...f.trucking,trucks:f.trucking.trucks.filter((_,idx)=>idx!==i)}})),style:{background:"none",border:"none",color:"rgba(255,80,80,0.6)",fontSize:16,cursor:"pointer",lineHeight:1}},"\u2715"))),import_react.default.createElement("button",{type:"button",onClick:addTruckRow,style:{background:"none",border:"1px dashed var(--border2)",color:"var(--text3)",padding:"6px 14px",fontSize:11,cursor:"pointer",marginBottom:16}},"+ Add Truck Size"),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Trucking Notes"),import_react.default.createElement(Input,{value:form.trucking.notes,onChange:e=>setTruck("notes",e.target.value),placeholder:"PO#, driver contacts, special instructions\u2026"}))),import_react.default.createElement("div",{style:{display:"flex",gap:10,justifyContent:"space-between"}},editId&&import_react.default.createElement(Btn,{onClick:()=>deleteProj(form.id),style:{color:"rgba(255,80,80,0.7)",borderColor:"rgba(255,80,80,0.3)"}},"Delete"),import_react.default.createElement("div",{style:{display:"flex",gap:10,marginLeft:"auto"}},import_react.default.createElement(Btn,{onClick:()=>setShowAdd(false)},"Cancel"),import_react.default.createElement(Btn,{primary:true,onClick:saveForm},"Save Project"))))))}function ftInStr(decFt){if(decFt==null||isNaN(decFt))return`0'-0"`;const neg=decFt<0;const abs=Math.abs(decFt);const totalIn=Math.round(abs*12);const ft=Math.floor(totalIn/12);const inches=totalIn%12;const s=inches===0?`${ft}'-0"`:`${ft}'-${inches}"`;return neg?"-"+s:s}function mmStr(decFt){return Math.round(decFt*304.8)+"MM"}function dimStr(decFt){return`${ftInStr(decFt)} [${mmStr(decFt)}]`}function HatchDefs({id,angle=45,spacing=4,color="black",sw=.6}){return import_react.default.createElement("defs",null,import_react.default.createElement("pattern",{id,x:"0",y:"0",width:spacing,height:spacing,patternUnits:"userSpaceOnUse",patternTransform:`rotate(${angle})`},import_react.default.createElement("line",{x1:"0",y1:"0",x2:"0",y2:spacing,stroke:color,strokeWidth:sw})))}function Dim({x1,y1,x2,y2,text,off=16,color="#00AEEF",fs=7}){const horiz=Math.abs(x2-x1)>=Math.abs(y2-y1);const mx=(x1+x2)/2,my=(y1+y2)/2;const ox=horiz?0:-off,oy=horiz?-off:0;const lx1=horiz?x1:x1+ox,ly1=horiz?y1+oy:y1;const lx2=horiz?x2:x2+ox,ly2=horiz?y2+oy:y2;const rot=horiz?0:-90;const label=text||dimStr(Math.abs(x2-x1+y2-y1)/30);return import_react.default.createElement("g",{stroke:color,fill:color},import_react.default.createElement("line",{x1,y1,x2:lx1,y2:ly1,strokeWidth:"0.4",strokeDasharray:"3,2"}),import_react.default.createElement("line",{x1:x2,y1:y2,x2:lx2,y2:ly2,strokeWidth:"0.4",strokeDasharray:"3,2"}),import_react.default.createElement("line",{x1:lx1,y1:ly1,x2:lx2,y2:ly2,strokeWidth:"0.8"}),horiz?import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("line",{x1:lx1,y1:ly1-3,x2:lx1,y2:ly1+3,strokeWidth:"0.8"}),import_react.default.createElement("line",{x1:lx2,y1:ly2-3,x2:lx2,y2:ly2+3,strokeWidth:"0.8"})):import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("line",{x1:lx1-3,y1:ly1,x2:lx1+3,y2:ly1,strokeWidth:"0.8"}),import_react.default.createElement("line",{x1:lx2-3,y1:ly2,x2:lx2+3,y2:ly2,strokeWidth:"0.8"})),import_react.default.createElement("text",{x:mx+ox*.6,y:my+oy*.6,fontSize:fs,textAnchor:"middle",dominantBaseline:"middle",fontFamily:"Arial,sans-serif",transform:rot?`rotate(${rot},${mx+ox*.6},${my+oy*.6})`:void 0,fill:color,stroke:"none"},label))}function Tag({x,y,n,size=7}){return import_react.default.createElement("g",null,import_react.default.createElement("circle",{cx:x,cy:y,r:size,fill:"white",stroke:"black",strokeWidth:"0.8"}),import_react.default.createElement("text",{x,y,fontFamily:"Arial,sans-serif",fontSize:size*.9,fontWeight:"700",textAnchor:"middle",dominantBaseline:"middle",fill:"black"},n))}function DoorSwing({x,y,w,side="right",wallDir="bottom"}){const r=w*30;if(wallDir==="bottom"){const sx=side==="right"?x:x+r;return import_react.default.createElement("g",{stroke:"black",strokeWidth:"0.6",fill:"none"},import_react.default.createElement("line",{x1:sx,y1:y,x2:sx+(side==="right"?r:-r),y2:y}),import_react.default.createElement("path",{d:`M${sx} ${y} A${r} ${r} 0 0 ${side==="right"?1:0} ${sx+(side==="right"?r:-r)} ${y+r}`}))}return null}function Sheet({meta,sheetName,element,sheetN,totalSheets,sheetLabel,children}){const{client,project,jobNo,revNo,drawnBy,scale,date}=meta;const TB={x:780,y:680,w:310,h:165};const rh=19;const fields=[{label:"CLIENT",val:client,label2:"JOB NO.",val2:jobNo,label3:"DATE",val3:date},{label:"SHOW/PROJECT",val:project,label2:"SCALE",val2:scale||"N.T.S.",label3:"DWG. NO.",val3:`${(client||"").slice(0,5).toUpperCase()}_${(project||"").replace(/[\s/]+/g,"_").slice(0,12).toUpperCase()}`},{label:"SHEET DESCRIPTION",val:sheetName,label2:"DRAWN BY",val2:drawnBy||"DCE",label3:"REV",val3:revNo||"A"},{label:"APPROVAL",val:`CLIENT ___   A.M. ___   P.M. ___`,label2:"SHEET NO.",val2:`${sheetN} OF ${totalSheets}`}];const c1=TB.x+2,c2=TB.x+TB.w*.44,c3=TB.x+TB.w*.72;return import_react.default.createElement("svg",{viewBox:"0 0 1100 850",width:"100%",style:{background:"white",display:"block",fontFamily:"Arial,sans-serif"}},import_react.default.createElement("rect",{x:"8",y:"8",width:"1084",height:"834",fill:"none",stroke:"black",strokeWidth:"2"}),import_react.default.createElement("rect",{x:"13",y:"13",width:"1074",height:"824",fill:"none",stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:"22",y:"430",fontFamily:"Arial Black,Arial,sans-serif",fontSize:"13",fontWeight:"900",textAnchor:"middle",fill:"black",transform:"rotate(-90,22,430)"},sheetLabel||sheetName),import_react.default.createElement("line",{x1:"13",y1:"30",x2:"780",y2:"30",stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:"42",y:"24",fontSize:"7",fill:"#555"},"CLIENT: ",import_react.default.createElement("tspan",{fontWeight:"700",fill:"black"},client)),import_react.default.createElement("text",{x:"220",y:"24",fontSize:"7",fill:"#555"},"SHOW / PROJECT: ",import_react.default.createElement("tspan",{fontWeight:"700",fill:"black"},project)),import_react.default.createElement("text",{x:"600",y:"24",fontSize:"7",fill:"#555"},"BOOTH SIZE: ",import_react.default.createElement("tspan",{fontWeight:"700",fill:"black"},meta.boothSize)),children,import_react.default.createElement("text",{x:"90",y:"845",fontSize:"5.5",fill:"#777"},"These original designs and concepts are sole property of DREAMCRAFT. Any reproduction or use without consent of DREAMCRAFT is prohibited.","  ","1111 Bell Ave. Suite A Tustin, CA 92780 USA www.dce-usa.com"),import_react.default.createElement(HatchDefs,{id:"tb-hatch",angle:45,spacing:3,color:"#ddd"}),import_react.default.createElement("rect",{x:TB.x,y:TB.y,width:TB.w,height:TB.h,fill:"white",stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement("rect",{x:TB.x,y:TB.y,width:TB.w-52,height:23,fill:"white",stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:TB.x+6,y:TB.y+9,fontSize:"6.5",fill:"#444"},"1111 Bell Ave. Suite A  Tustin, CA 92780 USA  www.dce-usa.com"),import_react.default.createElement("text",{x:TB.x+6,y:TB.y+20,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"11",fontWeight:"900",fill:"black"},"DREAM"),import_react.default.createElement("text",{x:TB.x+50,y:TB.y+20,fontFamily:"Arial,sans-serif",fontSize:"11",fontWeight:"300",fill:"black"},"CRAFT"),import_react.default.createElement("rect",{x:TB.x+TB.w-52,y:TB.y+1,width:50,height:22,fill:"white",stroke:"black",strokeWidth:"1.2"}),import_react.default.createElement("text",{x:TB.x+TB.w-27,y:TB.y+15,fontSize:"9",fontWeight:"700",textAnchor:"middle",fill:"black"},element||"SETUP"),import_react.default.createElement("rect",{x:TB.x+TB.w-20,y:TB.y+TB.h-40,width:18,height:18,fill:"white",stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement("text",{x:TB.x+TB.w-11,y:TB.y+TB.h-28,fontSize:"13",fontWeight:"700",textAnchor:"middle",dominantBaseline:"middle",fill:"black"},revNo||"A"),fields.map((row,i)=>{const ry=TB.y+23+i*rh;return import_react.default.createElement("g",{key:i},import_react.default.createElement("line",{x1:TB.x,y1:ry,x2:TB.x+TB.w,y2:ry,stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:c1,y:ry+5,fontSize:"5",fill:"#666"},row.label),import_react.default.createElement("text",{x:c1,y:ry+14,fontSize:"8",fontWeight:"700",fill:"black"},row.val),import_react.default.createElement("line",{x1:c2,y1:ry,x2:c2,y2:ry+rh,stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:c2+2,y:ry+5,fontSize:"5",fill:"#666"},row.label2),import_react.default.createElement("text",{x:c2+2,y:ry+14,fontSize:"8",fontWeight:"700",fill:"black"},row.val2),row.label3&&import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("line",{x1:c3,y1:ry,x2:c3,y2:ry+rh,stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:c3+2,y:ry+5,fontSize:"5",fill:"#666"},row.label3),import_react.default.createElement("text",{x:c3+2,y:ry+14,fontSize:"8",fontWeight:"700",fill:"black"},row.val3)))}))}function SheetFloorPlan({layout,meta}){const{boothW:W,boothD:D,wallT=.5,elements=[],rooms=[]}=layout;const DA={x:55,y:42,w:700,h:600};const S=Math.min((DA.w-60)/W,(DA.h-60)/D)*.85;const OX=DA.x+(DA.w-W*S)/2+20,OY=DA.y+(DA.h-D*S)/2+20;const px=x=>OX+x*S,py=y=>OY+y*S;const WT=Math.max(3,wallT*S);const FILLS={room:"#e8e8e8",counter:"#ddeeff",display:"#fffde0",storage:"#f0f0f0",open:"none",glass:"rgba(160,210,255,0.25)",demo:"#e8ffe8",av:"#ffe8ff"};const STROKES={room:"black",counter:"#00AEEF",display:"#00AEEF",storage:"black",glass:"#00AEEF",demo:"black",av:"black"};const xPts=[0,W];const yPts=[0,D];elements.forEach(el=>{xPts.push(el.x,el.x+el.w);yPts.push(el.y,el.y+el.d)});const uxPts=[...new Set(xPts.map(x=>Math.round(x*100)/100))].sort((a,b)=>a-b);const uyPts=[...new Set(yPts.map(y=>Math.round(y*100)/100))].sort((a,b)=>a-b);return import_react.default.createElement(Sheet,{meta,sheetName:"FLOOR PLAN",element:"SETUP",sheetN:1,totalSheets:6,sheetLabel:"FLOOR PLAN"},import_react.default.createElement(HatchDefs,{id:"wall-h",angle:45,spacing:3.5,color:"black",sw:.7}),import_react.default.createElement("text",{x:px(W/2),y:DA.y-8,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"14",fontWeight:"900",textAnchor:"middle",fill:"black"},"FLOOR PLAN"),import_react.default.createElement("text",{x:px(W/2),y:DA.y,fontSize:"7",textAnchor:"middle",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement("rect",{x:px(0),y:py(0),width:W*S,height:D*S,fill:"#f5f5f5",stroke:"none"}),import_react.default.createElement("rect",{x:px(0),y:py(0),width:W*S,height:WT,fill:"url(#wall-h)",stroke:"black",strokeWidth:"1"}),import_react.default.createElement("rect",{x:px(0),y:py(D)-WT,width:W*S,height:WT,fill:"url(#wall-h)",stroke:"black",strokeWidth:"1"}),import_react.default.createElement("rect",{x:px(0),y:py(0)+WT,width:WT,height:D*S-WT*2,fill:"url(#wall-h)",stroke:"black",strokeWidth:"1"}),import_react.default.createElement("rect",{x:px(W)-WT,y:py(0)+WT,width:WT,height:D*S-WT*2,fill:"url(#wall-h)",stroke:"black",strokeWidth:"1"}),import_react.default.createElement("rect",{x:px(0),y:py(0),width:W*S,height:D*S,fill:"none",stroke:"black",strokeWidth:"1.5"}),elements.map((el,i)=>{const ex=px(el.x),ey=py(el.y),ew=el.w*S,ed=el.d*S;const fill=FILLS[el.type]||"#f0f0f0";const stroke=STROKES[el.type]||"black";const cx=ex+ew/2,cy=ey+ed/2;const maxFs=Math.max(5,Math.min(9,Math.min(ew,ed)/6));return import_react.default.createElement("g",{key:i},import_react.default.createElement("rect",{x:ex,y:ey,width:Math.max(1,ew),height:Math.max(1,ed),fill,stroke,strokeWidth:el.type==="glass"?"0.7":"1",strokeDasharray:el.type==="glass"?"4,2":"none"}),el.label&&import_react.default.createElement("text",{x:cx,y:cy,fontSize:maxFs,fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",fill:el.type==="glass"?"#00AEEF":"black"},el.label),el.type==="door"&&import_react.default.createElement(DoorSwing,{x:ex,y:ey+ed,w:el.w}))}),uxPts.slice(0,-1).map((x,i)=>{const nx=uxPts[i+1];if(nx-x<.5)return null;return import_react.default.createElement(Dim,{key:"cx"+i,x1:px(x),y1:py(0),x2:px(nx),y2:py(0),text:dimStr(nx-x),off:-14,color:"#00AEEF",fs:6})}),import_react.default.createElement(Dim,{x1:px(0),y1:py(0),x2:px(W),y2:py(0),text:dimStr(W),off:-28,color:"#00AEEF",fs:7}),uyPts.slice(0,-1).map((y,i)=>{const ny=uyPts[i+1];if(ny-y<.5)return null;return import_react.default.createElement(Dim,{key:"cy"+i,x1:px(W),y1:py(y),x2:px(W),y2:py(ny),text:dimStr(ny-y),off:14,color:"#00AEEF",fs:6})}),import_react.default.createElement(Dim,{x1:px(W),y1:py(0),x2:px(W),y2:py(D),text:dimStr(D),off:28,color:"#00AEEF",fs:7}),import_react.default.createElement("g",{transform:`translate(${px(0)-35},${py(D/2)})`},import_react.default.createElement("circle",{cx:"0",cy:"0",r:"11",fill:"none",stroke:"black",strokeWidth:"0.8"}),import_react.default.createElement("polygon",{points:"0,-10 -3.5,0 0,-3 3.5,0",fill:"black"}),import_react.default.createElement("polygon",{points:"0,10 -3.5,0 0,3 3.5,0",fill:"white",stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("text",{x:"0",y:"18",fontSize:"8",textAnchor:"middle",fontWeight:"700"},"N")),[{fill:"#e8e8e8",stroke:"black",label:"ROOM/AREA"},{fill:"#ddeeff",stroke:"#00AEEF",label:"COUNTER/MILLWORK"},{fill:"#fffde0",stroke:"#00AEEF",label:"DISPLAY/AV"},{fill:"rgba(160,210,255,0.25)",stroke:"#00AEEF",label:"GLASS/OPEN FRAME",dash:true}].map((item,i)=>import_react.default.createElement("g",{key:i,transform:`translate(${60+i*155},${DA.y+DA.h+10})`},import_react.default.createElement("rect",{x:"0",y:"0",width:"12",height:"10",fill:item.fill,stroke:item.stroke,strokeWidth:"0.8",strokeDasharray:item.dash?"3,2":"none"}),import_react.default.createElement("text",{x:"16",y:"9",fontSize:"6.5",fill:"#444"},item.label))))}function SheetHeaderPlan({layout,meta}){const{boothW:W,boothD:D,headerElements=[],ceilingElements=[]}=layout;const DA={x:55,y:42,w:700,h:600};const S=Math.min((DA.w-60)/W,(DA.h-60)/D)*.85;const OX=DA.x+(DA.w-W*S)/2+20,OY=DA.y+(DA.h-D*S)/2+20;const px=x=>OX+x*S,py=y=>OY+y*S;return import_react.default.createElement(Sheet,{meta,sheetName:"HEADER PLAN",element:"SETUP",sheetN:2,totalSheets:6,sheetLabel:"HEADER PLAN"},import_react.default.createElement("text",{x:px(W/2),y:DA.y-8,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"14",fontWeight:"900",textAnchor:"middle",fill:"black"},"HEADER PLAN"),import_react.default.createElement("text",{x:px(W/2),y:DA.y,fontSize:"7",textAnchor:"middle",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement("rect",{x:px(0),y:py(0),width:W*S,height:D*S,fill:"#fafafa",stroke:"#aaa",strokeWidth:"1",strokeDasharray:"6,3"}),[...headerElements,...ceilingElements].map((el,i)=>{const ex=px(el.x),ey=py(el.y),ew=el.w*S,ed=el.d*S;const isGraphic=el.type==="graphic"||el.type==="seg";const isCeiling=el.type==="ceiling";return import_react.default.createElement("g",{key:i},import_react.default.createElement("rect",{x:ex,y:ey,width:Math.max(1,ew),height:Math.max(1,ed),fill:isGraphic?"rgba(255,240,150,0.3)":isCeiling?"rgba(200,200,200,0.4)":"rgba(180,220,255,0.2)",stroke:isGraphic?"#00AEEF":isCeiling?"#888":"#00AEEF",strokeWidth:"1",strokeDasharray:isCeiling?"none":"3,2"}),el.label&&import_react.default.createElement("text",{x:ex+ew/2,y:ey+ed/2,fontSize:Math.max(5,Math.min(9,ew/8)),textAnchor:"middle",dominantBaseline:"middle",fontWeight:"600",fill:isGraphic?"#00AEEF":"black"},el.label),el.riggingPts&&el.riggingPts.map((rp,j)=>import_react.default.createElement("g",{key:j},import_react.default.createElement("circle",{cx:px(rp.x),cy:py(rp.y),r:"4",fill:"none",stroke:"black",strokeWidth:"0.8"}),import_react.default.createElement("line",{x1:px(rp.x)-4,y1:py(rp.y),x2:px(rp.x)+4,y2:py(rp.y),stroke:"black",strokeWidth:"0.6"}),import_react.default.createElement("line",{x1:px(rp.x),y1:py(rp.y)-4,x2:px(rp.x),y2:py(rp.y)+4,stroke:"black",strokeWidth:"0.6"}))))}),import_react.default.createElement(Dim,{x1:px(0),y1:py(0),x2:px(W),y2:py(0),text:dimStr(W),off:-20,color:"#00AEEF"}),import_react.default.createElement(Dim,{x1:px(W),y1:py(0),x2:px(W),y2:py(D),text:dimStr(D),off:20,color:"#00AEEF"}),ceilingElements.filter(el=>el.hasCeiling===false).map((el,i)=>import_react.default.createElement("text",{key:i,x:px(el.x+el.w/2),y:py(el.y+el.d/2)+6,fontSize:"7",textAnchor:"middle",fill:"#999"},"NO CEILING")))}function SheetFrontBack({layout,meta}){const{boothW:W,boothD:D,wallH:H,frontElev=[],backElev=[]}=layout;const drawElev=(elems,oX,oY,eW,eH,S3,title,tagN)=>{const px=x=>oX+x*S3,py=y=>oY+(eH-y)*S3;const EFILLS={graphic:"#fffde0",header:"#e8e8e8",counter:"#ddeeff",display:"#fffde0",opening:"white",glass:"rgba(160,210,255,0.3)",seg:"rgba(255,240,150,0.4)",storage:"#f0f0f0"};const ESTROKES={graphic:"#00AEEF",seg:"#00AEEF",counter:"#00AEEF",display:"#00AEEF",opening:"black",glass:"#00AEEF"};const xPts=[...new Set([0,eW,...elems.map(e=>e.x),...elems.map(e=>e.x+e.w)].map(x=>Math.round(x*100)/100))].sort((a,b)=>a-b);return import_react.default.createElement("g",null,import_react.default.createElement(Tag,{x:oX+eW*S3/2,y:oY-16,n:tagN}),import_react.default.createElement("text",{x:oX+eW*S3/2,y:oY-6,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"10",fontWeight:"700",textAnchor:"middle",fill:"black"},title),import_react.default.createElement("text",{x:oX+eW*S3/2,y:oY+1,fontSize:"6.5",textAnchor:"middle",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement("line",{x1:oX,y1:oY+eH*S3,x2:oX+eW*S3,y2:oY+eH*S3,stroke:"black",strokeWidth:"2"}),import_react.default.createElement("rect",{x:oX,y:oY,width:eW*S3,height:eH*S3,fill:"#f5f5f5",stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement(HatchDefs,{id:`wh-${tagN}`,angle:45,spacing:3,color:"black",sw:.6}),import_react.default.createElement("rect",{x:oX,y:oY,width:eW*S3,height:Math.max(3,S3*.12),fill:`url(#wh-${tagN})`,stroke:"none"}),elems.map((el,i)=>{const ex=px(el.x),ey=py(el.y+el.h),ew=el.w*S3,eh=el.h*S3;const fill=EFILLS[el.type]||"#eeeeee";const stroke=ESTROKES[el.type]||"black";return import_react.default.createElement("g",{key:i},import_react.default.createElement("rect",{x:ex,y:ey,width:Math.max(1,ew),height:Math.max(1,eh),fill,stroke,strokeWidth:el.type==="glass"?"0.7":"0.9",strokeDasharray:el.type==="glass"?"4,2":"none"}),el.label&&import_react.default.createElement("text",{x:ex+ew/2,y:ey+eh/2,fontSize:Math.max(5,Math.min(8,ew/el.label.length*1.2)),textAnchor:"middle",dominantBaseline:"middle",fill:["graphic","seg","counter","display"].includes(el.type)?"#00AEEF":"black"},el.label))}),xPts.slice(0,-1).map((x,i)=>{const nx=xPts[i+1];if(nx-x<.3)return null;return import_react.default.createElement(Dim,{key:i,x1:px(x),y1:oY+eH*S3,x2:px(nx),y2:oY+eH*S3,text:dimStr(nx-x),off:12,color:"#00AEEF",fs:5.5})}),import_react.default.createElement(Dim,{x1:oX,y1:oY+eH*S3,x2:oX+eW*S3,y2:oY+eH*S3,text:dimStr(eW),off:24,color:"#00AEEF",fs:7}),import_react.default.createElement(Dim,{x1:oX,y1:oY,x2:oX,y2:oY+eH*S3,text:dimStr(eH),off:-20,color:"#00AEEF",fs:7}))};const S=Math.min(310/W,200/H)*.8;const S2=Math.min(310/W,200/H)*.8;return import_react.default.createElement(Sheet,{meta,sheetName:"FRONT & BACK ELEVATIONS",element:"SETUP",sheetN:3,totalSheets:6,sheetLabel:"ELEVATIONS"},drawElev(frontElev,60,65,W,H,S,"FRONT ELEVATION",1),drawElev(backElev,420,65,W,H,S2,"BACK ELEVATION",2))}function SheetLeftRight({layout,meta}){const{boothD:D,wallH:H,leftElev=[],rightElev=[]}=layout;const S=Math.min(310/D,200/H)*.8;const drawElev=(elems,oX,oY,eW,eH,sc,title,tagN)=>{const px=x=>oX+x*sc,py=y=>oY+(eH-y)*sc;const EFILLS={graphic:"#fffde0",header:"#e8e8e8",counter:"#ddeeff",display:"#fffde0",opening:"white",glass:"rgba(160,210,255,0.3)",seg:"rgba(255,240,150,0.4)",storage:"#f0f0f0"};const ESTROKES={graphic:"#00AEEF",seg:"#00AEEF",counter:"#00AEEF",display:"#00AEEF",opening:"black",glass:"#00AEEF"};const xPts=[...new Set([0,eW,...elems.map(e=>e.x),...elems.map(e=>e.x+e.w)].map(x=>Math.round(x*100)/100))].sort((a,b)=>a-b);return import_react.default.createElement("g",null,import_react.default.createElement(Tag,{x:oX+eW*sc/2,y:oY-16,n:tagN}),import_react.default.createElement("text",{x:oX+eW*sc/2,y:oY-6,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"10",fontWeight:"700",textAnchor:"middle",fill:"black"},title),import_react.default.createElement("text",{x:oX+eW*sc/2,y:oY+1,fontSize:"6.5",textAnchor:"middle",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement("line",{x1:oX,y1:oY+eH*sc,x2:oX+eW*sc,y2:oY+eH*sc,stroke:"black",strokeWidth:"2"}),import_react.default.createElement("rect",{x:oX,y:oY,width:eW*sc,height:eH*sc,fill:"#f5f5f5",stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement(HatchDefs,{id:`wh2-${tagN}`,angle:45,spacing:3,color:"black",sw:.6}),import_react.default.createElement("rect",{x:oX,y:oY,width:eW*sc,height:Math.max(3,sc*.12),fill:`url(#wh2-${tagN})`,stroke:"none"}),elems.map((el,i)=>{const ex=px(el.x),ey=py(el.y+el.h),ew=el.w*sc,eh=el.h*sc;return import_react.default.createElement("g",{key:i},import_react.default.createElement("rect",{x:ex,y:ey,width:Math.max(1,ew),height:Math.max(1,eh),fill:EFILLS[el.type]||"#eee",stroke:ESTROKES[el.type]||"black",strokeWidth:"0.9"}),el.label&&import_react.default.createElement("text",{x:ex+ew/2,y:ey+eh/2,fontSize:Math.max(5,Math.min(8,ew/8)),textAnchor:"middle",dominantBaseline:"middle",fill:["graphic","seg","counter"].includes(el.type)?"#00AEEF":"black"},el.label))}),xPts.slice(0,-1).map((x,i)=>{const nx=xPts[i+1];if(nx-x<.3)return null;return import_react.default.createElement(Dim,{key:i,x1:px(x),y1:oY+eH*sc,x2:px(nx),y2:oY+eH*sc,text:dimStr(nx-x),off:12,color:"#00AEEF",fs:5.5})}),import_react.default.createElement(Dim,{x1:oX,y1:oY+eH*sc,x2:oX+eW*sc,y2:oY+eH*sc,text:dimStr(eW),off:24,color:"#00AEEF",fs:7}),import_react.default.createElement(Dim,{x1:oX,y1:oY,x2:oX,y2:oY+eH*sc,text:dimStr(eH),off:-20,color:"#00AEEF",fs:7}))};return import_react.default.createElement(Sheet,{meta,sheetName:"LEFT & RIGHT ELEVATIONS",element:"SETUP",sheetN:4,totalSheets:6,sheetLabel:"ELEVATIONS"},drawElev(leftElev,60,65,D,H,S,"LEFT ELEVATION",3),drawElev(rightElev,420,65,D,H,S,"RIGHT ELEVATION",4))}function SheetIsometric({layout,meta}){const{boothW:W,boothD:D,wallH:H,finishNotes=[],elements=[]}=layout;const S=Math.min(180/W,160/D,140/H);const cos30=Math.cos(Math.PI/6),sin30=Math.sin(Math.PI/6);const iso=(x,y,z)=>({sx:280+(x-y)*cos30*S,sy:340+(-(x+y)*sin30+z)*S});const pts={a:iso(0,0,0),b:iso(W,0,0),c:iso(W,D,0),d:iso(0,D,0),e:iso(0,0,H),f:iso(W,0,H),g:iso(W,D,H),h:iso(0,D,H)};const pp=p=>`${pts[p].sx},${pts[p].sy}`;const FRONT_SHADE="rgba(220,220,220,0.95)";const SIDE_SHADE="rgba(195,195,195,0.95)";const TOP_SHADE="rgba(235,235,235,0.95)";const iso2=(x,y,z)=>({sx:820+(y-x)*cos30*S,sy:320+(-(x+y)*sin30+z)*S});const pts2={a:iso2(0,0,0),b:iso2(W,0,0),c:iso2(W,D,0),d:iso2(0,D,0),e:iso2(0,0,H),f:iso2(W,0,H),g:iso2(W,D,H),h:iso2(0,D,H)};const pp2=p=>`${pts2[p].sx},${pts2[p].sy}`;const drawBooth=(p,isoFn,shade1,shade2,shade3)=>import_react.default.createElement("g",null,import_react.default.createElement("polygon",{points:`${p("a")} ${p("b")} ${p("c")} ${p("d")}`,fill:"#e0e0e0",stroke:"black",strokeWidth:"0.8"}),import_react.default.createElement("polygon",{points:`${p("a")} ${p("b")} ${p("f")} ${p("e")}`,fill:shade2,stroke:"black",strokeWidth:"1"}),import_react.default.createElement("polygon",{points:`${p("a")} ${p("d")} ${p("h")} ${p("e")}`,fill:shade1,stroke:"black",strokeWidth:"1"}),import_react.default.createElement("polygon",{points:`${p("d")} ${p("c")} ${p("g")} ${p("h")}`,fill:shade1,stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement("polygon",{points:`${p("b")} ${p("c")} ${p("g")} ${p("f")}`,fill:shade2,stroke:"black",strokeWidth:"1.5"}),import_react.default.createElement("polygon",{points:`${p("e")} ${p("f")} ${p("g")} ${p("h")}`,fill:shade3,stroke:"black",strokeWidth:"1.2"}),(()=>{const hh=H*.15;const hA=isoFn(0,D,H),hB=isoFn(W,D,H),hC=isoFn(W,D,H-hh),hD=isoFn(0,D,H-hh);return import_react.default.createElement("polygon",{points:`${hA.sx},${hA.sy} ${hB.sx},${hB.sy} ${hC.sx},${hC.sy} ${hD.sx},${hD.sy}`,fill:"rgba(0,174,239,0.18)",stroke:"#00AEEF",strokeWidth:"0.8"})})());return import_react.default.createElement(Sheet,{meta,sheetName:"ISOMETRIC VIEWS",element:"SETUP",sheetN:5,totalSheets:6,sheetLabel:"ISOMETRIC"},import_react.default.createElement(Tag,{x:55,y:52,n:"A"}),import_react.default.createElement("text",{x:90,y:46,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"11",fontWeight:"900",fill:"black"},"ISOMETRIC VIEWS A & B"),import_react.default.createElement("text",{x:90,y:56,fontSize:"7",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement(Tag,{x:178,y:95,n:"A"}),import_react.default.createElement("text",{x:178,y:107,fontSize:"7",textAnchor:"middle",fill:"#555"},"ISOMETRIC VIEW A"),drawBooth(pp,iso,FRONT_SHADE,SIDE_SHADE,TOP_SHADE),(()=>{const bPt=pts.b,cPt=pts.c,fPt=pts.f;return import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement(Dim,{x1:pts.a.sx,y1:pts.a.sy,x2:pts.b.sx,y2:pts.b.sy,text:dimStr(W),off:10,color:"#00AEEF",fs:7}),import_react.default.createElement(Dim,{x1:pts.b.sx,y1:pts.b.sy,x2:pts.c.sx,y2:pts.c.sy,text:dimStr(D),off:10,color:"#00AEEF",fs:7}),import_react.default.createElement(Dim,{x1:pts.f.sx,y1:pts.f.sy,x2:pts.b.sx,y2:pts.b.sy,text:dimStr(H),off:8,color:"#00AEEF",fs:7}))})(),import_react.default.createElement(Tag,{x:670,y:95,n:"B"}),import_react.default.createElement("text",{x:720,y:107,fontSize:"7",textAnchor:"middle",fill:"#555"},"ISOMETRIC VIEW B"),drawBooth(pp2,iso2,FRONT_SHADE,SIDE_SHADE,TOP_SHADE),[{p:iso(W/2,D,H/2),label:"FRONT"},{p:iso(W,D/2,H/2),label:"RIGHT"}].map((item,i)=>import_react.default.createElement("text",{key:i,x:item.p.sx,y:item.p.sy,fontSize:"8",fontWeight:"700",textAnchor:"middle",fill:"rgba(0,0,0,0.5)"},item.label)),[{p:iso2(W/2,0,H/2),label:"BACK"},{p:iso2(0,D/2,H/2),label:"LEFT"}].map((item,i)=>import_react.default.createElement("text",{key:i,x:item.p.sx,y:item.p.sy,fontSize:"8",fontWeight:"700",textAnchor:"middle",fill:"rgba(0,0,0,0.5)"},item.label)),import_react.default.createElement("rect",{x:570,y:130,width:200,height:14+finishNotes.length*16,fill:"white",stroke:"#ccc",strokeWidth:"0.8"}),import_react.default.createElement("text",{x:580,y:143,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"8",fontWeight:"700",fill:"black"},"FINISH NOTES"),import_react.default.createElement("line",{x1:570,y1:147,x2:770,y2:147,stroke:"#ccc",strokeWidth:"0.5"}),finishNotes.map((note,i)=>import_react.default.createElement("g",{key:i},import_react.default.createElement("circle",{cx:579,cy:156+i*16,r:2.5,fill:"black"}),import_react.default.createElement("text",{x:585,y:160+i*16,fontSize:"7",fill:"#222",fontFamily:"Arial,sans-serif"},note))))}function SheetDetails({layout,meta}){const{details=[]}=layout;const grid=[[60,42],[420,42],[60,320],[420,320],[60,580],[420,580]];const cellW=330,cellH=250;return import_react.default.createElement(Sheet,{meta,sheetName:"DETAILS",element:"SETUP",sheetN:6,totalSheets:6,sheetLabel:"DETAILS"},import_react.default.createElement("text",{x:"410",y:"37",fontFamily:"Arial Black,Arial,sans-serif",fontSize:"14",fontWeight:"900",textAnchor:"middle",fill:"black"},"DETAILS & SPECIFICATIONS"),details.slice(0,6).map((det,i)=>{const[cx,cy]=grid[i]||[60,42];if(!det)return null;const dW=det.w||4,dH=det.h||3;const S=Math.min((cellW-50)/dW,(cellH-60)/dH)*.8;const oX=cx+10+(cellW-50-dW*S)/2,oY=cy+28+(cellH-60-dH*S)/2;return import_react.default.createElement("g",{key:i},import_react.default.createElement("rect",{x:cx,y:cy,width:cellW,height:cellH,fill:"white",stroke:"black",strokeWidth:"0.9"}),import_react.default.createElement(Tag,{x:cx+12,y:cy+12,n:i+1,size:6}),import_react.default.createElement("text",{x:cx+24,y:cy+16,fontFamily:"Arial Black,Arial,sans-serif",fontSize:"9",fontWeight:"700",fill:"black"},(det.title||"").toUpperCase()),import_react.default.createElement("text",{x:cx+cellW-4,y:cy+16,fontSize:"6",textAnchor:"end",fill:"#555"},"SCALE: N.T.S."),import_react.default.createElement("line",{x1:cx,y1:cy+22,x2:cx+cellW,y2:cy+22,stroke:"black",strokeWidth:"0.5"}),import_react.default.createElement("rect",{x:oX,y:oY,width:dW*S,height:dH*S,fill:"#f8f8f8",stroke:"black",strokeWidth:"1.2"}),(det.elements||[]).map((el,j)=>import_react.default.createElement("g",{key:j},import_react.default.createElement("rect",{x:oX+el.x*S,y:oY+el.y*S,width:Math.max(1,el.w*S),height:Math.max(1,el.h*S),fill:el.fill||"#e0e0e0",stroke:el.stroke||"black",strokeWidth:"0.7"}),el.label&&import_react.default.createElement("text",{x:oX+(el.x+el.w/2)*S,y:oY+(el.y+el.h/2)*S,fontSize:Math.max(5,Math.min(7,el.w*S/el.label.length*1.3)),textAnchor:"middle",dominantBaseline:"middle",fill:el.stroke==="#00AEEF"?"#00AEEF":"black"},el.label))),import_react.default.createElement(Dim,{x1:oX,y1:oY+dH*S,x2:oX+dW*S,y2:oY+dH*S,text:dimStr(dW),off:12,color:"#00AEEF",fs:6}),import_react.default.createElement(Dim,{x1:oX+dW*S,y1:oY,x2:oX+dW*S,y2:oY+dH*S,text:dimStr(dH),off:-12,color:"#00AEEF",fs:6}),import_react.default.createElement("line",{x1:cx,y1:cy+cellH-38,x2:cx+cellW,y2:cy+cellH-38,stroke:"#eee",strokeWidth:"0.5"}),(det.notes||[]).slice(0,3).map((note,j)=>import_react.default.createElement("text",{key:j,x:cx+5,y:cy+cellH-30+j*10,fontSize:"6",fill:"#444"},"\u2022 ",note)))}))}function ReviewPanel({layout,setLayout,meta,setMeta,onGenerate,onBack}){const[tab,setTab]=(0,import_react.useState)("meta");const updateEl=(i,key,val)=>{const els=[...layout.elements];els[i]={...els[i],[key]:isNaN(val)?val:Number(val)};setLayout({...layout,elements:els})};const tabs=[{id:"meta",label:"Project Info"},{id:"booth",label:"Booth Dims"},{id:"elements",label:"Floor Elements"},{id:"elevations",label:"Elevations"},{id:"finishes",label:"Finish Notes"}];return import_react.default.createElement("div",{style:{maxWidth:900,margin:"0 auto",padding:"32px 24px"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:6}},"Engineering Drawings"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:28,fontWeight:800,textTransform:"uppercase"}},"Review & Adjust Layout"),import_react.default.createElement("p",{style:{fontSize:12,color:"var(--text3)",marginTop:4}},"Claude generated this layout from your estimate. Verify dimensions before generating the drawing package.")),import_react.default.createElement("div",{style:{display:"flex",gap:10}},import_react.default.createElement(Btn,{onClick:onBack},"\u2190 Back"),import_react.default.createElement(Btn,{primary:true,onClick:onGenerate},"Generate 6-Sheet Package \u2192"))),import_react.default.createElement("div",{style:{display:"flex",borderBottom:"1px solid var(--border)",marginBottom:24}},tabs.map(t=>import_react.default.createElement("button",{type:"button",key:t.id,onClick:()=>setTab(t.id),style:{background:"none",border:"none",borderBottom:`2px solid ${tab===t.id?"var(--text)":"transparent"}`,color:tab===t.id?"var(--text)":"var(--text3)",padding:"10px 16px",cursor:"pointer",fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",marginBottom:-1}},t.label))),tab==="meta"&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20}},[["Client","client"],["Show/Project","project"],["Job No.","jobNo"],["Booth No.","boothNo"],["Show Dates","showDates"],["Drawn By","drawnBy"]].map(([lbl,key])=>import_react.default.createElement("div",{key},import_react.default.createElement(Label,null,lbl),import_react.default.createElement(Input,{value:meta[key]||"",onChange:e=>setMeta({...meta,[key]:e.target.value})})))),tab==="booth"&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:20}},[["Booth Width (ft)","boothW"],["Booth Depth (ft)","boothD"],["Wall Height (ft)","wallH"]].map(([lbl,key])=>import_react.default.createElement("div",{key},import_react.default.createElement(Label,null,lbl),import_react.default.createElement(Input,{type:"number",step:"0.5",value:layout[key]||"",onChange:e=>setLayout({...layout,[key]:Number(e.target.value)})})))),tab==="elements"&&import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr 80px",gap:8,marginBottom:8}},["Label","X (ft)","Y (ft)","W (ft)","D (ft)","Type"].map(h=>import_react.default.createElement("div",{key:h,style:{fontSize:9,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)"}},h))),(layout.elements||[]).map((el,i)=>import_react.default.createElement("div",{key:i,style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr 80px",gap:8,marginBottom:6}},import_react.default.createElement(Input,{value:el.label||"",onChange:e=>updateEl(i,"label",e.target.value),style:{padding:"6px 0"}}),["x","y","w","d"].map(k=>import_react.default.createElement(Input,{key:k,type:"number",step:"0.5",value:el[k]||"",onChange:e=>updateEl(i,k,e.target.value),style:{padding:"6px 0"}})),import_react.default.createElement("select",{value:el.type||"room",onChange:e=>updateEl(i,"type",e.target.value),style:{background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:12,outline:"none"}},["room","counter","display","storage","open","glass","demo","av","door"].map(t=>import_react.default.createElement("option",{key:t,value:t,style:{background:"var(--bg3)"}},t))))),import_react.default.createElement("button",{type:"button",onClick:()=>setLayout({...layout,elements:[...layout.elements||[],{label:"NEW ELEMENT",x:0,y:0,w:4,d:4,type:"room"}]}),style:{background:"none",border:"1px dashed var(--border)",color:"var(--text3)",padding:"8px 16px",fontSize:11,cursor:"pointer",marginTop:8}},"+ Add Element")),tab==="elevations"&&import_react.default.createElement("div",null,import_react.default.createElement("p",{style:{fontSize:12,color:"var(--text3)",marginBottom:16}},"Front elevation elements (positioned from bottom-left of front wall, dimensions in feet)"),["frontElev","backElev","leftElev","rightElev"].map(elevKey=>import_react.default.createElement("div",{key:elevKey,style:{marginBottom:24}},import_react.default.createElement("div",{style:{fontSize:11,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text2)",marginBottom:8}},elevKey.replace("Elev"," Elevation")),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr 80px",gap:8,marginBottom:6}},["Label","X","Y from flr","W","H","Type"].map(h=>import_react.default.createElement("div",{key:h,style:{fontSize:8,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.12em"}},h))),(layout[elevKey]||[]).map((el,i)=>import_react.default.createElement("div",{key:i,style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr 80px",gap:8,marginBottom:6}},import_react.default.createElement(Input,{value:el.label||"",onChange:e=>{const a=[...layout[elevKey]||[]];a[i]={...a[i],label:e.target.value};setLayout({...layout,[elevKey]:a})},style:{padding:"6px 0"}}),["x","y","w","h"].map(k=>import_react.default.createElement(Input,{key:k,type:"number",step:"0.25",value:el[k]||"",onChange:e=>{const a=[...layout[elevKey]||[]];a[i]={...a[i],[k]:Number(e.target.value)};setLayout({...layout,[elevKey]:a})},style:{padding:"6px 0"}})),import_react.default.createElement("select",{value:el.type||"graphic",onChange:e=>{const a=[...layout[elevKey]||[]];a[i]={...a[i],type:e.target.value};setLayout({...layout,[elevKey]:a})},style:{background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:12,outline:"none"}},["graphic","seg","header","counter","display","opening","glass","storage"].map(t=>import_react.default.createElement("option",{key:t,value:t,style:{background:"var(--bg3)"}},t)))))))),tab==="finishes"&&import_react.default.createElement("div",null,(layout.finishNotes||[]).map((note,i)=>import_react.default.createElement("div",{key:i,style:{display:"flex",gap:8,marginBottom:8}},import_react.default.createElement(Input,{value:note,onChange:e=>{const a=[...layout.finishNotes||[]];a[i]=e.target.value;setLayout({...layout,finishNotes:a})}}),import_react.default.createElement("button",{type:"button",onClick:()=>{const a=(layout.finishNotes||[]).filter((_,idx)=>idx!==i);setLayout({...layout,finishNotes:a})},style:{background:"none",border:"1px solid rgba(255,80,80,0.3)",color:"rgba(255,80,80,0.6)",fontSize:12,padding:"0 10px",cursor:"pointer"}},"\u2715"))),import_react.default.createElement("button",{type:"button",onClick:()=>setLayout({...layout,finishNotes:[...layout.finishNotes||[],"NEW FINISH NOTE"]}),style:{background:"none",border:"1px dashed var(--border)",color:"var(--text3)",padding:"8px 16px",fontSize:11,cursor:"pointer"}},"+ Add Note")))}function EngineeringDrawings({estimate,onClose}){var _a;const[phase,setPhase]=(0,import_react.useState)("loading");const[layout,setLayout]=(0,import_react.useState)(null);const[aiError,setAiError]=(0,import_react.useState)(null);const[activeSheet,setActiveSheet]=(0,import_react.useState)(0);const tier=(_a=estimate==null?void 0:estimate.estimates)==null?void 0:_a[estimate==null?void 0:estimate.selectedTier];const jobNo=(estimate==null?void 0:estimate.quoteNumber)||"DCE-"+Math.floor(Math.random()*9e4+1e4);const boothSizeParts=((estimate==null?void 0:estimate.boothSize)||"20x20").toLowerCase().split(/x/);const bW=Number(boothSizeParts[0])||20,bD=Number(boothSizeParts[1])||20;const[meta,setMeta]=(0,import_react.useState)({client:(estimate==null?void 0:estimate.clientName)||"CLIENT",project:(estimate==null?void 0:estimate.projectName)||"PROJECT",boothSize:(estimate==null?void 0:estimate.boothSize)||"20x20",jobNo,boothNo:"TBD",revNo:"A",drawnBy:"DCE",scale:"N.T.S.",date:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),showDates:""});const generate=async()=>{setPhase("loading");setAiError(null);try{const items=((tier==null?void 0:tier.fabrication_items)||[]).map(i=>i.item).join(", ")||"Standard exhibit structure";const system=`You are a senior exhibit fabrication drafter at DreamCraft Events. Generate precise, realistic booth layout data for trade show engineering drawings. Use industry-standard exhibit design conventions. All measurements in decimal FEET. Be specific and realistic - real positions, real sizes based on booth type and client industry.`;const prompt=`Generate complete engineering drawing layout data for this exhibit:
Client: ${meta.client}
Project: ${meta.project}
Booth: ${meta.boothSize} ft
Fabrication items: ${items}
Wall height: ${bW>=30?"16":bW>=20?"12":"10"} ft typical

Return ONLY valid JSON. All coordinates in decimal feet from bottom-left (0,0). Floor plan Y=0 is front of booth.

{
  "boothW": ${bW},
  "boothD": ${bD},
  "wallH": ${bW>=30?16:bW>=20?12:10},
  "wallT": 0.5,
  "elements": [
    {"label":"RECEPTION COUNTER","x":2,"y":1,"w":6,"d":2.5,"type":"counter"},
    {"label":"STORAGE ROOM","x":${bW-8},"y":${bD-8},"w":8,"d":8,"type":"room"},
    ...more realistic elements for this booth size and industry...
  ],
  "headerElements": [
    {"label":"SEG GRAPHIC HEADER","x":0,"y":0,"w":${bW},"d":2,"type":"seg"},
    ...
  ],
  "ceilingElements": [
    {"label":"CEILING PANELS","x":2,"y":2,"w":${bW-4},"d":${bD-4},"type":"ceiling","hasCeiling":true},
    ...
  ],
  "frontElev": [
    {"label":"SEG GRAPHIC BASE","x":0,"y":0,"w":${bW},"h":1,"type":"seg"},
    {"label":"BRANDED HEADER","x":0,"y":${bW>=30?14:bW>=20?10:8},"w":${bW},"h":${bW>=30?2:bW>=20?2:2},"type":"header"},
    ...more elements at realistic positions...
  ],
  "backElev": [...],
  "leftElev": [...],
  "rightElev": [...],
  "finishNotes": [
    "ALL EXTERIOR TO BE SEG GRAPHIC PRINTED FINISH",
    "HEADER W/ SEG GRAPHIC PRINTED FINISH",
    "INTERIOR WALLS - NO GRAPHIC PRINT",
    ...4-6 more realistic notes based on items...
  ],
  "details": [
    {
      "title": "RECEPTION COUNTER",
      "w": 6, "h": 3.5,
      "elements": [
        {"x":0,"y":0,"w":6,"h":3,"label":"COUNTER BASE","fill":"#e0e0e0"},
        {"x":0.25,"y":2.5,"w":5.5,"h":0.5,"label":"COUNTERTOP","fill":"#d0d0d0"},
        {"x":0.25,"y":0.1,"w":5.5,"h":0.4,"label":"LED ACCENT STRIP","fill":"#ffffaa","stroke":"#00AEEF"}
      ],
      "notes": ["PREMIUM LAMINATE FINISH","INTEGRATED LED ACCENT LIGHTING","LOCKING STORAGE BELOW"]
    },
    ...3-5 more detail drawings for key elements...
  ]
}`;const text=await callClaude(system,prompt,4e3);const parsed=extractJSON(text);setLayout(parsed);setPhase("review")}catch(e){setAiError(e.message);setPhase("error")}};(0,import_react.useEffect)(()=>{generate()},[]);const SHEETS=[{id:"floor",label:"Floor Plan"},{id:"header",label:"Header Plan"},{id:"frontback",label:"Front/Back Elev."},{id:"leftright",label:"Left/Right Elev."},{id:"iso",label:"Isometric"},{id:"details",label:"Details"}];const exportAll=()=>{const svgs=SHEETS.map(s=>{const el=document.querySelector(`[data-sheet="${s.id}"] svg`);return el?`<div class="sheet">${el.outerHTML}</div>`:""}).filter(Boolean);const html=`<!DOCTYPE html><html><head><meta charset="utf-8"/>
    <title>DCE Engineering \u2014 ${meta.client} \u2014 ${meta.project}</title>
    <style>@page{size:17in 11in landscape;margin:0;}body{margin:0;background:#555;}
    .sheet{width:17in;height:11in;page-break-after:always;display:block;overflow:hidden;}
    .sheet svg{width:100%;height:100%;}
    @media print{body{background:white;}.sheet{page-break-after:always;}}</style>
    </head><body>${svgs.join("\n")}</body></html>`;const blob=new Blob([html],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`DCE-Engineering-${(meta.client||"").replace(/\s+/g,"-")}-${jobNo}.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)};if(phase==="loading")return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:400,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:16}},import_react.default.createElement("div",{style:{fontSize:40,animation:"spin 1.8s linear infinite"}},"\u25C8"),import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase"}},"Generating Layout"),import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text3)"}},"Claude is designing your booth layout and dimensions\u2026"));if(phase==="error")return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:400,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:16,padding:40}},import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:700}},"Layout Generation Failed"),import_react.default.createElement(ErrorBox,{msg:aiError}),import_react.default.createElement("div",{style:{display:"flex",gap:10}},import_react.default.createElement(Btn,{onClick:generate,primary:true},"Retry"),import_react.default.createElement(Btn,{onClick:onClose},"Close")));if(phase==="review")return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--bg2)",zIndex:400,overflowY:"auto"}},import_react.default.createElement("div",{style:{background:"var(--bg)",borderBottom:"1px solid var(--border)",padding:"0 24px",display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:10}},import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text2)",fontSize:18,cursor:"pointer",padding:"14px 16px 14px 0"}},"\u2715"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:16,fontWeight:800,textTransform:"uppercase",color:"var(--text)",flex:1}},meta.client," \u2014 Review Layout"),import_react.default.createElement(Btn,{onClick:generate,style:{marginRight:8}},"\u21BA Regenerate"),import_react.default.createElement(Btn,{primary:true,onClick:()=>setPhase("drawing")},"Generate Drawings \u2192")),layout&&import_react.default.createElement(ReviewPanel,{layout,setLayout,meta,setMeta,onGenerate:()=>setPhase("drawing"),onBack:onClose}));if(phase==="drawing"&&layout)return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"#222",zIndex:400,overflowY:"auto"}},import_react.default.createElement("div",{style:{background:"var(--bg)",borderBottom:"1px solid var(--border)",padding:"0 20px",display:"flex",alignItems:"center",gap:0,position:"sticky",top:0,zIndex:10}},import_react.default.createElement("button",{type:"button",onClick:()=>setPhase("review"),style:{background:"none",border:"none",color:"var(--text2)",fontSize:18,cursor:"pointer",padding:"14px 16px 14px 0"}},"\u2190"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:15,fontWeight:800,textTransform:"uppercase",color:"var(--text)",marginRight:20}},meta.client),SHEETS.map((s,i)=>import_react.default.createElement("button",{type:"button",key:s.id,onClick:()=>setActiveSheet(i),style:{background:"none",border:"none",borderBottom:`2px solid ${activeSheet===i?"var(--text)":"transparent"}`,color:activeSheet===i?"var(--text)":"var(--text3)",padding:"16px 13px",cursor:"pointer",fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"}},s.label)),import_react.default.createElement("div",{style:{flex:1}}),import_react.default.createElement("button",{type:"button",onClick:()=>setPhase("review"),style:{background:"none",border:"1px solid var(--border)",color:"var(--text2)",padding:"8px 14px",fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,fontWeight:700,letterSpacing:"0.1em",cursor:"pointer",marginRight:8,textTransform:"uppercase"}},"Edit Layout"),import_react.default.createElement(Btn,{primary:true,onClick:exportAll},"Export All 6 Sheets")),import_react.default.createElement("div",{style:{padding:"16px 20px"}},import_react.default.createElement("div",{style:{background:"white",boxShadow:"0 4px 40px rgba(0,0,0,0.7)",maxWidth:1100},"data-sheet":SHEETS[activeSheet].id},activeSheet===0&&import_react.default.createElement(SheetFloorPlan,{layout,meta}),activeSheet===1&&import_react.default.createElement(SheetHeaderPlan,{layout,meta}),activeSheet===2&&import_react.default.createElement(SheetFrontBack,{layout,meta}),activeSheet===3&&import_react.default.createElement(SheetLeftRight,{layout,meta}),activeSheet===4&&import_react.default.createElement(SheetIsometric,{layout,meta}),activeSheet===5&&import_react.default.createElement(SheetDetails,{layout,meta})),import_react.default.createElement("div",{style:{marginTop:10,fontSize:11,color:"var(--text3)",textAlign:"center"}},"Sheet ",activeSheet+1," of ",SHEETS.length,' \xB7 Click "Edit Layout" to adjust dimensions \xB7 "Export All 6 Sheets" downloads printable 17\xD711" HTML')));return null}var QUOTE_STORAGE="dce_quotes_v1";var UNION_RATES={"las vegas":{local:"IATSE 720 / Teamsters 631",stStraight:85,stOT:127.5,stDT:170,laborNote:"LV Convention Center \u2013 IATSE 720 jurisdiction. 8hr straight, 1.5x after 8, 2x Sundays/holidays."},"las vegas nv":{local:"IATSE 720 / Teamsters 631",stStraight:85,stOT:127.5,stDT:170,laborNote:"LV Convention Center \u2013 IATSE 720 jurisdiction."},"chicago":{local:"IATSE 2 / Teamsters 727",stStraight:92,stOT:138,stDT:184,laborNote:"Chicago \u2013 IATSE Local 2. 8hr straight, 1.5x after, 2x Sundays."},"chicago il":{local:"IATSE 2 / Teamsters 727",stStraight:92,stOT:138,stDT:184,laborNote:"Chicago \u2013 IATSE Local 2."},"new york":{local:"IATSE 1 / Teamsters 817",stStraight:105,stOT:157.5,stDT:210,laborNote:"NYC \u2013 IATSE Local 1. Highest jurisdiction rates."},"new york ny":{local:"IATSE 1 / Teamsters 817",stStraight:105,stOT:157.5,stDT:210,laborNote:"NYC \u2013 IATSE Local 1."},"orlando":{local:"IATSE 631",stStraight:72,stOT:108,stDT:144,laborNote:"Orlando \u2013 IATSE 631. Orange County Convention Center jurisdiction."},"orlando fl":{local:"IATSE 631",stStraight:72,stOT:108,stDT:144,laborNote:"Orlando \u2013 IATSE 631."},"san francisco":{local:"IATSE 16",stStraight:98,stOT:147,stDT:196,laborNote:"SF/Moscone \u2013 IATSE 16. High-cost jurisdiction."},"anaheim":{local:"IATSE 504 / Teamsters 986",stStraight:78,stOT:117,stDT:156,laborNote:"Anaheim \u2013 IATSE 504. Anaheim Convention Center."},"anaheim ca":{local:"IATSE 504 / Teamsters 986",stStraight:78,stOT:117,stDT:156,laborNote:"Anaheim \u2013 IATSE 504."},"boston":{local:"IATSE 11",stStraight:94,stOT:141,stDT:188,laborNote:"Boston \u2013 IATSE 11. BCEC jurisdiction."},"dallas":{local:"IATSE 127 / Teamsters 745",stStraight:68,stOT:102,stDT:136,laborNote:"Dallas \u2013 IATSE 127. Kay Bailey Hutchison."},"houston":{local:"IATSE 51 / Teamsters 988",stStraight:65,stOT:97.5,stDT:130,laborNote:"Houston \u2013 IATSE 51."},"atlanta":{local:"IATSE 835 / Teamsters 728",stStraight:70,stOT:105,stDT:140,laborNote:"Atlanta \u2013 IATSE 835. GWCC."},"philadelphia":{local:"IATSE 8 / Teamsters 107",stStraight:90,stOT:135,stDT:180,laborNote:"Philadelphia \u2013 IATSE 8."},"detroit":{local:"IATSE 38 / Teamsters 299",stStraight:82,stOT:123,stDT:164,laborNote:"Detroit \u2013 IATSE 38. Cobo/TCF Bank."},"denver":{local:"IATSE 7 / Teamsters 455",stStraight:74,stOT:111,stDT:148,laborNote:"Denver \u2013 IATSE 7. CCCV."},"seattle":{local:"IATSE 15 / Teamsters 174",stStraight:88,stOT:132,stDT:176,laborNote:"Seattle \u2013 IATSE 15. WSCC."},"minneapolis":{local:"IATSE 13 / Teamsters 120",stStraight:76,stOT:114,stDT:152,laborNote:"Minneapolis \u2013 IATSE 13."},"non-union":{local:"Non-Union",stStraight:55,stOT:82.5,stDT:110,laborNote:"Non-union labor. Standard OT rules may apply."}};var NON_UNION_RATE={local:"Non-Union",stStraight:55,stOT:82.5,stDT:110,laborNote:"Non-union labor."};var isWeekend=dateStr=>{if(!dateStr)return false;const d=new Date(dateStr+"T12:00:00");return d.getDay()===0||d.getDay()===6};function sanitizeQuote(q){if(!q)return null;return{...q,sections:Array.isArray(q.sections)?q.sections:[],laborSections:Array.isArray(q.laborSections)?q.laborSections:[],changeOrders:Array.isArray(q.changeOrders)?q.changeOrders:[]}}function loadQuotes(){try{const raw=JSON.parse(localStorage.getItem(QUOTE_STORAGE)||"[]");return raw.map(sanitizeQuote).filter(Boolean)}catch{return[]}}function saveQuotes(arr){const clean=(arr||[]).map(sanitizeQuote).filter(Boolean);try{localStorage.setItem(QUOTE_STORAGE,JSON.stringify(clean))}catch{}sbSaveAll("quotes",clean)}var TAX_RATE=.0775;var SECTION_TYPES=["Fabrication","Graphics","Installation","Dismantle","Shipping","AV/Tech","Storage","Rental","Misc"];function blankQuote(fromEstimate){var _a;const est=fromEstimate;const tier=(_a=est==null?void 0:est.estimates)==null?void 0:_a[est==null?void 0:est.selectedTier];const items=(tier==null?void 0:tier.fabrication_items)||[];return{id:genId(),quoteNumber:`DCE-Q-${Math.floor(Math.random()*9e4+1e4)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),title:est?`${est.projectName||""} \u2014 Quote`:"",clientName:(est==null?void 0:est.clientName)||"",clientEmail:"",projectName:(est==null?void 0:est.projectName)||"",showName:"",boothNumber:"",venue:"",city:"",laborType:"non-union",installStart:"",installEnd:"",dismantleStart:"",dismantleEnd:"",showStart:"",showEnd:"",shipDate:"",status:"draft",sections:items.length>0?[{id:genId(),title:"Fabrication",type:"Fabrication",notes:"",photos:[],lineItems:items.map(it=>({id:genId(),description:it.item,qty:it.qty||1,unitPrice:it.unit_cost||0,category:"Fabrication",taxable:true}))}]:[{id:genId(),title:"Section 1",type:"Fabrication",notes:"",photos:[],lineItems:[{id:genId(),description:"",qty:1,unitPrice:0,category:"Fabrication",taxable:true}]}],laborSections:[],notes:est?`Project: ${est.projectName||""}
Booth: ${est.boothSize||""}
`:"",changeOrders:[],estimateId:(est==null?void 0:est.id)||null}}function calcLaborSection(section,rates){const{workersPerDay=4,startTime="07:00",endTime="17:00",dates=[],laborType="non-union"}=section;const r=rates||NON_UNION_RATE;const startH=parseInt(startTime.split(":")[0]);const endH=parseInt(endTime.split(":")[0]);const totalHours=Math.max(0,endH-startH);const straightH=Math.min(totalHours,8);const otH=totalHours>8?Math.min(totalHours-8,4):0;const dtH=totalHours>12?totalHours-12:0;let total=0;const breakdown=dates.map(d=>{const weekend=isWeekend(d);const dtRate=weekend?r.stDT:r.stDT;const workers=workersPerDay;const cost=workers*((weekend?0:straightH)*r.stStraight+(weekend?0:otH)*r.stOT+(weekend?totalHours:dtH)*dtRate);total+=cost;return{date:d,workers,hours:totalHours,cost,weekend}});return{breakdown,total,rate:r,straightH,otH,dtH}}function ChangeOrderModal({quote,onSave,onClose}){const[desc,setDesc]=(0,import_react.useState)("");const[amount,setAmount]=(0,import_react.useState)("");const[email,setEmail]=(0,import_react.useState)(quote.clientEmail||"");const[coDate,setCoDate]=(0,import_react.useState)(new Date().toISOString().slice(0,10));const[coTime,setCoTime]=(0,import_react.useState)(new Date().toTimeString().slice(0,5));const[images,setImages]=(0,import_react.useState)([]);const[sending,setSending]=(0,import_react.useState)(false);const[sent,setSent]=(0,import_react.useState)(false);const[savedCo,setSavedCo]=(0,import_react.useState)(null);const fileRef=(0,import_react.useRef)();const handleImages=e=>{Array.from(e.target.files).forEach(f=>{if(images.length>=6)return;const reader=new FileReader;reader.onload=ev=>setImages(prev=>prev.length<6?[...prev,{id:genId(),name:f.name,data:ev.target.result}]:prev);reader.readAsDataURL(f)})};const removeImage=id=>setImages(imgs=>imgs.filter(i=>i.id!==id));const buildCo=()=>({id:genId(),desc,amount:Number(amount),email,status:"pending",coDate,coTime,images,createdAt:new Date().toISOString()});const saveOnly=()=>{if(!desc.trim())return;const co=buildCo();onSave(co);setSavedCo(co);setSent(true)};const sendCO=()=>{if(!desc.trim()||!amount)return;const co=buildCo();setSending(true);const subject=encodeURIComponent(`Change Order Approval: ${quote.title||quote.quoteNumber}`);const approveText=`[APPROVE: ${co.id}]`;const dateStr=coDate&&coTime?`
DATE/TIME: ${coDate} at ${coTime}`:coDate?`
DATE: ${coDate}`:"";const body=encodeURIComponent(`Hello,

Please review the following change order for ${quote.title||quote.quoteNumber}:

DESCRIPTION: ${desc}`+dateStr+`
AMOUNT: $${Number(amount).toLocaleString()}

`+(images.length>0?`ATTACHMENTS: ${images.length} image(s) attached separately.

`:"")+`To APPROVE, reply with: ${approveText}
To RESPOND WITH COMMENTS, simply reply to this email.

DreamCraft Events | dce-usa.com`);const mailto=`mailto:${email}?subject=${subject}&body=${body}`;window.open(mailto,"_blank");onSave(co);setSavedCo(co);setSent(true);setSending(false)};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:500,display:"flex",alignItems:"center",justifyContent:"center",padding:20,overflowY:"auto"}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",maxWidth:580,width:"100%",padding:36,margin:"auto"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24}},import_react.default.createElement(BC,{style:{fontSize:20,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"var(--text)"}},"Change Order"),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text3)",fontSize:18,cursor:"pointer"}},"\u2715")),sent?import_react.default.createElement("div",{style:{textAlign:"center",padding:"24px 0"}},import_react.default.createElement("div",{style:{fontSize:36,marginBottom:12}},"\u2713"),import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:700,color:"var(--text)"}},(savedCo==null?void 0:savedCo.email)?"Change Order Sent":"Change Order Saved"),import_react.default.createElement("p",{style:{fontSize:13,color:"var(--text2)",marginTop:8,lineHeight:1.6}},(savedCo==null?void 0:savedCo.email)?import_react.default.createElement(import_react.default.Fragment,null,"Your mail client opened with the approval request. Once ",savedCo.email," replies with [APPROVE: ",savedCo.id.slice(0,8),"], mark it approved in the CO log."):import_react.default.createElement(import_react.default.Fragment,null,"Change order saved to the log. You can update its status below.")),import_react.default.createElement(Btn,{primary:true,onClick:onClose,style:{marginTop:20}},"Done")):import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("div",{style:{marginBottom:18}},import_react.default.createElement(Label,null,"Description of Change *"),import_react.default.createElement("textarea",{value:desc,onChange:e=>setDesc(e.target.value),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"10px 12px",resize:"vertical",minHeight:80,outline:"none",fontFamily:"inherit"},placeholder:"Describe the change, reason, and any materials or scope involved\u2026"})),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:18}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Amount ($)"),import_react.default.createElement(Input,{type:"number",value:amount,onChange:e=>setAmount(e.target.value),placeholder:"0.00"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Client Email"),import_react.default.createElement(Input,{type:"email",value:email,onChange:e=>setEmail(e.target.value),placeholder:"client@company.com"}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:18}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Date"),import_react.default.createElement("input",{type:"date",value:coDate,onChange:e=>setCoDate(e.target.value),style:{width:"100%",padding:"9px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",fontFamily:"inherit",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Time"),import_react.default.createElement("input",{type:"time",value:coTime,onChange:e=>setCoTime(e.target.value),style:{width:"100%",padding:"9px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",fontFamily:"inherit",colorScheme:"dark"}}))),import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement(Label,null,"Supporting Images ",import_react.default.createElement("span",{style:{color:"var(--text4)",fontWeight:400,textTransform:"none",letterSpacing:0}},"(optional \xB7 up to 6)")),import_react.default.createElement("input",{ref:fileRef,type:"file",accept:"image/*",multiple:true,style:{display:"none"},onChange:handleImages}),images.length<6&&import_react.default.createElement("button",{type:"button",onClick:()=>{var _a;return(_a=fileRef.current)==null?void 0:_a.click()},style:{width:"100%",padding:"14px",border:"1px dashed var(--border)",background:"var(--input-bg)",color:"var(--text3)",cursor:"pointer",fontSize:12,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:images.length>0?10:0}},import_react.default.createElement("span",{style:{fontSize:18,lineHeight:1}},"+")," Attach photos, sketches, or reference images"),images.length>0&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(100px,1fr))",gap:8}},images.map(img=>import_react.default.createElement("div",{key:img.id,style:{position:"relative",aspectRatio:"4/3",overflow:"hidden",border:"1px solid var(--border2)"}},import_react.default.createElement("img",{src:img.data,alt:img.name,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),import_react.default.createElement("button",{type:"button",onClick:()=>removeImage(img.id),style:{position:"absolute",top:3,right:3,width:18,height:18,background:"rgba(0,0,0,0.7)",border:"none",color:"#fff",fontSize:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2}},"\u2715"),import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"3px 5px",background:"rgba(0,0,0,0.6)",fontSize:8,color:"rgba(255,255,255,0.8)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},img.name))))),import_react.default.createElement("div",{style:{background:"rgba(255,200,80,0.07)",border:"1px solid rgba(255,200,80,0.25)",padding:"10px 14px",marginBottom:20,fontSize:12,color:"rgba(200,150,0,1)"}},'\u26A0 "Send for Approval" opens your email client pre-filled with this CO. Images must be attached manually before sending. Reply with [APPROVE: ID] to approve.'),import_react.default.createElement("div",{style:{display:"flex",gap:10}},import_react.default.createElement(Btn,{onClick:onClose,style:{flex:1}},"Cancel"),import_react.default.createElement(Btn,{onClick:saveOnly,style:{flex:1}},"Save to Log"),import_react.default.createElement(Btn,{primary:true,onClick:sendCO,style:{flex:2}},"Send for Approval \u2192")))))}function UnionLaborPanel({quote,onUpdate}){const[lookingUp,setLookingUp]=(0,import_react.useState)(false);const[jurisdictionInfo,setJurisdictionInfo]=(0,import_react.useState)(quote.jurisdictionInfo||null);const cityKey=(quote.city||"").toLowerCase().trim();const isUnion=quote.laborType==="union";const findRates=city=>{if(!city)return null;const k=city.toLowerCase().trim();if(UNION_RATES[k])return UNION_RATES[k];const match=Object.keys(UNION_RATES).find(r=>k.includes(r));return match?UNION_RATES[match]:null};const rates=isUnion?findRates(quote.city)||(jurisdictionInfo?{local:jurisdictionInfo.local,stStraight:jurisdictionInfo.stStraight,stOT:jurisdictionInfo.stOT,stDT:jurisdictionInfo.stDT,laborNote:jurisdictionInfo.laborNote}:null):NON_UNION_RATE;const lookupJurisdiction=async()=>{if(!quote.city||!quote.venue)return;setLookingUp(true);try{const text=await callClaude("You are an expert in US trade show labor union jurisdictions. Return ONLY valid JSON, no markdown.",`What is the union labor jurisdiction for this event location?
Venue: ${quote.venue}
City: ${quote.city}

Return JSON:
{
  "local": "IATSE Local XXX / Teamsters Local XXX",
  "unionRequired": true or false,
  "stStraight": hourly straight time rate in dollars (number),
  "stOT": overtime rate (number),
  "stDT": double time rate (number),
  "laborNote": "1-2 sentence explanation of jurisdiction rules and show site",
  "confidence": "high" or "medium" or "low"
}`,800);const info=extractJSON(text);setJurisdictionInfo(info);onUpdate({jurisdictionInfo:info})}catch(e){console.warn("Jurisdiction lookup failed:",e)}setLookingUp(false)};const setLaborType=t=>onUpdate({laborType:t});const addLaborSection=()=>{const ls={id:genId(),label:"Install Labor",workersPerDay:4,startTime:"07:00",endTime:"17:00",dates:[],notes:""};onUpdate({laborSections:[...quote.laborSections||[],ls]})};const updLS=(i,key,val)=>{const ls=(quote.laborSections||[]).map((s,idx)=>idx===i?{...s,[key]:val}:s);onUpdate({laborSections:ls})};const toggleDate=(i,date)=>{const ls=quote.laborSections[i];const dates=ls.dates.includes(date)?ls.dates.filter(d=>d!==date):[...ls.dates,date];updLS(i,"dates",dates)};const installDates=[];if(quote.installStart){const s=new Date(quote.installStart+"T12:00:00"),e=new Date((quote.installEnd||quote.installStart)+"T12:00:00");for(let d=new Date(s);d<=e;d.setDate(d.getDate()+1)){installDates.push(d.toISOString().slice(0,10))}}const dismantleDates=[];if(quote.dismantleStart){const s=new Date(quote.dismantleStart+"T12:00:00"),e=new Date((quote.dismantleEnd||quote.dismantleStart)+"T12:00:00");for(let d=new Date(s);d<=e;d.setDate(d.getDate()+1))dismantleDates.push(d.toISOString().slice(0,10))}const allWorkDates=[...new Set([...installDates,...dismantleDates])].sort();return import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border2)",paddingTop:24,marginTop:8}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}},import_react.default.createElement(BC,{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"}},"Labor"),import_react.default.createElement("div",{style:{display:"flex",gap:12,alignItems:"center"}},import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)"}},"Labor Type:"),["non-union","union"].map(t=>import_react.default.createElement("button",{type:"button",key:t,onClick:()=>setLaborType(t),style:{padding:"5px 14px",background:quote.laborType===t?"var(--btn-pri)":"var(--btn-bg)",border:"1px solid var(--border)",color:quote.laborType===t?"var(--btn-pri-text)":"var(--btn-text)",fontSize:10,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer"}},t)))),import_react.default.createElement("div",{style:{display:"flex",gap:10,alignItems:"flex-end",marginBottom:16}},import_react.default.createElement("div",{style:{flex:2}},import_react.default.createElement(Label,null,"Venue / Convention Center"),import_react.default.createElement(LocationAutocomplete,{value:quote.venue||"",onChange:v=>onUpdate({venue:v}),onSelect:({cityState,zip})=>{const patch={venue:quote.venue};if(cityState&&!quote.city)patch.city=cityState;if(zip)patch.zip=zip;onUpdate(patch)},placeholder:"e.g. Las Vegas Convention Center"})),import_react.default.createElement("div",{style:{flex:2}},import_react.default.createElement(Label,null,"City, State"),import_react.default.createElement(LocationAutocomplete,{value:quote.city||"",onChange:v=>onUpdate({city:v}),onSelect:({cityState,zip})=>{const patch={city:cityState};if(zip)patch.zip=zip;onUpdate(patch)},placeholder:"e.g. Las Vegas, NV"})),import_react.default.createElement("div",{style:{flex:"0 0 90px"}},import_react.default.createElement(Label,null,"ZIP Code"),import_react.default.createElement(Input,{value:quote.zip||"",onChange:e=>onUpdate({zip:e.target.value}),placeholder:"89101",style:{textAlign:"center"}})),import_react.default.createElement("button",{type:"button",onClick:lookupJurisdiction,disabled:lookingUp||!quote.city&&!quote.venue,style:{padding:"9px 16px",background:lookingUp?"rgba(0,174,239,0.1)":"rgba(0,174,239,0.15)",border:"1px solid rgba(0,174,239,0.4)",color:"rgba(0,174,239,0.9)",fontSize:10,fontWeight:700,letterSpacing:"0.1em",cursor:"pointer",whiteSpace:"nowrap",opacity:!quote.city&&!quote.venue?.4:1}},lookingUp?"Looking up\u2026":"\u26A1 Lookup Jurisdiction")),rates&&isUnion&&import_react.default.createElement("div",{style:{background:"rgba(0,174,239,0.06)",border:"1px solid rgba(0,174,239,0.2)",padding:"12px 14px",marginBottom:16,fontSize:12}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:4}},import_react.default.createElement("div",{style:{fontWeight:700,color:"rgba(0,174,239,0.9)"}},rates.local),(jurisdictionInfo==null?void 0:jurisdictionInfo.unionRequired)!==void 0&&import_react.default.createElement("div",{style:{fontSize:10,fontWeight:700,padding:"2px 8px",background:jurisdictionInfo.unionRequired?"rgba(255,100,100,0.15)":"rgba(100,220,100,0.15)",border:`1px solid ${jurisdictionInfo.unionRequired?"rgba(255,100,100,0.4)":"rgba(100,220,100,0.4)"}`,color:jurisdictionInfo.unionRequired?"rgba(255,120,120,0.9)":"rgba(100,220,100,0.9)"}},jurisdictionInfo.unionRequired?"UNION REQUIRED":"UNION OPTIONAL")),import_react.default.createElement("div",{style:{color:"var(--text2)",marginBottom:8}},rates.laborNote),import_react.default.createElement("div",{style:{display:"flex",gap:20,fontSize:11,color:"var(--text2)"}},import_react.default.createElement("span",null,"Straight Time: ",import_react.default.createElement("b",{style:{color:"var(--text)"}},"$",rates.stStraight,"/hr")),import_react.default.createElement("span",null,"Overtime (1.5x): ",import_react.default.createElement("b",{style:{color:"var(--text)"}},"$",rates.stOT,"/hr")),import_react.default.createElement("span",null,"Double Time (2x): ",import_react.default.createElement("b",{style:{color:"var(--text)"}},"$",rates.stDT,"/hr"))),(jurisdictionInfo==null?void 0:jurisdictionInfo.confidence)==="low"&&import_react.default.createElement("div",{style:{marginTop:8,fontSize:11,color:"rgba(255,200,80,0.7)"}},"\u26A0 Low confidence estimate \u2014 verify rates with local union hall")),isUnion&&!rates&&!quote.city&&import_react.default.createElement("div",{style:{background:"rgba(255,200,80,0.06)",border:"1px solid rgba(255,200,80,0.2)",padding:"10px 14px",marginBottom:16,fontSize:12,color:"rgba(255,200,80,0.8)"}},'Enter venue and city above, then click "Lookup Jurisdiction" to get union rates for this location.'),isUnion&&!rates&&quote.city&&import_react.default.createElement("div",{style:{background:"rgba(255,200,80,0.06)",border:"1px solid rgba(255,200,80,0.2)",padding:"10px 14px",marginBottom:16,fontSize:12,color:"rgba(255,200,80,0.8)"}},'\u26A0 No rate data found for "',quote.city,'" in our table. Click "\u26A1 Lookup Jurisdiction" to have Claude look it up.'),(quote.laborSections||[]).map((ls,i)=>{const r=rates||NON_UNION_RATE;const calc=calcLaborSection(ls,r);return import_react.default.createElement("div",{key:ls.id,style:{border:"1px solid var(--border2)",padding:16,marginBottom:12}},import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"2fr 100px 100px 100px 80px",gap:12,marginBottom:12,alignItems:"end"}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Section Label"),import_react.default.createElement(Input,{value:ls.label,onChange:e=>updLS(i,"label",e.target.value)})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Workers/Day"),import_react.default.createElement(Input,{type:"number",min:1,max:50,value:ls.workersPerDay,onChange:e=>updLS(i,"workersPerDay",Number(e.target.value))})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Start Time"),import_react.default.createElement(Input,{type:"time",value:ls.startTime,onChange:e=>updLS(i,"startTime",e.target.value)})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"End Time"),import_react.default.createElement(Input,{type:"time",value:ls.endTime,onChange:e=>updLS(i,"endTime",e.target.value)})),import_react.default.createElement("div",{style:{paddingBottom:4}},import_react.default.createElement("button",{type:"button",onClick:()=>onUpdate({laborSections:(quote.laborSections||[]).filter((_,idx)=>idx!==i)}),style:{background:"none",border:"1px solid rgba(255,80,80,0.3)",color:"rgba(255,80,80,0.6)",fontSize:11,padding:"6px 10px",cursor:"pointer",width:"100%"}},"Remove"))),allWorkDates.length>0&&import_react.default.createElement("div",{style:{marginBottom:10}},import_react.default.createElement(Label,null,"Select Work Days"),import_react.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6}},allWorkDates.map(d=>{const sel=ls.dates.includes(d);const wk=isWeekend(d);return import_react.default.createElement("button",{type:"button",key:d,onClick:()=>toggleDate(i,d),style:{padding:"4px 10px",background:sel?wk?"rgba(255,80,80,0.3)":"rgba(255,255,255,0.12)":"transparent",border:`1px solid ${wk?"rgba(255,80,80,0.4)":"rgba(255,255,255,0.2)"}`,color:wk?"rgba(255,120,120,0.9)":"rgba(255,255,255,0.7)",fontSize:11,cursor:"pointer"}},d," ",wk?"\u26A0":"")}))),ls.dates.length>0&&import_react.default.createElement("div",{style:{background:"var(--card-hover)",padding:"8px 12px",fontSize:12}},import_react.default.createElement("div",{style:{display:"flex",gap:20,color:"var(--text2)",marginBottom:4}},import_react.default.createElement("span",null,ls.workersPerDay," workers \xD7 ",calc.straightH,"h ST + ",calc.otH,"h OT + ",calc.dtH,"h DT per day")),calc.breakdown.map((b,j)=>import_react.default.createElement("div",{key:j,style:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid var(--border2)",padding:"3px 0",fontSize:11}},import_react.default.createElement("span",{style:{color:b.weekend?"rgba(255,120,120,0.8)":""}},b.date," ",b.weekend?"(WEEKEND - DT RATES)":""),import_react.default.createElement("span",{style:{fontWeight:600}},fmt(b.cost)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:6,fontWeight:700}},import_react.default.createElement("span",null,"LABOR SUBTOTAL"),import_react.default.createElement("span",null,fmt(calc.total)))))}),import_react.default.createElement("button",{type:"button",onClick:addLaborSection,style:{background:"none",border:"1px dashed var(--border)",color:"var(--text3)",padding:"8px 16px",fontSize:11,cursor:"pointer",width:"100%",marginTop:4}},"+ Add Labor Section"))}function QuoteSection({section,sectionIdx,updateSection,removeSection,moveSection,totalSections}){const updItem=(j,key,val)=>{const items=section.lineItems.map((it,idx)=>idx===j?{...it,[key]:isNaN(val)?val:Number(val)}:it);updateSection({...section,lineItems:items})};const addItem=()=>updateSection({...section,lineItems:[...section.lineItems,{id:genId(),description:"",qty:1,unitPrice:0,category:section.type,taxable:true}]});const removeItem=j=>updateSection({...section,lineItems:section.lineItems.filter((_,idx)=>idx!==j)});const sectionTotal=section.lineItems.reduce((s,it)=>s+(Number(it.qty)||0)*(Number(it.unitPrice)||0),0);const handlePhoto=e=>{const files=Array.from(e.target.files);files.forEach(f=>{const reader=new FileReader;reader.onload=ev=>updateSection({...section,photos:[...section.photos||[],{id:genId(),name:f.name,data:ev.target.result}]});reader.readAsDataURL(f)})};return import_react.default.createElement("div",{style:{border:"1px solid var(--border)",marginBottom:16}},import_react.default.createElement("div",{style:{background:"var(--card-hover)",padding:"12px 16px",display:"flex",alignItems:"center",gap:12}},import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:12,cursor:"move"}},"\u283F"),import_react.default.createElement("input",{value:section.title,onChange:e=>updateSection({...section,title:e.target.value}),style:{background:"none",border:"none",color:"var(--text)",fontFamily:"'Barlow Condensed',sans-serif",fontSize:15,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",flex:1,outline:"none"}}),import_react.default.createElement("select",{value:section.type,onChange:e=>updateSection({...section,type:e.target.value}),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:"var(--text2)",fontSize:11,padding:"4px 8px",outline:"none"}},SECTION_TYPES.map(t=>import_react.default.createElement("option",{key:t,value:t,style:{background:"var(--bg3)"}},t))),import_react.default.createElement("div",{style:{display:"flex",gap:6}},sectionIdx>0&&import_react.default.createElement("button",{type:"button",onClick:()=>moveSection(sectionIdx,-1),style:{background:"none",border:"none",color:"var(--text3)",cursor:"pointer",fontSize:14}},"\u2191"),sectionIdx<totalSections-1&&import_react.default.createElement("button",{type:"button",onClick:()=>moveSection(sectionIdx,1),style:{background:"none",border:"none",color:"var(--text3)",cursor:"pointer",fontSize:14}},"\u2193"),import_react.default.createElement("button",{type:"button",onClick:removeSection,style:{background:"none",border:"none",color:"rgba(255,80,80,0.5)",cursor:"pointer",fontSize:14}},"\u2715"))),import_react.default.createElement("div",{style:{padding:16}},import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"3fr 80px 110px 100px 36px",gap:8,marginBottom:6}},["Description","Qty","Unit Price","Total",""].map(h=>import_react.default.createElement("div",{key:h,style:{fontSize:8,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase",color:"var(--text3)"}},h))),section.lineItems.map((item,j)=>import_react.default.createElement("div",{key:item.id,style:{display:"grid",gridTemplateColumns:"3fr 80px 110px 100px 36px",gap:8,marginBottom:6,alignItems:"center"}},import_react.default.createElement("input",{value:item.description,onChange:e=>updItem(j,"description",e.target.value),placeholder:"Line item description\u2026",style:{background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:12,padding:"7px 10px",outline:"none",width:"100%"}}),import_react.default.createElement("input",{type:"number",min:0,value:item.qty,onChange:e=>updItem(j,"qty",e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:12,padding:"7px 8px",outline:"none",width:"100%",textAlign:"center"}}),import_react.default.createElement("input",{type:"number",min:0,step:"0.01",value:item.unitPrice,onChange:e=>updItem(j,"unitPrice",e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:12,padding:"7px 8px",outline:"none",width:"100%"}}),import_react.default.createElement("div",{style:{fontSize:12,fontWeight:600,textAlign:"right",paddingRight:4}},fmt(item.qty*item.unitPrice)),import_react.default.createElement("button",{type:"button",onClick:()=>removeItem(j),style:{background:"none",border:"none",color:"rgba(255,80,80,0.4)",cursor:"pointer",fontSize:13}},"\u2715"))),import_react.default.createElement("div",{style:{display:"flex",gap:8,marginTop:4,alignItems:"center"}},import_react.default.createElement("button",{type:"button",onClick:addItem,style:{background:"none",border:"1px dashed var(--border2)",color:"var(--text3)",padding:"6px 14px",fontSize:11,cursor:"pointer"}},"+ Add Line Item"),section.type==="Rental"&&import_react.default.createElement("button",{type:"button",onClick:()=>updateSection({...section,_showInventoryPicker:true}),style:{background:"rgba(0,174,239,0.08)",border:"1px solid rgba(0,174,239,0.3)",color:"rgba(0,174,239,0.8)",padding:"6px 14px",fontSize:11,cursor:"pointer",fontWeight:700}},"\u{1F4E6} Browse Inventory")),section._showInventoryPicker&&import_react.default.createElement(InventoryPicker,{onSelect:item=>{updateSection({...section,_showInventoryPicker:false,lineItems:[...section.lineItems,item]})},onClose:()=>updateSection({...section,_showInventoryPicker:false})}),import_react.default.createElement("div",{style:{marginTop:14}},import_react.default.createElement("textarea",{value:section.notes,onChange:e=>updateSection({...section,notes:e.target.value}),placeholder:"Section notes (specifications, terms, or descriptive text)\u2026",style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text2)",fontSize:12,padding:"8px 10px",resize:"vertical",minHeight:60,outline:"none"}})),import_react.default.createElement("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8,alignItems:"center"}},(section.photos||[]).map(ph=>import_react.default.createElement("div",{key:ph.id,style:{position:"relative",width:72,height:72}},import_react.default.createElement("img",{src:ph.data,alt:ph.name,style:{width:72,height:72,objectFit:"cover",border:"1px solid var(--border2)"}}),import_react.default.createElement("button",{type:"button",onClick:()=>updateSection({...section,photos:section.photos.filter(p=>p.id!==ph.id)}),style:{position:"absolute",top:-6,right:-6,background:"rgba(255,0,0,0.7)",border:"none",color:"var(--text)",width:16,height:16,fontSize:9,cursor:"pointer",borderRadius:"50%",lineHeight:"16px"}},"\u2715"))),import_react.default.createElement("label",{style:{width:72,height:72,border:"1px dashed var(--border)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text3)",fontSize:20}},"+",import_react.default.createElement("input",{type:"file",accept:"image/*",multiple:true,onChange:handlePhoto,style:{display:"none"}}))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10,paddingTop:8,borderTop:"1px solid var(--border2)"}},import_react.default.createElement("span",{style:{fontSize:12,color:"var(--text2)",marginRight:16}},"Section Total:"),import_react.default.createElement("span",{style:{fontSize:13,fontWeight:700}},fmt(sectionTotal)))))}function exportToQBO(quote){const lines=["!TRNS	TRNSTYPE	DATE	ACCNT	NAME	AMOUNT	DOCNUM	MEMO","!SPL	TRNSTYPE	DATE	ACCNT	NAME	AMOUNT	QNTY	PRICE	INVITEM	MEMO","!ENDTRNS"];const today=new Date().toLocaleDateString("en-US");const total=quote.sections.reduce((s,sec)=>s+sec.lineItems.reduce((ss,it)=>ss+it.qty*it.unitPrice,0),0);lines.push(`TRNS	ESTIMATE	${today}	Accounts Receivable	${quote.clientName}	${total.toFixed(2)}	${quote.quoteNumber}	${quote.projectName}`);quote.sections.forEach(sec=>{sec.lineItems.forEach(it=>{if(!it.description||!it.unitPrice)return;lines.push(`SPL	ESTIMATE	${today}	Income	${quote.clientName}	${-(it.qty*it.unitPrice).toFixed(2)}	${it.qty}	${it.unitPrice.toFixed(2)}	${sec.type}	${it.description}`)})});lines.push("ENDTRNS");const blob=new Blob([lines.join("\n")],{type:"text/plain"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`${quote.quoteNumber}-QBO.iif`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)}function exportQuoteHTML(quote){const sections=quote.sections.map(sec=>{const rows=sec.lineItems.map(it=>`<tr><td style="padding:8px 12px;font-size:12px">${it.description}</td><td style="padding:8px 12px;font-size:12px;text-align:center">${it.qty}</td><td style="padding:8px 12px;font-size:12px;text-align:right">$${Number(it.unitPrice).toFixed(2)}</td><td style="padding:8px 12px;font-size:12px;text-align:right;font-weight:600">$${(it.qty*it.unitPrice).toFixed(2)}</td></tr>`).join("");return`<div style="margin-bottom:32px">
      <div style="background:#111;color:#fff;padding:10px 14px;display:flex;justify-content:space-between">
        <span style="font-family:Arial Black,sans-serif;font-size:12px;font-weight:900;text-transform:uppercase;letter-spacing:0.05em">${sec.title}</span>
        <span style="font-size:11px;color:#aaa">${sec.type}</span>
      </div>
      <table style="width:100%;border-collapse:collapse;border:1px solid #eee">
        <thead><tr style="background:#f5f5f5"><th style="padding:8px 12px;font-size:10px;text-align:left;font-weight:700;text-transform:uppercase;letter-spacing:0.08em">Description</th><th style="padding:8px 12px;font-size:10px;text-align:center;font-weight:700">Qty</th><th style="padding:8px 12px;font-size:10px;text-align:right;font-weight:700">Unit Price</th><th style="padding:8px 12px;font-size:10px;text-align:right;font-weight:700">Total</th></tr></thead>
        <tbody>${rows}</tbody>
      </table>
      ${sec.notes?`<div style="padding:8px 12px;font-size:12px;color:#555;white-space:pre-line;border:1px solid #eee;border-top:none">${sec.notes}</div>`:""}
      ${(sec.photos||[]).length>0?`<div style="display:flex;gap:8px;padding:8px 12px;flex-wrap:wrap">${sec.photos.map(p=>`<img src="${p.data}" style="width:80px;height:80px;object-fit:cover;border:1px solid #ddd">`).join("")}</div>`:""}
    </div>`}).join("");const subtotal=quote.sections.reduce((s,sec)=>s+sec.lineItems.reduce((ss,it)=>ss+it.qty*it.unitPrice,0),0);const laborTotal=(quote.laborSections||[]).reduce((s,ls)=>{const r=UNION_RATES[(quote.city||"").toLowerCase()]||NON_UNION_RATE;return s+calcLaborSection(ls,r).total},0);const taxable=quote.sections.reduce((s,sec)=>s+sec.lineItems.filter(it=>it.taxable).reduce((ss,it)=>ss+it.qty*it.unitPrice,0),0);const tax=taxable*TAX_RATE;const total=subtotal+laborTotal+tax;const coRows=(quote.changeOrders||[]).map(co=>`<tr><td style="padding:6px 10px;font-size:12px">${co.desc}</td><td style="padding:6px 10px;font-size:12px;font-weight:600">$${Number(co.amount).toLocaleString()}</td><td style="padding:6px 10px;font-size:12px"><span style="padding:2px 8px;background:${co.status==="approved"?"#d4edda":co.status==="rejected"?"#f8d7da":"#fff3cd"};color:${co.status==="approved"?"#155724":co.status==="rejected"?"#721c24":"#856404"};font-size:10px">${co.status.toUpperCase()}</span></td></tr>`).join("");const html=`<!DOCTYPE html><html><head><meta charset="utf-8"/><title>${quote.quoteNumber} \u2014 ${quote.title}</title>
  <style>@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;800;900&family=Inter:wght@400;600&display=swap');
  *{box-sizing:border-box;margin:0;padding:0;}body{font-family:Inter,sans-serif;background:#fff;color:#111;padding:48px 52px;}
  @media print{body{print-color-adjust:exact;-webkit-print-color-adjust:exact;}}</style></head>
  <body>
  <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding-bottom:24px;border-bottom:3px solid #111">
    <div><div style="font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:900;margin-bottom:8px"><strong>DREAM</strong><span style="font-weight:300">CRAFT</span></div>
    <div style="font-size:24px;font-weight:700;font-family:'Barlow Condensed',sans-serif;text-transform:uppercase;letter-spacing:0.04em">${quote.title||quote.projectName}</div>
    <div style="font-size:13px;color:#666;margin-top:4px">${quote.quoteNumber} \xB7 ${quote.clientName}</div></div>
    <div style="text-align:right;font-size:12px;color:#666">
      <div><b>Venue:</b> ${quote.venue||"TBD"}</div>
      <div><b>City:</b> ${quote.city||"TBD"}</div>
      <div><b>Install:</b> ${quote.installStart||"TBD"} \u2013 ${quote.installEnd||""}</div>
      <div><b>Show:</b> ${quote.showStart||"TBD"} \u2013 ${quote.showEnd||""}</div>
      <div><b>Labor:</b> ${quote.laborType==="union"?"UNION":"Non-Union"}</div>
    </div>
  </div>
  ${sections}
  ${laborTotal>0?`<div style="margin-bottom:32px"><div style="background:#111;color:#fff;padding:10px 14px"><span style="font-family:Arial Black,sans-serif;font-size:12px;font-weight:900;text-transform:uppercase">LABOR</span></div><div style="padding:10px 14px;border:1px solid #eee;font-size:12px">Labor subtotal: <b>$${laborTotal.toFixed(2)}</b></div></div>`:""}
  <div style="margin-left:auto;max-width:320px;margin-bottom:32px">
    ${[["Subtotal",subtotal],["Labor",laborTotal],["Tax (7.75%)",tax],["TOTAL",total]].filter(([_,v])=>v>0).map(([l,v])=>`<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #eee;font-size:${l==="TOTAL"?14:12}px;font-weight:${l==="TOTAL"?700:400}">${l==="TOTAL"?`<b>${l}</b>`:`<span>${l}</span>`}<span>$${Number(v).toFixed(2)}</span></div>`).join("")}
  </div>
  ${quote.notes?`<div style="padding:14px;border:1px solid #eee;font-size:12px;color:#444;white-space:pre-line;margin-bottom:24px">${quote.notes}</div>`:""}
  ${coRows?`<div style="margin-top:32px"><h3 style="font-family:'Barlow Condensed',sans-serif;font-size:16px;font-weight:700;text-transform:uppercase;margin-bottom:8px">Change Orders</h3><table style="width:100%;border-collapse:collapse;border:1px solid #eee"><thead><tr style="background:#f5f5f5"><th style="padding:6px 10px;font-size:10px;text-align:left">Description</th><th style="padding:6px 10px;font-size:10px">Amount</th><th style="padding:6px 10px;font-size:10px">Status</th></tr></thead><tbody>${coRows}</tbody></table></div>`:""}
  </body></html>`;const blob=new Blob([html],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`${quote.quoteNumber}-Quote.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)}function EstimateImportPicker({onImport,onClose}){var _a,_b;const estimates=(()=>{try{return JSON.parse(localStorage.getItem(STORAGE_KEY)||"[]")}catch{return[]}})();const[selectedEst,setSelectedEst]=(0,import_react.useState)(null);const[selectedTier,setSelectedTier]=(0,import_react.useState)(null);const[search,setSearch]=(0,import_react.useState)("");const filtered=estimates.filter(e=>!search||(e.projectName+e.clientName+e.quoteNumber).toLowerCase().includes(search.toLowerCase()));const pickEst=est=>{setSelectedEst(est);setSelectedTier(est.selectedTier||"mid_tier")};const tierData=(_a=selectedEst==null?void 0:selectedEst.estimates)==null?void 0:_a[selectedTier];const tierItems=(tierData==null?void 0:tierData.fabrication_items)||[];const tierTotal=tierItems.reduce((s,it)=>s+(Number(it.subtotal)||Number(it.unit_cost)||0),0);const TIER_LABELS={budget:"Budget",mid_tier:"Mid-Tier",high_end:"High-End"};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:500,display:"flex",alignItems:"center",justifyContent:"center",padding:24}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",width:"100%",maxWidth:840,maxHeight:"85vh",display:"flex",flexDirection:"column"}},import_react.default.createElement("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:800,letterSpacing:"0.06em",textTransform:"uppercase"}},"Import from Estimate"),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text3)",fontSize:18,cursor:"pointer"}},"\u2715")),import_react.default.createElement("div",{style:{display:"flex",flex:1,overflow:"hidden"}},import_react.default.createElement("div",{style:{width:300,borderRight:"1px solid var(--border2)",display:"flex",flexDirection:"column"}},import_react.default.createElement("div",{style:{padding:"12px 16px",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("input",{value:search,onChange:e=>setSearch(e.target.value),placeholder:"Search estimates\u2026",style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:12,padding:"7px 10px",outline:"none"}})),import_react.default.createElement("div",{style:{overflowY:"auto",flex:1}},filtered.length===0&&import_react.default.createElement("div",{style:{padding:24,color:"var(--text4)",fontSize:12,textAlign:"center"}},"No estimates found.",import_react.default.createElement("br",null),"Build one in the Estimator first."),filtered.map(est=>{var _a2;const t=(_a2=est.estimates)==null?void 0:_a2[est.selectedTier||"mid_tier"];const total=((t==null?void 0:t.fabrication_items)||[]).reduce((s,it)=>s+(Number(it.subtotal)||0),0);const sel=(selectedEst==null?void 0:selectedEst.id)===est.id;return import_react.default.createElement("div",{key:est.id,onClick:()=>pickEst(est),style:{padding:"14px 16px",cursor:"pointer",borderLeft:`3px solid ${sel?"var(--accent)":"transparent"}`,background:sel?"rgba(255,255,255,0.06)":"transparent",borderBottom:"1px solid rgba(255,255,255,0.04)"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:14,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.04em",marginBottom:3}},est.projectName||"Untitled"),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)"}},est.clientName," \xB7 ",est.quoteNumber),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",marginTop:2}},est.boothSize," \xB7 ",fmt(total)))}))),import_react.default.createElement("div",{style:{flex:1,padding:24,overflowY:"auto"}},!selectedEst?import_react.default.createElement("div",{style:{color:"var(--text4)",fontSize:13,textAlign:"center",marginTop:60}},"\u2190 Select an estimate to preview"):import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("div",{style:{marginBottom:18}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:10}},"Select Tier to Import"),import_react.default.createElement("div",{style:{display:"flex",gap:8}},["budget","mid_tier","high_end"].map(tk=>{var _a2,_b2;const td=(_a2=selectedEst.estimates)==null?void 0:_a2[tk];if(!td)return null;const tt=(td.fabrication_items||[]).reduce((s,it)=>s+(Number(it.subtotal)||0),0);return import_react.default.createElement("button",{type:"button",key:tk,onClick:()=>setSelectedTier(tk),style:{flex:1,padding:"10px 12px",background:selectedTier===tk?"var(--btn-bg)":"var(--input-bg)",border:`1px solid ${selectedTier===tk?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.1)"}`,color:"var(--text)",cursor:"pointer",textAlign:"left"}},import_react.default.createElement("div",{style:{fontSize:10,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",color:"var(--text2)",marginBottom:4}},TIER_LABELS[tk]),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:18,fontWeight:800}},fmt(tt)),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)",marginTop:2}},((_b2=td.fabrication_items)==null?void 0:_b2.length)||0," items"))}))),tierItems.length>0&&import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:10}},"Line Items Preview"),import_react.default.createElement("div",{style:{border:"1px solid var(--border2)"}},tierItems.map((it,i)=>import_react.default.createElement("div",{key:i,style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid var(--border2)",fontSize:12}},import_react.default.createElement("span",{style:{color:"var(--text2)"}},it.item),import_react.default.createElement("span",{style:{color:"var(--text3)",marginLeft:16,whiteSpace:"nowrap"}},it.qty&&import_react.default.createElement("span",{style:{marginRight:8}},"\xD7",it.qty),fmt(Number(it.subtotal)||Number(it.unit_cost)||0)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:700,fontSize:13}},import_react.default.createElement("span",null,"Subtotal"),import_react.default.createElement("span",null,fmt(tierTotal))))),import_react.default.createElement("div",{style:{background:"var(--input-bg)",border:"1px solid var(--border2)",padding:"12px 14px",marginBottom:20,fontSize:12}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:8}},"Also importing"),[["Client",selectedEst.clientName],["Project",selectedEst.projectName],["Booth Size",selectedEst.boothSize],["Tier Description",((_b=tierData==null?void 0:tierData.description)==null?void 0:_b.slice(0,80))+"\u2026"]].filter(([,v])=>v).map(([l,v])=>import_react.default.createElement("div",{key:l,style:{display:"flex",gap:12,marginBottom:4}},import_react.default.createElement("span",{style:{color:"var(--text3)",width:90,flexShrink:0}},l),import_react.default.createElement("span",{style:{color:"var(--text2)"}},v)))),import_react.default.createElement(Btn,{primary:true,onClick:()=>onImport(selectedEst,selectedTier),style:{width:"100%"}},"Import ",TIER_LABELS[selectedTier]," \u2192 Create Quote"))))))}function QuoteTool(){const{t:qt}=useTheme();const qtTheme=qt||DARK;const[quotes,setQuotes]=(0,import_react.useState)(loadQuotes);const[editing,setEditing]=(0,import_react.useState)(null);const[showCO,setShowCO]=(0,import_react.useState)(false);const[showImport,setShowImport]=(0,import_react.useState)(false);const[search,setSearch]=(0,import_react.useState)("");(0,import_react.useEffect)(()=>{sbLoad("quotes").then(rows=>{if(rows&&rows.length>0){const clean=rows.map(sanitizeQuote).filter(Boolean);try{localStorage.setItem(QUOTE_STORAGE,JSON.stringify(clean))}catch{}setQuotes(clean)}})},[]);const saveQ=q2=>{const sq=sanitizeQuote(q2);const next=quotes.find(x=>x.id===sq.id)?quotes.map(x=>x.id===sq.id?sq:x):[...quotes,sq];setQuotes(next);saveQuotes(next)};const deleteQ=id=>{if(window.confirm("Delete this quote?")){const next=quotes.filter(q2=>q2.id!==id);setQuotes(next);saveQuotes(next);if((editing==null?void 0:editing.id)===id)setEditing(null)}};const newFromEstimate=(est,tierKey)=>{const q2=sanitizeQuote(blankQuote({...est,selectedTier:tierKey||est.selectedTier}));setEditing(q2);saveQ(q2);setShowImport(false)};const newBlank=()=>{const q2=sanitizeQuote(blankQuote(null));setEditing(q2);saveQ(q2)};const estimates=(()=>{try{return JSON.parse(localStorage.getItem(STORAGE_KEY)||"[]")}catch{return[]}})();const upd=(key,val)=>setEditing(e=>{const n=sanitizeQuote({...e,[key]:val});saveQ(n);return n});const updSection=(i,sec)=>{const secs=editing.sections.map((s,idx)=>idx===i?sec:s);upd("sections",secs)};const addSection=()=>upd("sections",[...editing.sections,{id:genId(),title:`Section ${editing.sections.length+1}`,type:"Fabrication",notes:"",photos:[],lineItems:[{id:genId(),description:"",qty:1,unitPrice:0,category:"Fabrication",taxable:true}]}]);const removeSection=i=>upd("sections",editing.sections.filter((_,idx)=>idx!==i));const moveSection=(i,dir)=>{const a=[...editing.sections];[a[i],a[i+dir]]=[a[i+dir],a[i]];upd("sections",a)};const calcTotals=q2=>{if(!q2)return{};const subtotal2=(q2.sections||[]).reduce((s,sec)=>s+sec.lineItems.reduce((ss,it)=>ss+it.qty*it.unitPrice,0),0);const r=UNION_RATES[(q2.city||"").toLowerCase().trim()]||(Object.keys(UNION_RATES).find(k=>(q2.city||"").toLowerCase().includes(k))?UNION_RATES[Object.keys(UNION_RATES).find(k=>(q2.city||"").toLowerCase().includes(k))]:null)||NON_UNION_RATE;const laborTotal2=(q2.laborSections||[]).reduce((s,ls)=>s+calcLaborSection(ls,r).total,0);const taxable=(q2.sections||[]).reduce((s,sec)=>s+sec.lineItems.filter(it=>it.taxable).reduce((ss,it)=>ss+it.qty*it.unitPrice,0),0);const tax2=taxable*TAX_RATE;const coTotal2=(q2.changeOrders||[]).filter(co=>co.status==="approved").reduce((s,co)=>s+Number(co.amount),0);const total2=subtotal2+laborTotal2+tax2+coTotal2;return{subtotal:subtotal2,laborTotal:laborTotal2,tax:tax2,coTotal:coTotal2,total:total2}};if(!editing){const filtered=quotes.filter(q2=>!search||(q2.title+q2.clientName+q2.quoteNumber).toLowerCase().includes(search.toLowerCase()));const STATUS_COLORS={draft:"var(--text3)",sent:"rgba(100,180,255,0.8)",approved:"var(--success)",rejected:"rgba(255,100,100,0.8)"};return import_react.default.createElement("div",{style:{maxWidth:1100,margin:"0 auto",padding:"48px 32px",background:qtTheme.bg,minHeight:"100vh",color:qtTheme.text}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:32}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"DCE"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Quote Builder")),import_react.default.createElement("div",{style:{display:"flex",gap:10,alignItems:"center"}},import_react.default.createElement("input",{value:search,onChange:e=>setSearch(e.target.value),placeholder:"Search quotes\u2026",style:{background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:12,padding:"8px 14px",outline:"none",width:220}}),import_react.default.createElement(Btn,{onClick:()=>setShowImport(true),style:{borderColor:"rgba(0,174,239,0.4)",color:"rgba(0,174,239,0.9)"}},"\u2193 From Estimate"),import_react.default.createElement(Btn,{primary:true,onClick:newBlank},"+ New Quote"))),estimates.length>0&&import_react.default.createElement("div",{style:{marginBottom:28}},import_react.default.createElement(Btn,{onClick:()=>setShowImport(true),style:{borderColor:"rgba(0,174,239,0.4)",color:"rgba(0,174,239,0.9)",padding:"12px 24px"}},"\u2193 Import from Estimate")),showImport&&import_react.default.createElement(EstimateImportPicker,{onImport:newFromEstimate,onClose:()=>setShowImport(false)}),filtered.length===0&&import_react.default.createElement("div",{style:{textAlign:"center",padding:"60px 0",color:"var(--text4)"}},"No quotes yet. Create one or convert an estimate above."),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:1,background:"var(--input-bg)"}},filtered.map(q2=>{const{total:total2}=calcTotals(q2);return import_react.default.createElement("div",{key:q2.id,onClick:()=>setEditing(sanitizeQuote(q2)),style:{background:"var(--bg)",padding:"16px 24px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:`3px solid ${STATUS_COLORS[q2.status]||"rgba(255,255,255,0.1)"}`},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="var(--card)"},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:16,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.04em"}},q2.title||q2.projectName||"Untitled Quote"),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text3)",marginTop:2}},q2.quoteNumber," \xB7 ",q2.clientName," \xB7 ",q2.city||"Location TBD"),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text4)",marginTop:4,display:"flex",gap:12}},q2.createdAt&&import_react.default.createElement("span",null,"Created ",fmtDate(q2.createdAt)),q2.updatedAt&&q2.updatedAt!==q2.createdAt&&import_react.default.createElement("span",{style:{color:"var(--text3)"}},"\xB7 Edited ",fmtDate(q2.updatedAt)))),import_react.default.createElement("div",{style:{display:"flex",gap:20,alignItems:"center"}},import_react.default.createElement("div",{style:{textAlign:"right"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:22,fontWeight:800}},fmt(total2)),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},q2.status)),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();deleteQ(q2.id)},style:{background:"none",border:"1px solid var(--border2)",color:"rgba(255,80,80,0.5)",fontSize:10,padding:"5px 10px",cursor:"pointer"}},"Delete")))})))}const q=editing;const{subtotal,laborTotal,tax,coTotal,total}=calcTotals(q);const STATUS_OPTIONS=["draft","sent","approved","rejected"];return import_react.default.createElement("div",{style:{maxWidth:940,margin:"0 auto",padding:"32px 24px"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,paddingBottom:20,borderBottom:"1px solid var(--border)"}},import_react.default.createElement("div",{style:{display:"flex",gap:10,alignItems:"center"}},import_react.default.createElement(Btn,{onClick:()=>setEditing(null)},"\u2190 All Quotes"),import_react.default.createElement("input",{value:q.title,onChange:e=>upd("title",e.target.value),style:{background:"none",border:"none",borderBottom:"2px solid var(--border)",color:"var(--text)",fontFamily:"'Barlow Condensed',sans-serif",fontSize:22,fontWeight:800,textTransform:"uppercase",letterSpacing:"0.04em",outline:"none",minWidth:300},placeholder:"QUOTE TITLE"})),import_react.default.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},import_react.default.createElement("select",{value:q.status,onChange:e=>upd("status",e.target.value),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",padding:"7px 12px",outline:"none"}},STATUS_OPTIONS.map(s=>import_react.default.createElement("option",{key:s,value:s,style:{background:"var(--bg3)"}},s.toUpperCase()))),q.status==="approved"&&import_react.default.createElement(Btn,{onClick:()=>setShowCO(true),style:{borderColor:"rgba(255,200,80,0.4)",color:"rgba(255,200,80,0.9)"}},"+ Change Order"),import_react.default.createElement(Btn,{onClick:()=>setShowImport(true),style:{borderColor:"rgba(0,174,239,0.3)",color:"rgba(0,174,239,0.7)"}},"\u2193 Re-import Estimate"),import_react.default.createElement(Btn,{onClick:()=>exportQuoteHTML(q)},"Export PDF"),import_react.default.createElement(Btn,{onClick:()=>exportToQBO(q)},"\u2192 QuickBooks"))),import_react.default.createElement("div",{style:{background:"rgba(0,174,239,0.05)",border:"1px solid rgba(0,174,239,0.15)",padding:"8px 14px",marginBottom:20,fontSize:11,color:"rgba(0,174,239,0.8)",display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement("span",null,"\u2192 QuickBooks: exports as .IIF file (import via QB Desktop) or connect QBO API with your Client ID. ",import_react.default.createElement("b",null,"See settings for OAuth setup.")),import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:10}},"QBO OAuth setup: provide Client ID + Company ID in settings")),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:16,marginBottom:20}},[["Client Name","clientName"],["Project Name","projectName"],["Quote Number","quoteNumber"]].map(([l,k])=>import_react.default.createElement("div",{key:k},import_react.default.createElement(Label,null,l),import_react.default.createElement(Input,{value:q[k]||"",onChange:e=>upd(k,e.target.value)})))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:16,marginBottom:20}},[["Venue","venue"],["City / Location","city"],["Booth Number","boothNumber"]].map(([l,k])=>import_react.default.createElement("div",{key:k},import_react.default.createElement(Label,null,l),import_react.default.createElement(Input,{value:q[k]||"",onChange:e=>upd(k,e.target.value)})))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:16,marginBottom:20}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Install Start"),import_react.default.createElement("input",{type:"date",value:q.installStart||"",onChange:e=>upd("installStart",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Install End"),import_react.default.createElement("input",{type:"date",value:q.installEnd||"",onChange:e=>upd("installEnd",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Ship Date"),import_react.default.createElement("input",{type:"date",value:q.shipDate||"",onChange:e=>upd("shipDate",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:16,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Show Start"),import_react.default.createElement("input",{type:"date",value:q.showStart||"",onChange:e=>upd("showStart",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Show End"),import_react.default.createElement("input",{type:"date",value:q.showEnd||"",onChange:e=>upd("showEnd",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Dismantle Start"),import_react.default.createElement("input",{type:"date",value:q.dismantleStart||"",onChange:e=>upd("dismantleStart",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Dismantle End"),import_react.default.createElement("input",{type:"date",value:q.dismantleEnd||"",onChange:e=>upd("dismantleEnd",e.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,outline:"none",colorScheme:"dark"}}))),q.sections.map((sec,i)=>import_react.default.createElement(QuoteSection,{key:sec.id,section:sec,sectionIdx:i,totalSections:q.sections.length,updateSection:s=>updSection(i,s),removeSection:()=>removeSection(i),moveSection})),import_react.default.createElement("button",{type:"button",onClick:addSection,style:{background:"none",border:"1px dashed var(--border)",color:"var(--text3)",padding:"10px 20px",fontSize:11,cursor:"pointer",width:"100%",marginBottom:24,fontFamily:"'Barlow Condensed',sans-serif",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"}},"+ Add Section"),import_react.default.createElement(UnionLaborPanel,{quote:q,onUpdate:patch=>{const saved=sanitizeQuote({...q,...patch});saveQ(saved);setEditing(saved)}}),import_react.default.createElement("div",{style:{marginTop:24}},import_react.default.createElement(Label,null,"Quote Notes / Terms"),import_react.default.createElement("textarea",{value:q.notes||"",onChange:e=>upd("notes",e.target.value),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text2)",fontSize:12,padding:"10px 12px",resize:"vertical",minHeight:80,outline:"none"},placeholder:"Project overview, terms, transportation notes\u2026"})),(q.changeOrders||[]).length>0&&import_react.default.createElement("div",{style:{marginTop:24,borderTop:"1px solid var(--border2)",paddingTop:20}},import_react.default.createElement(BC,{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:12}},"Change Orders"),q.changeOrders.map(co=>{var _a;return import_react.default.createElement("div",{key:co.id,style:{border:"1px solid var(--border2)",marginBottom:10,overflow:"hidden"}},import_react.default.createElement("div",{style:{display:"flex",gap:12,padding:"10px 14px",alignItems:"flex-start",background:"var(--input-bg)"}},import_react.default.createElement("div",{style:{flex:1}},import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text)",marginBottom:co.coDate||co.coTime?4:0}},co.desc),(co.coDate||co.coTime)&&import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",display:"flex",gap:8,alignItems:"center"}},import_react.default.createElement("span",null,"\u{1F4C5}"),import_react.default.createElement("span",null,co.coDate,co.coTime?` at ${co.coTime}`:""))),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6,flexShrink:0}},import_react.default.createElement("div",{style:{fontSize:14,fontWeight:700,color:"var(--text)"}},fmt(co.amount)),import_react.default.createElement("select",{value:co.status,onChange:e=>upd("changeOrders",q.changeOrders.map(c=>c.id===co.id?{...c,status:e.target.value}:c)),style:{background:"var(--btn-bg)",border:"1px solid var(--border)",color:co.status==="approved"?"var(--success)":co.status==="rejected"?"var(--danger)":"var(--warn)",fontSize:10,fontWeight:700,textTransform:"uppercase",padding:"4px 8px",outline:"none",cursor:"pointer"}},["pending","approved","rejected"].map(s=>import_react.default.createElement("option",{key:s,value:s,style:{background:"var(--bg3)"}},s.toUpperCase()))))),((_a=co.images)==null?void 0:_a.length)>0&&import_react.default.createElement("div",{style:{display:"flex",gap:4,padding:"8px 14px",borderTop:"1px solid var(--border2)",background:"var(--bg)",overflowX:"auto"}},co.images.map(img=>import_react.default.createElement("img",{key:img.id,src:img.data,alt:img.name,title:img.name,style:{height:56,width:75,objectFit:"cover",flexShrink:0,cursor:"pointer",border:"1px solid var(--border2)"},onClick:()=>window.open(img.data,"_blank")})),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text4)",alignSelf:"center",marginLeft:4}},co.images.length," image",co.images.length!==1?"s":"")))})),import_react.default.createElement("div",{style:{marginTop:24,borderTop:"2px solid var(--border)",paddingTop:20}},import_react.default.createElement("div",{style:{maxWidth:340,marginLeft:"auto"}},[["Subtotal",subtotal],...laborTotal>0?[["Labor",laborTotal]]:[],["Tax (7.75%)",tax],...coTotal>0?[["Change Orders (approved)",coTotal]]:[]].map(([l,v])=>import_react.default.createElement("div",{key:l,style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,0.06)",fontSize:13}},import_react.default.createElement("span",{style:{color:"var(--text2)"}},l),import_react.default.createElement("span",{style:{fontWeight:600}},fmt(v)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"14px 0",marginTop:4}},import_react.default.createElement(BC,{style:{fontSize:20,fontWeight:800,textTransform:"uppercase"}},"TOTAL"),import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:800}},fmt(total))))),showCO&&import_react.default.createElement(ChangeOrderModal,{quote:q,onSave:co=>{upd("changeOrders",[...q.changeOrders||[],co]);setShowCO(false)},onClose:()=>setShowCO(false)}),showImport&&import_react.default.createElement(EstimateImportPicker,{onImport:(est,tier)=>{const q2=blankQuote({...est,selectedTier:tier});const merged=sanitizeQuote({...q,...q2,id:q.id,quoteNumber:q.quoteNumber,status:q.status,changeOrders:q.changeOrders||[]});setEditing(merged);saveQ(merged);setShowImport(false)},onClose:()=>setShowImport(false)}))}function QuickQuote(){var _a;const[form,setForm]=(0,import_react.useState)({serviceType:"",description:"",dimensions:"",duration:"",location:"",urgency:"standard"});const[result,setResult]=(0,import_react.useState)(null);const[loading,setLoading]=(0,import_react.useState)(false);const[error,setError]=(0,import_react.useState)(null);const setF=(k,v)=>setForm(f=>({...f,[k]:v}));const generate=async()=>{if(!form.serviceType||!form.description){setError("Service type and description are required.");return}setLoading(true);setError(null);try{const system=`You are a senior estimator at DreamCraft Events. Provide fast, realistic pricing for small service jobs like booth disposal, storage, minor repairs, and light support. Be direct and specific. Use current market rates for Southern California / trade show industry.`;const prompt=`Generate a quick quote for this service request:
Service Type: ${form.serviceType}
Description: ${form.description}
Dimensions/Size: ${form.dimensions||"Not specified"}
Duration/Timeline: ${form.duration||"Not specified"}
Location: ${form.location||"Not specified"}
Urgency: ${form.urgency}

Return ONLY valid JSON:
{
  "service": "string",
  "summary": "1-2 sentence summary of what's included",
  "line_items": [{ "item": "string", "cost": number, "notes": "string" }],
  "total_low": number,
  "total_high": number,
  "turnaround": "string",
  "valid_days": number,
  "terms": "string",
  "exclusions": ["string"]
}`;const text=await callClaude(system,prompt,1500);setResult(extractJSON(text))}catch(e){setError(e.message)}finally{setLoading(false)}};const exportQuote=()=>{var _a2;if(!result)return;const rows=result.line_items.map(li=>`<tr><td style="padding:10px 12px;border-bottom:1px solid #eee;font-size:13px;color:#111;">${li.item}</td><td style="padding:10px 12px;border-bottom:1px solid #eee;font-size:12px;color:#555;">${li.notes||""}</td><td style="padding:10px 12px;border-bottom:1px solid #eee;font-size:13px;font-weight:600;color:#111;text-align:right;">$${Number(li.cost).toLocaleString()}</td></tr>`).join("");const html=`<!DOCTYPE html><html><head><meta charset="utf-8"/><title>DCE Quick Quote</title>
    <style>@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;800&family=Inter:wght@400;600&display=swap');
    *{box-sizing:border-box;margin:0;padding:0;}body{font-family:'Inter',sans-serif;background:#fff;color:#111;padding:48px 52px;max-width:700px;margin:0 auto;}
    h1{font-family:'Barlow Condensed',sans-serif;font-size:32px;font-weight:800;text-transform:uppercase;margin-bottom:4px;}
    table{width:100%;border-collapse:collapse;margin-top:24px;}thead tr{background:#111;}thead th{padding:10px 12px;font-size:10px;font-weight:700;letter-spacing:0.12em;text-transform:uppercase;color:#fff;text-align:left;}
    @media print{body{print-color-adjust:exact;-webkit-print-color-adjust:exact;}}</style></head>
    <body>
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding-bottom:20px;border-bottom:2px solid #111;">
      <div><div style="font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:800;margin-bottom:12px;"><strong>DREAM</strong><span style="font-weight:300;">CRAFT</span></div><h1>${result.service}</h1><p style="font-size:13px;color:#555;margin-top:8px;line-height:1.6;">${result.summary}</p></div>
      <div style="text-align:right;font-size:12px;color:#666;"><div>Valid: ${result.valid_days} days</div><div>Turnaround: ${result.turnaround}</div></div>
    </div>
    <table><thead><tr><th>Service Item</th><th>Notes</th><th style="text-align:right;">Est. Cost</th></tr></thead><tbody>${rows}</tbody></table>
    <div style="display:flex;justify-content:space-between;align-items:center;padding:18px 0;border-top:2px solid #111;margin-top:20px;">
      <span style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:#666;">Estimated Total</span>
      <span style="font-family:'Barlow Condensed',sans-serif;font-size:32px;font-weight:800;">$${Number(result.total_low).toLocaleString()} \u2013 $${Number(result.total_high).toLocaleString()}</span>
    </div>
    <div style="margin-top:20px;font-size:11px;color:#888;">${result.terms}</div>
    ${((_a2=result.exclusions)==null?void 0:_a2.length)?`<div style="margin-top:12px;font-size:11px;color:#aaa;"><strong>Exclusions:</strong> ${result.exclusions.join(" \xB7 ")}</div>`:""}
    </body></html>`;const blob=new Blob([html],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`DCE-QuickQuote-${result.service.replace(/\s+/g,"-")}.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)};if(loading)return import_react.default.createElement(Spinner,{label:"Building Quick Quote"});return import_react.default.createElement("div",{style:{maxWidth:700,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{marginBottom:36}},import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:10}},"Quick Quote"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Fast Client Estimate"),import_react.default.createElement("p",{style:{color:"var(--text2)",fontSize:13,marginTop:8,lineHeight:1.7}},"Booth disposal, storage, light support \\u2014 get a shareable estimate in seconds.")),import_react.default.createElement(ErrorBox,{msg:error}),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Service Type *"),import_react.default.createElement(Select,{value:form.serviceType,onChange:e=>setF("serviceType",e.target.value)},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select service type\\u2026"),["Booth Disposal / Teardown","Booth Storage","Booth Refurbishment","Graphics Reprint / Swap","Light Fabrication Support","Shipping / Freight Only","Install Only","Dismantle Only","Booth Inspection / Inventory","Other"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o)))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Description *"),import_react.default.createElement("textarea",{value:form.description,onChange:e=>setF("description",e.target.value),placeholder:"Describe what you need. Include any specifics about the existing booth, materials, or client situation.",style:{width:"100%",background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,outline:"none",resize:"vertical",minHeight:80,lineHeight:1.6,padding:"10px 0"}})),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Dimensions / Size"),import_react.default.createElement(Input,{value:form.dimensions,onChange:e=>setF("dimensions",e.target.value),placeholder:"e.g. 20x20 booth, 4 pallets"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Desired Timeline"),import_react.default.createElement(Input,{value:form.duration,onChange:e=>setF("duration",e.target.value),placeholder:"e.g. within 2 weeks"}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:12,marginBottom:32,alignItems:"end"}},import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Location / City"),import_react.default.createElement(LocationAutocomplete,{value:form.location||"",onChange:v=>setF("location",v),onSelect:({cityState,zip})=>{setF("location",cityState);if(zip)setF("zip",zip)},placeholder:"e.g. Las Vegas, NV"})),import_react.default.createElement("div",{style:{width:80}},import_react.default.createElement(Label,null,"ZIP"),import_react.default.createElement(Input,{value:form.zip||"",onChange:e=>setF("zip",e.target.value),placeholder:"89101",style:{textAlign:"center"}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Urgency"),import_react.default.createElement(Select,{value:form.urgency,onChange:e=>setF("urgency",e.target.value)},import_react.default.createElement("option",{value:"standard",style:{background:"var(--bg3)"}},"Standard"),import_react.default.createElement("option",{value:"rush",style:{background:"var(--bg3)"}},"Rush (within 1 week)"),import_react.default.createElement("option",{value:"emergency",style:{background:"var(--bg3)"}},"Emergency (48 hrs)")))),import_react.default.createElement(Btn,{primary:true,onClick:generate,style:{width:"100%"}},"Generate Quick Quote"),result&&import_react.default.createElement("div",{className:"fade-in",style:{marginTop:40,borderTop:"1px solid var(--border)",paddingTop:32}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:20,fontWeight:700,textTransform:"uppercase"}},result.service),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text2)",marginTop:4}},result.summary)),import_react.default.createElement(Btn,{primary:true,onClick:exportQuote},"Export Quote")),import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border2)"}},(_a=result.line_items)==null?void 0:_a.map((li,i)=>import_react.default.createElement("div",{key:i,style:{display:"flex",justifyContent:"space-between",padding:"12px 0",borderBottom:"1px solid rgba(255,255,255,0.06)",fontSize:13}},import_react.default.createElement("div",null,import_react.default.createElement("span",{style:{color:"var(--text)"}},li.item),li.notes&&import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:11,marginLeft:10}},li.notes)),import_react.default.createElement("span",{style:{fontWeight:600}},"$",Number(li.cost).toLocaleString())))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",borderTop:"1px solid rgba(255,255,255,0.2)",marginTop:4}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text2)"}},"Estimated Total"),import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:28,fontWeight:800}},"$",Number(result.total_low).toLocaleString()," \\u2013 $",Number(result.total_high).toLocaleString())),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",lineHeight:1.7}},result.terms)))}function ClientPortal(){const PORTAL_STORAGE="dce_portal";const loadPortal=()=>{try{return JSON.parse(localStorage.getItem(PORTAL_STORAGE)||'{"clients":[]}')}catch{return{clients:[]}}};const savePortal=d=>{try{localStorage.setItem(PORTAL_STORAGE,JSON.stringify(d))}catch{}};const[portal,setPortal]=(0,import_react.useState)(loadPortal);const[view,setView]=(0,import_react.useState)("list");const[activeClient,setActiveClient]=(0,import_react.useState)(null);const[showNewClient,setShowNewClient]=(0,import_react.useState)(false);const[newClientName,setNewClientName]=(0,import_react.useState)("");const[artView,setArtView]=(0,import_react.useState)(null);const artRef=(0,import_react.useRef)();const updatePortal=d=>{setPortal(d);savePortal(d)};const addClient=()=>{if(!newClientName.trim())return;const client={id:genId(),name:newClientName.trim(),createdAt:new Date().toISOString(),milestones:[],quotes:[],renders:[],walls:{front:null,back:null,left:null,right:null}};const next={...portal,clients:[...portal.clients,client]};updatePortal(next);setNewClientName("");setShowNewClient(false);setActiveClient(client);setView("client")};const updateClient=updated=>{const next={...portal,clients:portal.clients.map(c=>c.id===updated.id?updated:c)};updatePortal(next);setActiveClient(updated)};const deleteClient=id=>{updatePortal({...portal,clients:portal.clients.filter(c=>c.id!==id)});setView("list")};const hub=loadHub();const allMilestones=hub.milestones||[];const estimates=(()=>{try{return JSON.parse(localStorage.getItem(STORAGE_KEY)||"[]")}catch{return[]}})();if(view==="artpreview"&&artView){return import_react.default.createElement(WallPreview,{artView,onBack:()=>setView("client")})}if(view==="client"&&activeClient){return import_react.default.createElement(ClientView,{client:activeClient,updateClient,deleteClient,onBack:()=>setView("list"),allMilestones,estimates,onArtPreview:av=>{setArtView(av);setView("artpreview")}})}return import_react.default.createElement("div",{style:{maxWidth:900,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:40}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"Client Portal"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Client Workspaces"),import_react.default.createElement("p",{style:{color:"var(--text2)",fontSize:13,marginTop:8}},"Publish milestones, quotes, and renders to individual client views.")),import_react.default.createElement(Btn,{primary:true,onClick:()=>setShowNewClient(true)},"+ New Client")),portal.clients.length===0&&import_react.default.createElement("div",{style:{textAlign:"center",padding:"80px 0",color:"var(--text4)",fontSize:14}},"No client workspaces yet.",import_react.default.createElement("br",null),"Create one to start publishing content."),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:1,background:"var(--btn-bg)"}},portal.clients.map(client=>import_react.default.createElement("div",{key:client.id,onClick:()=>{setActiveClient(client);setView("client")},style:{background:"var(--bg)",padding:"28px 24px",cursor:"pointer"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="var(--card)"},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:18,fontWeight:700,textTransform:"uppercase",marginBottom:8}},client.name),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",lineHeight:1.8}},client.milestones.length," milestone",client.milestones.length!==1?"s":""," published",import_react.default.createElement("br",null),client.quotes.length," quote",client.quotes.length!==1?"s":""," shared",import_react.default.createElement("br",null),Object.values(client.walls).filter(Boolean).length,"/4 walls uploaded")))),showNewClient&&import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:300,display:"flex",alignItems:"center",justifyContent:"center"}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",width:400,padding:32}},import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",display:"block",marginBottom:20}},"New Client Workspace"),import_react.default.createElement(Label,null,"Client / Brand Name"),import_react.default.createElement(Input,{value:newClientName,onChange:e=>setNewClientName(e.target.value),onKeyDown:e=>e.key==="Enter"&&addClient(),placeholder:"e.g. Nike, Modelo",autoFocus:true}),import_react.default.createElement("div",{style:{display:"flex",gap:10,marginTop:24}},import_react.default.createElement(Btn,{onClick:()=>setShowNewClient(false),style:{flex:1}},"Cancel"),import_react.default.createElement(Btn,{primary:true,onClick:addClient,style:{flex:2}},"Create Workspace")))))}function ClientView({client,updateClient,deleteClient,onBack,allMilestones,estimates,onArtPreview}){const[tab,setTab]=(0,import_react.useState)("overview");const imgRefs={front:(0,import_react.useRef)(),back:(0,import_react.useRef)(),left:(0,import_react.useRef)(),right:(0,import_react.useRef)()};const publishMilestone=m=>{const already=client.milestones.find(x=>x.id===m.id);if(already)return;updateClient({...client,milestones:[...client.milestones,{...m,publishedAt:new Date().toISOString()}]})};const removeMilestone=id=>updateClient({...client,milestones:client.milestones.filter(m=>m.id!==id)});const publishQuote=est=>{const already=client.quotes.find(x=>x.id===est.id);if(already)return;updateClient({...client,quotes:[...client.quotes,{id:est.id,quoteNumber:est.quoteNumber,projectName:est.projectName,selectedTier:est.selectedTier,publishedAt:new Date().toISOString()}]})};const removeQuote=id=>updateClient({...client,quotes:client.quotes.filter(q=>q.id!==id)});const uploadWall=(wall,file)=>{if(!file)return;const reader=new FileReader;reader.onload=e=>{updateClient({...client,walls:{...client.walls,[wall]:e.target.result}})};reader.readAsDataURL(file)};const walls=["front","back","left","right"];return import_react.default.createElement("div",{style:{maxWidth:900,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:32}},import_react.default.createElement(Btn,{onClick:onBack},"\\u2190 All Clients"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:32,fontWeight:800,textTransform:"uppercase",flex:1}},client.name),import_react.default.createElement(Btn,{onClick:()=>{if(window.confirm("Delete this client workspace?"))deleteClient(client.id)},style:{color:"rgba(255,80,80,0.7)",borderColor:"rgba(255,80,80,0.3)"}},"Delete")),import_react.default.createElement("div",{style:{display:"flex",borderBottom:"1px solid var(--border)",marginBottom:32}},[["overview","Overview"],["milestones","Milestones"],["quotes","Quotes"],["walls","4-Wall Preview"]].map(([t,l])=>import_react.default.createElement("button",{type:"button",key:t,onClick:()=>setTab(t),style:{background:"none",border:"none",borderBottom:`2px solid ${tab===t?"#fff":"transparent"}`,color:tab===t?"#fff":"rgba(255,255,255,0.35)",padding:"10px 20px",cursor:"pointer",fontFamily:"'Barlow Condensed',sans-serif",fontSize:12,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",marginBottom:-1}},l))),tab==="overview"&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:1,background:"var(--btn-bg)"}},[{label:"Milestones Published",value:client.milestones.length},{label:"Quotes Shared",value:client.quotes.length},{label:"Walls Uploaded",value:`${Object.values(client.walls).filter(Boolean).length}/4`}].map((c,i)=>import_react.default.createElement("div",{key:i,style:{background:"var(--bg)",padding:"24px"}},import_react.default.createElement("div",{style:{fontSize:9,fontWeight:700,letterSpacing:"0.16em",textTransform:"uppercase",color:"var(--text3)",marginBottom:8}},c.label),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:36,fontWeight:800}},c.value)))),tab==="milestones"&&import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Publish a Schedule to ",client.name),allMilestones.length===0&&import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text3)",padding:"20px 0"}},"No schedules created yet. Go to Milestone Creator first."),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},allMilestones.map(m=>import_react.default.createElement("div",{key:m.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("div",null,import_react.default.createElement("span",{style:{fontSize:13,fontWeight:600}},m.project_name),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",marginLeft:10}},"Launch: ",m.launch_date)),import_react.default.createElement(Btn,{onClick:()=>publishMilestone(m),style:{fontSize:10}},client.milestones.find(x=>x.id===m.id)?"Published \u2713":"Publish \u2192"))))),import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border)",paddingTop:24}},import_react.default.createElement(Label,null,"Currently Published"),client.milestones.length===0&&import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text3)"}},"Nothing published yet."),client.milestones.map(m=>import_react.default.createElement("div",{key:m.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("div",null,import_react.default.createElement("span",{style:{fontSize:13}},m.project_name),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",marginLeft:10}},"Published ",new Date(m.publishedAt).toLocaleDateString())),import_react.default.createElement("button",{type:"button",onClick:()=>removeMilestone(m.id),style:{background:"none",border:"1px solid var(--border)",color:"rgba(255,80,80,0.7)",fontSize:10,padding:"4px 10px",cursor:"pointer"}},"Remove"))))),tab==="quotes"&&import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement(Label,null,"Share a Quote with ",client.name),estimates.length===0&&import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text3)",padding:"20px 0"}},"No estimates created yet. Go to the Estimator first."),import_react.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},estimates.map(est=>import_react.default.createElement("div",{key:est.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("div",null,import_react.default.createElement("span",{style:{fontSize:13,fontWeight:600}},est.quoteNumber),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",marginLeft:10}},est.projectName||"Untitled"," \\u00b7 ",est.clientName||"\u2014")),import_react.default.createElement(Btn,{onClick:()=>publishQuote(est),style:{fontSize:10}},client.quotes.find(x=>x.id===est.id)?"Shared \u2713":"Share \u2192"))))),import_react.default.createElement("div",{style:{borderTop:"1px solid var(--border)",paddingTop:24}},import_react.default.createElement(Label,null,"Currently Shared"),client.quotes.length===0&&import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text3)"}},"No quotes shared yet."),client.quotes.map(q=>import_react.default.createElement("div",{key:q.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("div",null,import_react.default.createElement("span",{style:{fontSize:13}},q.quoteNumber),import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)",marginLeft:10}},q.projectName," \\u00b7 Shared ",new Date(q.publishedAt).toLocaleDateString())),import_react.default.createElement("button",{type:"button",onClick:()=>removeQuote(q.id),style:{background:"none",border:"1px solid var(--border)",color:"rgba(255,80,80,0.7)",fontSize:10,padding:"4px 10px",cursor:"pointer"}},"Remove"))))),tab==="walls"&&import_react.default.createElement("div",null,import_react.default.createElement("p",{style:{fontSize:13,color:"var(--text2)",marginBottom:28,lineHeight:1.7}},"Upload artwork for each wall. Click a wall to preview how the art looks. Use this to show clients how their graphics will look in the space before production."),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},walls.map(wall=>import_react.default.createElement("div",{key:wall},import_react.default.createElement("div",{style:{border:`1px solid ${client.walls[wall]?"rgba(255,255,255,0.3)":"rgba(255,255,255,0.1)"}`,padding:0,position:"relative",aspectRatio:"16/9",background:"var(--bg2)",overflow:"hidden",cursor:client.walls[wall]?"pointer":"default"},onClick:()=>client.walls[wall]&&onArtPreview({wall,url:client.walls[wall],allWalls:client.walls})},client.walls[wall]?import_react.default.createElement("img",{src:client.walls[wall],alt:wall,style:{width:"100%",height:"100%",objectFit:"cover"}}):import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:8,cursor:"pointer"},onClick:()=>{var _a;return(_a=imgRefs[wall].current)==null?void 0:_a.click()}},import_react.default.createElement("div",{style:{fontSize:24,opacity:.2}},"\\u2191"),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",textTransform:"uppercase",letterSpacing:"0.1em"}},"Upload ",wall," wall")),client.walls[wall]&&import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.7)",padding:"6px 10px",display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase"}},wall," wall"),import_react.default.createElement("div",{style:{display:"flex",gap:8}},import_react.default.createElement("button",{type:"button",onClick:e=>{var _a;e.stopPropagation();(_a=imgRefs[wall].current)==null?void 0:_a.click()},style:{background:"none",border:"1px solid rgba(255,255,255,0.3)",color:"var(--text)",fontSize:9,padding:"3px 8px",cursor:"pointer"}},"Replace"),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();updateClient({...client,walls:{...client.walls,[wall]:null}})},style:{background:"none",border:"1px solid rgba(255,80,80,0.4)",color:"rgba(255,80,80,0.8)",fontSize:9,padding:"3px 8px",cursor:"pointer"}},"Remove")))),import_react.default.createElement("input",{ref:imgRefs[wall],type:"file",accept:"image/*",style:{display:"none"},onChange:e=>uploadWall(wall,e.target.files[0])}),!client.walls[wall]&&import_react.default.createElement("div",{style:{textAlign:"center",marginTop:8}},import_react.default.createElement("button",{type:"button",onClick:()=>{var _a;return(_a=imgRefs[wall].current)==null?void 0:_a.click()},style:{background:"none",border:"1px solid var(--border)",color:"var(--text2)",fontSize:10,padding:"6px 16px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.1em"}},"Upload ",wall," wall"))))),Object.values(client.walls).some(Boolean)&&import_react.default.createElement("div",{style:{marginTop:24,padding:"16px 20px",border:"1px solid var(--border2)",fontSize:13,color:"var(--text2)"}},"Click any uploaded wall image to open the full 4-wall preview mode.")))}function WallPreview({artView,onBack}){const[activeWall,setActiveWall]=(0,import_react.useState)(artView.wall);const walls=["front","back","left","right"];const currentImg=artView.allWalls[activeWall];return import_react.default.createElement("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:28}},import_react.default.createElement(Btn,{onClick:onBack},"\\u2190 Back to Client"),import_react.default.createElement(BC,{style:{fontSize:24,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase"}},"4-Wall Preview")),import_react.default.createElement("div",{style:{position:"relative",background:"var(--bg3)",border:"1px solid var(--border2)",marginBottom:16,aspectRatio:"16/7",overflow:"hidden"}},currentImg?import_react.default.createElement("img",{src:currentImg,alt:activeWall,style:{width:"100%",height:"100%",objectFit:"contain"}}):import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text4)",fontSize:14}},"No artwork uploaded for ",activeWall," wall"),import_react.default.createElement("div",{style:{position:"absolute",top:12,left:12,background:"rgba(0,0,0,0.7)",padding:"6px 14px",fontFamily:"'Barlow Condensed',sans-serif",fontSize:14,fontWeight:700,letterSpacing:"0.14em",textTransform:"uppercase"}},activeWall," wall")),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8}},walls.map(wall=>import_react.default.createElement("div",{key:wall,onClick:()=>setActiveWall(wall),style:{position:"relative",aspectRatio:"4/3",background:"var(--bg2)",border:`1px solid ${activeWall===wall?"#fff":"rgba(255,255,255,0.1)"}`,cursor:"pointer",overflow:"hidden"}},artView.allWalls[wall]?import_react.default.createElement("img",{src:artView.allWalls[wall],alt:wall,style:{width:"100%",height:"100%",objectFit:"cover"}}):import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text4)",fontSize:11,textTransform:"uppercase",letterSpacing:"0.08em"}},"No art"),import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.75)",padding:"4px 8px",fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",color:activeWall===wall?"#fff":"rgba(255,255,255,0.5)"}},wall)))))}var INV_STORAGE="dce_inventory_v1";var INV_LOC_STORAGE="dce_inventory_locations";var DEFAULT_LOCATIONS=[{id:"loc1",name:"Rack A",color:"#3b82f6"},{id:"loc2",name:"Rack B",color:"#8b5cf6"},{id:"loc3",name:"Rack C",color:"#10b981"},{id:"loc4",name:"Bay 1",color:"#f59e0b"},{id:"loc5",name:"Bay 2",color:"#ef4444"},{id:"loc6",name:"Bay 3",color:"#06b6d4"},{id:"loc7",name:"Crate Storage",color:"#84cc16"},{id:"loc8",name:"Overflow",color:"#f97316"}];var ITEM_CONDITIONS=["New","Excellent","Good","Fair","Needs Repair"];var ITEM_CATEGORIES=["Displays","Structures","Lighting","Flooring","Furniture","Graphics","AV/Tech","Counters","Backwalls","Kiosks","Accessories","Hardware","Crates/Cases","Misc"];function loadInventory(){try{return JSON.parse(localStorage.getItem(INV_STORAGE)||"[]")}catch{return[]}}function saveInventory(items){try{localStorage.setItem(INV_STORAGE,JSON.stringify(items))}catch{}sbSaveAll("inventory",items)}function loadLocations(){try{return JSON.parse(localStorage.getItem(INV_LOC_STORAGE)||JSON.stringify(DEFAULT_LOCATIONS))}catch{return DEFAULT_LOCATIONS}}function saveLocations(locs){try{localStorage.setItem(INV_LOC_STORAGE,JSON.stringify(locs))}catch{}}function InventoryItemModal({item,locations,onSave,onClose}){var _a;const blank={id:genId(),name:"",category:"Displays",locationId:((_a=locations[0])==null?void 0:_a.id)||"",quantity:1,condition:"Good",dimensions:"",description:"",rentalDayRate:0,rentalWeekRate:0,photos:[],tags:""};const[form,setForm]=(0,import_react.useState)(item?{...item}:blank);const[nameError,setNameError]=(0,import_react.useState)(false);const setF=(k,v)=>{setForm(f=>({...f,[k]:v}));if(k==="name")setNameError(false)};const handlePhotos=e=>{Array.from(e.target.files).forEach(f=>{const reader=new FileReader;reader.onload=ev=>setForm(prev=>({...prev,photos:[...prev.photos||[],{id:genId(),name:f.name,data:ev.target.result}]}));reader.readAsDataURL(f)})};const handleSave=()=>{if(!form.name||!form.name.trim()){setNameError(true);return}onSave({...form,name:form.name.trim()})};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:600,display:"flex",alignItems:"center",justifyContent:"center",padding:20}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",width:"100%",maxWidth:700,maxHeight:"90vh",overflowY:"auto"}},import_react.default.createElement("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--border2)",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:"var(--bg2)",zIndex:1}},import_react.default.createElement(BC,{style:{fontSize:18,fontWeight:800,textTransform:"uppercase",color:"var(--text)"}},item?"Edit Item":"Add Item"),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text3)",fontSize:20,cursor:"pointer"}},"\u2715")),import_react.default.createElement("div",{style:{padding:24}},import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement(Label,null,"Photos"),import_react.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:6}},(form.photos||[]).map(ph=>import_react.default.createElement("div",{key:ph.id,style:{position:"relative",width:88,height:88}},import_react.default.createElement("img",{src:ph.data,alt:ph.name,style:{width:88,height:88,objectFit:"cover",border:"1px solid var(--border)"}}),import_react.default.createElement("button",{type:"button",onClick:()=>setF("photos",(form.photos||[]).filter(p=>p.id!==ph.id)),style:{position:"absolute",top:-6,right:-6,background:"rgba(200,0,0,0.85)",border:"none",color:"var(--text)",width:18,height:18,fontSize:10,cursor:"pointer",borderRadius:"50%",lineHeight:"18px",textAlign:"center"}},"\u2715"))),import_react.default.createElement("label",{style:{width:88,height:88,border:"2px dashed var(--border)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text4)",fontSize:22,gap:4}},import_react.default.createElement("span",null,"+"),import_react.default.createElement("span",{style:{fontSize:9,letterSpacing:"0.1em",textTransform:"uppercase"}},"Upload"),import_react.default.createElement("input",{type:"file",accept:"image/*",multiple:true,onChange:handlePhotos,style:{display:"none"}})))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16}},import_react.default.createElement("div",{style:{gridColumn:"1/-1"}},import_react.default.createElement(Label,{style:{color:nameError?"var(--danger)":void 0}},"Item Name ",nameError&&"\u2014 required"," *"),import_react.default.createElement(Input,{value:form.name,onChange:e=>setF("name",e.target.value),placeholder:"e.g. 10x10 Backwall Frame",style:{borderBottomColor:nameError?"var(--danger)":void 0}})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Category"),import_react.default.createElement("select",{value:form.category,onChange:e=>setF("category",e.target.value),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"8px 10px",outline:"none"}},ITEM_CATEGORIES.map(c=>import_react.default.createElement("option",{key:c,value:c,style:{background:"var(--bg3)"}},c)))),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Storage Location"),import_react.default.createElement("select",{value:form.locationId,onChange:e=>setF("locationId",e.target.value),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"8px 10px",outline:"none"}},locations.map(l=>import_react.default.createElement("option",{key:l.id,value:l.id,style:{background:"var(--bg3)"}},l.name)))),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Quantity"),import_react.default.createElement(Input,{type:"number",min:0,value:form.quantity,onChange:e=>setF("quantity",Number(e.target.value))})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Condition"),import_react.default.createElement("select",{value:form.condition,onChange:e=>setF("condition",e.target.value),style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"8px 10px",outline:"none"}},ITEM_CONDITIONS.map(c=>import_react.default.createElement("option",{key:c,value:c,style:{background:"var(--bg3)"}},c)))),import_react.default.createElement("div",{style:{gridColumn:"1/-1"}},import_react.default.createElement(Label,null,"Dimensions"),import_react.default.createElement(Input,{value:form.dimensions,onChange:e=>setF("dimensions",e.target.value),placeholder:"e.g. 10ft W \xD7 8ft H \xD7 1ft D"})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Daily Rental Rate ($)"),import_react.default.createElement(Input,{type:"number",min:0,value:form.rentalDayRate,onChange:e=>setF("rentalDayRate",Number(e.target.value))})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Weekly Rental Rate ($)"),import_react.default.createElement(Input,{type:"number",min:0,value:form.rentalWeekRate,onChange:e=>setF("rentalWeekRate",Number(e.target.value))})),import_react.default.createElement("div",{style:{gridColumn:"1/-1"}},import_react.default.createElement(Label,null,"Description / Notes"),import_react.default.createElement("textarea",{value:form.description,onChange:e=>setF("description",e.target.value),placeholder:"Any notes about this item, damage, special handling\u2026",style:{width:"100%",background:"var(--card-hover)",border:"1px solid var(--border2)",color:"var(--text2)",fontSize:12,padding:"8px 10px",resize:"vertical",minHeight:64,outline:"none"}})),import_react.default.createElement("div",{style:{gridColumn:"1/-1"}},import_react.default.createElement(Label,null,"Tags (comma separated)"),import_react.default.createElement(Input,{value:form.tags,onChange:e=>setF("tags",e.target.value),placeholder:"e.g. truss, aluminum, 20x20, double-deck"}))),import_react.default.createElement("div",{style:{display:"flex",gap:10,paddingTop:16,borderTop:"1px solid var(--border2)"}},!form.name.trim()&&import_react.default.createElement("div",{style:{fontSize:11,color:"var(--danger)",alignSelf:"center",flex:1}},"\u26A0 Name required"),import_react.default.createElement(Btn,{onClick:onClose,style:{flex:1}},"Cancel"),import_react.default.createElement("button",{type:"button",onClick:handleSave,style:{flex:2,padding:"9px 18px",fontSize:12,fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer",background:"var(--btn-pri)",color:"var(--btn-pri-text)",border:"none",fontFamily:"'Barlow Condensed',sans-serif"}},item?"Save Changes":"Add to Inventory")))))}function LocationManager({locations,items,onSave,onClose}){const{t}=useTheme();const theme=t||DARK;const[locs,setLocs]=(0,import_react.useState)([...locations]);const[newName,setNewName]=(0,import_react.useState)("");const COLORS=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"];const addLoc=()=>{if(!newName.trim())return;setLocs(l=>[...l,{id:genId(),name:newName.trim(),color:COLORS[l.length%COLORS.length]}]);setNewName("")};const removeLoc=id=>{const count=items.filter(i=>i.locationId===id).length;if(count>0&&!window.confirm(`${count} item(s) are in this location. Remove anyway?`))return;setLocs(l=>l.filter(x=>x.id!==id))};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:700,display:"flex",alignItems:"center",justifyContent:"center"}},import_react.default.createElement("div",{style:{background:theme.bg2,border:`1px solid ${theme.border}`,width:420,maxHeight:"80vh",overflowY:"auto"}},import_react.default.createElement("div",{style:{padding:"18px 22px",borderBottom:`1px solid ${theme.border2}`,display:"flex",justifyContent:"space-between"}},import_react.default.createElement(BC,{style:{fontSize:16,fontWeight:800,textTransform:"uppercase"}},"Manage Locations"),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text3)",fontSize:18,cursor:"pointer"}},"\u2715")),import_react.default.createElement("div",{style:{padding:20}},locs.map((loc,i)=>{const count=items.filter(it=>it.locationId===loc.id).length;return import_react.default.createElement("div",{key:loc.id,style:{display:"flex",alignItems:"center",gap:10,marginBottom:8,padding:"10px 12px",border:"1px solid var(--border2)"}},import_react.default.createElement("div",{style:{width:12,height:12,borderRadius:"50%",background:loc.color,flexShrink:0}}),import_react.default.createElement("input",{value:loc.name,onChange:e=>setLocs(l=>l.map((x,j)=>j===i?{...x,name:e.target.value}:x)),style:{flex:1,background:"none",border:"none",color:"var(--text)",fontSize:13,outline:"none"}}),import_react.default.createElement("span",{style:{fontSize:10,color:"var(--text3)"}},count," item",count!==1?"s":""),import_react.default.createElement("button",{type:"button",onClick:()=>removeLoc(loc.id),style:{background:"none",border:"none",color:"rgba(255,80,80,0.5)",cursor:"pointer",fontSize:12}},"\u2715"))}),import_react.default.createElement("div",{style:{display:"flex",gap:8,marginTop:12}},import_react.default.createElement(Input,{value:newName,onChange:e=>setNewName(e.target.value),placeholder:"New location name\u2026",onKeyDown:e=>e.key==="Enter"&&addLoc(),style:{flex:1}}),import_react.default.createElement(Btn,{onClick:addLoc},"+ Add")),import_react.default.createElement("div",{style:{display:"flex",gap:10,marginTop:20,paddingTop:16,borderTop:"1px solid var(--border2)"}},import_react.default.createElement(Btn,{onClick:onClose,style:{flex:1}},"Cancel"),import_react.default.createElement(Btn,{primary:true,onClick:()=>{onSave(locs);onClose()},style:{flex:2}},"Save Locations")))))}function InventoryTool(){var _a,_b;const{t}=useTheme();const theme=t||DARK;const[items,setItems]=(0,import_react.useState)(loadInventory);const[locations,setLocations]=(0,import_react.useState)(loadLocations);const[search,setSearch]=(0,import_react.useState)("");const[filterLoc,setFilterLoc]=(0,import_react.useState)("all");const[filterCat,setFilterCat]=(0,import_react.useState)("all");const[view,setView]=(0,import_react.useState)("grid");const[showAdd,setShowAdd]=(0,import_react.useState)(false);const[editItem,setEditItem]=(0,import_react.useState)(null);const[showLocMgr,setShowLocMgr]=(0,import_react.useState)(false);const[selectedItem,setSelectedItem]=(0,import_react.useState)(null);(0,import_react.useEffect)(()=>{sbLoad("inventory").then(rows=>{if(rows&&rows.length>0){try{localStorage.setItem(INV_STORAGE,JSON.stringify(rows))}catch{}setItems(rows)}})},[]);const saveItems=next=>{setItems(next);saveInventory(next)};const saveLocs=next=>{setLocations(next);saveLocations(next)};const addOrUpdate=form=>{const exists=items.find(i=>i.id===form.id);saveItems(exists?items.map(i=>i.id===form.id?form:i):[...items,form]);setShowAdd(false);setEditItem(null)};const deleteItem=id=>{if(window.confirm("Delete this item?"))saveItems(items.filter(i=>i.id!==id));setSelectedItem(null)};const filtered=items.filter(it=>{const q=search.toLowerCase();const matchSearch=!q||it.name.toLowerCase().includes(q)||(it.tags||"").toLowerCase().includes(q)||it.category.toLowerCase().includes(q)||(it.description||"").toLowerCase().includes(q);const matchLoc=filterLoc==="all"||it.locationId===filterLoc;const matchCat=filterCat==="all"||it.category===filterCat;return matchSearch&&matchLoc&&matchCat});const byLocation=locations.map(loc=>({...loc,items:filtered.filter(it=>it.locationId===loc.id),totalItems:items.filter(it=>it.locationId===loc.id).length}));const getLocName=id=>{var _a2;return((_a2=locations.find(l=>l.id===id))==null?void 0:_a2.name)||"Unknown"};const getLocColor=id=>{var _a2;return((_a2=locations.find(l=>l.id===id))==null?void 0:_a2.color)||"#666"};const conditionColor=c=>({"New":"#4ade80","Excellent":"#86efac","Good":"#fde047","Fair":"#fb923c","Needs Repair":"#f87171"})[c]||"#999";return import_react.default.createElement("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px 32px",background:theme.bg,minHeight:"100vh",color:theme.text}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:28}},import_react.default.createElement("div",null,import_react.default.createElement(BC,{style:{fontSize:9,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8}},"Warehouse"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:800,textTransform:"uppercase"}},"Inventory")),import_react.default.createElement("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"}},import_react.default.createElement("button",{type:"button",onClick:()=>setView(v=>v==="grid"?"list":"grid"),style:{background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text2)",padding:"8px 14px",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em"}},view==="grid"?"\u229F List":"\u229E Grid"),import_react.default.createElement(Btn,{onClick:()=>setShowLocMgr(true)},"\u2295 Locations"),import_react.default.createElement(Btn,{primary:true,onClick:()=>setShowAdd(true)},"+ Add Item"))),import_react.default.createElement("div",{style:{display:"flex",gap:10,marginBottom:20,flexWrap:"wrap"}},import_react.default.createElement("div",{style:{flex:1,minWidth:200,position:"relative"}},import_react.default.createElement("span",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"var(--text3)",fontSize:14}},"\u2315"),import_react.default.createElement("input",{value:search,onChange:e=>setSearch(e.target.value),placeholder:"Search items, tags, categories\u2026",style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:13,padding:"9px 12px 9px 32px",outline:"none"}})),import_react.default.createElement("select",{value:filterLoc,onChange:e=>setFilterLoc(e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text2)",fontSize:12,padding:"9px 12px",outline:"none"}},import_react.default.createElement("option",{value:"all",style:{background:"var(--bg3)"}},"All Locations"),locations.map(l=>import_react.default.createElement("option",{key:l.id,value:l.id,style:{background:"var(--bg3)"}},l.name))),import_react.default.createElement("select",{value:filterCat,onChange:e=>setFilterCat(e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text2)",fontSize:12,padding:"9px 12px",outline:"none"}},import_react.default.createElement("option",{value:"all",style:{background:"var(--bg3)"}},"All Categories"),ITEM_CATEGORIES.map(c=>import_react.default.createElement("option",{key:c,value:c,style:{background:"var(--bg3)"}},c))),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",display:"flex",alignItems:"center",paddingRight:4}},filtered.length," item",filtered.length!==1?"s":"")),filterLoc==="all"&&!search&&filterCat==="all"?import_react.default.createElement("div",null,byLocation.map(loc=>{const locItems=loc.items;return import_react.default.createElement("div",{key:loc.id,style:{marginBottom:28}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10,paddingBottom:8,borderBottom:`2px solid ${loc.color}55`,cursor:"pointer"},onClick:()=>setFilterLoc(loc.id)},import_react.default.createElement("div",{style:{width:12,height:12,borderRadius:"50%",background:loc.color,boxShadow:`0 0 8px ${loc.color}66`,flexShrink:0}}),import_react.default.createElement(BC,{style:{fontSize:15,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",color:"var(--text)"}},loc.name),import_react.default.createElement("span",{style:{fontSize:12,color:"var(--text3)",fontWeight:600}},loc.totalItems," item",loc.totalItems!==1?"s":""),loc.totalItems>0&&import_react.default.createElement("span",{style:{marginLeft:"auto",fontSize:10,color:"var(--text4)"}},"view all \u203A")),locItems.length===0?import_react.default.createElement("div",{style:{padding:"16px",border:"1px dashed var(--border2)",textAlign:"center",color:"var(--text4)",fontSize:12}},"Empty \u2014 ",import_react.default.createElement("button",{type:"button",onClick:()=>setShowAdd(true),style:{background:"none",border:"none",color:"var(--accent)",cursor:"pointer",fontSize:12,padding:0,fontFamily:"inherit"}},"add an item here")):import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(175px,1fr))",gap:1,background:"var(--grid-gap)"}},locItems.map(item=>import_react.default.createElement(InventoryCard,{key:item.id,item,locColor:loc.color,onEdit:()=>setEditItem(item),onSelect:()=>setSelectedItem(item),onDelete:()=>deleteItem(item.id),condColor:conditionColor(item.condition)}))))})):view==="grid"?import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(175px,1fr))",gap:1,background:"var(--grid-gap)"}},filtered.length===0?import_react.default.createElement("div",{style:{gridColumn:"1/-1",padding:"40px",textAlign:"center",color:"var(--text4)"}},"No items match your search."):filtered.map(item=>import_react.default.createElement(InventoryCard,{key:item.id,item,locColor:getLocColor(item.locationId),onEdit:()=>setEditItem(item),onSelect:()=>setSelectedItem(item),onDelete:()=>deleteItem(item.id),condColor:conditionColor(item.condition)}))):import_react.default.createElement("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12}},import_react.default.createElement("thead",null,import_react.default.createElement("tr",{style:{borderBottom:"1px solid var(--border)"}},["","Name","Category","Location","Qty","Condition","Day Rate",""].map(h=>import_react.default.createElement("th",{key:h,style:{padding:"8px 12px",textAlign:"left"}},h)))),import_react.default.createElement("tbody",null,filtered.map(item=>{var _a2;return import_react.default.createElement("tr",{key:item.id,style:{cursor:"pointer"},onMouseEnter:e=>e.currentTarget.style.background="var(--card-hover)",onMouseLeave:e=>e.currentTarget.style.background="transparent",onClick:()=>setSelectedItem(item)},import_react.default.createElement("td",{style:{padding:"10px 12px",width:44}},((_a2=item.photos)==null?void 0:_a2[0])?import_react.default.createElement("img",{src:item.photos[0].data,style:{width:36,height:36,objectFit:"cover"}}):import_react.default.createElement("div",{style:{width:36,height:36,background:"var(--input-bg)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16}},"\u{1F4E6}")),import_react.default.createElement("td",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)"}},item.name),import_react.default.createElement("td",{style:{padding:"10px 12px",color:"var(--text3)"}},item.category),import_react.default.createElement("td",{style:{padding:"10px 12px"}},import_react.default.createElement("span",{style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:11}},import_react.default.createElement("span",{style:{width:8,height:8,borderRadius:"50%",background:getLocColor(item.locationId),flexShrink:0}}),import_react.default.createElement("span",{style:{color:"var(--text2)"}},getLocName(item.locationId)))),import_react.default.createElement("td",{style:{padding:"10px 12px",color:"var(--text2)"}},item.quantity),import_react.default.createElement("td",{style:{padding:"10px 12px"}},import_react.default.createElement("span",{style:{fontSize:10,color:conditionColor(item.condition),fontWeight:700}},item.condition)),import_react.default.createElement("td",{style:{padding:"10px 12px",color:"var(--text3)"}},item.rentalDayRate>0?`$${item.rentalDayRate}/day`:"\u2014"),import_react.default.createElement("td",{style:{padding:"10px 12px"}},import_react.default.createElement("div",{style:{display:"flex",gap:6}},import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();setEditItem(item)},style:{background:"none",border:"1px solid var(--border)",color:"var(--text3)",fontSize:10,padding:"3px 8px",cursor:"pointer"}},"Edit"),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();deleteItem(item.id)},style:{background:"none",border:"1px solid rgba(255,80,80,0.3)",color:"rgba(220,60,60,0.8)",fontSize:10,padding:"3px 8px",cursor:"pointer"}},"\u2715"))))}))),selectedItem&&import_react.default.createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,width:380,background:theme.panelBg,borderLeft:`1px solid ${theme.border}`,zIndex:400,overflowY:"auto",padding:24}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20}},import_react.default.createElement(BC,{style:{fontSize:16,fontWeight:800,textTransform:"uppercase"}},"Item Detail"),import_react.default.createElement("button",{type:"button",onClick:()=>setSelectedItem(null),style:{background:"none",border:"none",color:"var(--text3)",fontSize:20,cursor:"pointer"}},"\u2715")),((_a=selectedItem.photos)==null?void 0:_a.length)>0&&import_react.default.createElement("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:16}},selectedItem.photos.map((ph,i)=>import_react.default.createElement("img",{key:ph.id,src:ph.data,style:{width:i===0?240:72,height:i===0?180:72,objectFit:"cover",border:"1px solid var(--border2)"}}))),!((_b=selectedItem.photos)==null?void 0:_b.length)&&import_react.default.createElement("div",{style:{height:120,background:"var(--card-hover)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:40,marginBottom:16}},"\u{1F4E6}"),import_react.default.createElement("h3",{style:{fontSize:20,fontWeight:700,marginBottom:4}},selectedItem.name),import_react.default.createElement("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:16,flexWrap:"wrap"}},import_react.default.createElement("span",{style:{fontSize:10,padding:"3px 8px",background:"var(--input-bg)",color:"var(--text2)",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.08em"}},selectedItem.category),import_react.default.createElement("span",{style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:11}},import_react.default.createElement("span",{style:{width:8,height:8,borderRadius:"50%",background:getLocColor(selectedItem.locationId)}}),import_react.default.createElement("span",{style:{color:"var(--text2)"}},getLocName(selectedItem.locationId))),import_react.default.createElement("span",{style:{fontSize:10,color:conditionColor(selectedItem.condition),fontWeight:700}},selectedItem.condition)),[["Quantity",selectedItem.quantity],["Dimensions",selectedItem.dimensions],["Day Rate",selectedItem.rentalDayRate>0?`$${selectedItem.rentalDayRate}/day`:"\u2014"],["Week Rate",selectedItem.rentalWeekRate>0?`$${selectedItem.rentalWeekRate}/week`:"\u2014"]].filter(([,v])=>v).map(([k,v])=>import_react.default.createElement("div",{key:k,style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid var(--border2)",fontSize:12}},import_react.default.createElement("span",{style:{color:"var(--text3)"}},k),import_react.default.createElement("span",{style:{color:"var(--text2)",fontWeight:600}},v))),selectedItem.description&&import_react.default.createElement("p",{style:{fontSize:12,color:"var(--text2)",marginTop:12,lineHeight:1.6}},selectedItem.description),selectedItem.tags&&import_react.default.createElement("div",{style:{marginTop:12,display:"flex",flexWrap:"wrap",gap:4}},selectedItem.tags.split(",").map(t2=>t2.trim()).filter(Boolean).map(t2=>import_react.default.createElement("span",{key:t2,style:{fontSize:10,padding:"2px 8px",background:"var(--input-bg)",color:"var(--text3)",border:"1px solid var(--border2)"}},t2))),import_react.default.createElement("div",{style:{display:"flex",gap:8,marginTop:20,paddingTop:16,borderTop:"1px solid var(--border2)"}},import_react.default.createElement(Btn,{onClick:()=>{setEditItem(selectedItem);setSelectedItem(null)},style:{flex:1}},"\u270E Edit"),import_react.default.createElement(Btn,{onClick:()=>deleteItem(selectedItem.id),style:{flex:1,color:"rgba(255,80,80,0.7)",borderColor:"rgba(255,80,80,0.2)"}},"\u2715 Delete"))),(showAdd||editItem)&&import_react.default.createElement(InventoryItemModal,{item:editItem||null,locations,onSave:addOrUpdate,onClose:()=>{setShowAdd(false);setEditItem(null)}}),showLocMgr&&import_react.default.createElement(LocationManager,{locations,items,onSave:saveLocs,onClose:()=>setShowLocMgr(false)}))}function InventoryCard({item,locColor,onEdit,onSelect,onDelete,condColor}){var _a;const{t}=useTheme();const theme=t||DARK;const[hov,setHov]=(0,import_react.useState)(false);return import_react.default.createElement("div",{style:{background:"var(--card)",position:"relative",cursor:"pointer",transition:"background 0.12s"},onMouseEnter:()=>setHov(true),onMouseLeave:()=>setHov(false),onClick:onSelect},import_react.default.createElement("div",{style:{width:"100%",paddingBottom:"100%",position:"relative",overflow:"hidden",background:"var(--card-hover)"}},((_a=item.photos)==null?void 0:_a[0])?import_react.default.createElement("img",{src:item.photos[0].data,alt:item.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.2s",transform:hov?"scale(1.05)":"scale(1)"}}):import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,color:"var(--text4)"}},"\u{1F4E6}"),import_react.default.createElement("div",{style:{position:"absolute",top:6,left:6,background:"rgba(0,0,0,0.75)",fontSize:10,fontWeight:700,padding:"2px 6px",color:"var(--text2)"}},"\xD7",item.quantity),import_react.default.createElement("div",{style:{position:"absolute",top:6,right:6,width:8,height:8,borderRadius:"50%",background:condColor,boxShadow:`0 0 6px ${condColor}`}}),hov&&import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"var(--modal-bg)",display:"flex",gap:0}},import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();onEdit()},style:{flex:1,background:"none",border:"none",color:"var(--text2)",fontSize:11,padding:"6px",cursor:"pointer",fontWeight:600}},"\u270E"),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();onDelete()},style:{flex:1,background:"none",border:"none",color:"rgba(255,80,80,0.6)",fontSize:11,padding:"6px",cursor:"pointer",fontWeight:600}},"\u2715"))),import_react.default.createElement("div",{style:{padding:"10px 10px 12px",borderTop:`2px solid ${locColor}40`}},import_react.default.createElement("div",{style:{fontSize:12,fontWeight:600,color:"var(--text2)",lineHeight:1.3,marginBottom:3,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},item.name),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement("span",{style:{fontSize:10,color:"var(--text3)"}},item.category),item.rentalDayRate>0&&import_react.default.createElement("span",{style:{fontSize:10,color:"rgba(0,174,239,0.8)",fontWeight:700}},"$",item.rentalDayRate,"/d"))))}function InventoryPicker({onSelect,onClose}){var _a;const{t}=useTheme();const theme=t||DARK;const[items]=(0,import_react.useState)(loadInventory);const[locations]=(0,import_react.useState)(loadLocations);const[search,setSearch]=(0,import_react.useState)("");const[filterLoc,setFilterLoc]=(0,import_react.useState)("all");const[filterCat,setFilterCat]=(0,import_react.useState)("all");const[qty,setQty]=(0,import_react.useState)(1);const[days,setDays]=(0,import_react.useState)(1);const[useWeekly,setUseWeekly]=(0,import_react.useState)(false);const[picked,setPicked]=(0,import_react.useState)(null);const filtered=items.filter(it=>{const q=search.toLowerCase();const matchS=!q||it.name.toLowerCase().includes(q)||(it.tags||"").toLowerCase().includes(q)||it.category.toLowerCase().includes(q);const matchL=filterLoc==="all"||it.locationId===filterLoc;const matchC=filterCat==="all"||it.category===filterCat;return matchS&&matchL&&matchC});const getLocName=id=>{var _a2;return((_a2=locations.find(l=>l.id===id))==null?void 0:_a2.name)||""};const getLocColor=id=>{var _a2;return((_a2=locations.find(l=>l.id===id))==null?void 0:_a2.color)||"#666"};const rate=picked?useWeekly?picked.rentalWeekRate:picked.rentalDayRate:0;const lineTotal=rate*qty*days;const confirm2=()=>{if(!picked)return;onSelect({id:genId(),description:`${picked.name} (${qty>1?`\xD7${qty} `:""}${days} ${useWeekly?"week":"day"}${days!==1?"s":""})`,qty,unitPrice:rate*days,category:"Rental",taxable:false,inventoryItemId:picked.id,inventoryItemName:picked.name})};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:700,display:"flex",alignItems:"stretch",justifyContent:"center"}},import_react.default.createElement("div",{style:{background:theme.bg2,width:"100%",maxWidth:900,display:"flex",flexDirection:"column",margin:"24px",border:`1px solid ${theme.border}`}},import_react.default.createElement("div",{style:{padding:"16px 20px",borderBottom:`1px solid ${theme.border2}`,display:"flex",gap:12,alignItems:"center",flexShrink:0}},import_react.default.createElement(BC,{style:{fontSize:16,fontWeight:800,textTransform:"uppercase",marginRight:8}},"Select Rental Item"),import_react.default.createElement("div",{style:{flex:1,position:"relative"}},import_react.default.createElement("span",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"var(--text3)"}},"\u2315"),import_react.default.createElement("input",{value:search,onChange:e=>setSearch(e.target.value),autoFocus:true,placeholder:"Search inventory\u2026",style:{width:"100%",background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:13,padding:"8px 12px 8px 30px",outline:"none"}})),import_react.default.createElement("select",{value:filterLoc,onChange:e=>setFilterLoc(e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text2)",fontSize:11,padding:"8px 10px",outline:"none"}},import_react.default.createElement("option",{value:"all",style:{background:"var(--bg3)"}},"All Locations"),locations.map(l=>import_react.default.createElement("option",{key:l.id,value:l.id,style:{background:"var(--bg3)"}},l.name))),import_react.default.createElement("select",{value:filterCat,onChange:e=>setFilterCat(e.target.value),style:{background:"var(--input-bg)",border:"1px solid var(--border2)",color:"var(--text2)",fontSize:11,padding:"8px 10px",outline:"none"}},import_react.default.createElement("option",{value:"all",style:{background:"var(--bg3)"}},"All Categories"),ITEM_CATEGORIES.map(c=>import_react.default.createElement("option",{key:c,value:c,style:{background:"var(--bg3)"}},c))),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text3)",fontSize:20,cursor:"pointer",flexShrink:0}},"\u2715")),import_react.default.createElement("div",{style:{display:"flex",flex:1,overflow:"hidden",minHeight:0}},import_react.default.createElement("div",{style:{flex:1,overflowY:"auto",padding:16}},items.length===0&&import_react.default.createElement("div",{style:{textAlign:"center",padding:"60px 0",color:"var(--text4)"}},import_react.default.createElement("div",{style:{fontSize:40,marginBottom:12}},"\u{1F4E6}"),"No inventory items yet. Add items in the Inventory tool first."),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(150px,1fr))",gap:1,background:"var(--input-bg)"}},filtered.map(item=>{var _a2;const isPicked=(picked==null?void 0:picked.id)===item.id;return import_react.default.createElement("div",{key:item.id,onClick:()=>setPicked(item),style:{background:isPicked?"rgba(0,174,239,0.12)":"#000",cursor:"pointer",border:isPicked?"1px solid rgba(0,174,239,0.6)":"1px solid transparent",outline:"none"}},import_react.default.createElement("div",{style:{paddingBottom:"75%",position:"relative",background:"var(--card-hover)",overflow:"hidden"}},((_a2=item.photos)==null?void 0:_a2[0])?import_react.default.createElement("img",{src:item.photos[0].data,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}):import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,color:"var(--text4)"}},"\u{1F4E6}"),isPicked&&import_react.default.createElement("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,174,239,0.2)"}},import_react.default.createElement("span",{style:{fontSize:24}},"\u2713"))),import_react.default.createElement("div",{style:{padding:"8px 8px 10px"}},import_react.default.createElement("div",{style:{fontSize:11,fontWeight:600,color:"var(--text2)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:2}},item.name),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:10}},import_react.default.createElement("span",{style:{color:"var(--text3)",display:"flex",alignItems:"center",gap:3}},import_react.default.createElement("span",{style:{width:6,height:6,borderRadius:"50%",background:getLocColor(item.locationId),display:"inline-block"}}),getLocName(item.locationId)),item.rentalDayRate>0&&import_react.default.createElement("span",{style:{color:"rgba(0,174,239,0.7)",fontWeight:700}},"$",item.rentalDayRate,"/d"))))}))),import_react.default.createElement("div",{style:{width:260,flexShrink:0,borderLeft:`1px solid ${theme.border2}`,padding:20,overflowY:"auto",display:"flex",flexDirection:"column",gap:16}},!picked?import_react.default.createElement("div",{style:{textAlign:"center",color:"var(--text4)",fontSize:12,padding:"40px 0"}},"\u2190 Select an item to configure rental"):import_react.default.createElement(import_react.default.Fragment,null,((_a=picked.photos)==null?void 0:_a[0])&&import_react.default.createElement("img",{src:picked.photos[0].data,style:{width:"100%",height:140,objectFit:"cover",border:"1px solid var(--border2)"}}),import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontWeight:700,fontSize:15,marginBottom:4}},picked.name),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)"}},picked.category," \xB7 ",getLocName(picked.locationId)),picked.dimensions&&import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",marginTop:2}},picked.dimensions)),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Quantity"),import_react.default.createElement(Input,{type:"number",min:1,value:qty,onChange:e=>setQty(Math.max(1,Number(e.target.value)))})),import_react.default.createElement("div",null,import_react.default.createElement(Label,null,"Duration (",useWeekly?"weeks":"days",")"),import_react.default.createElement(Input,{type:"number",min:1,value:days,onChange:e=>setDays(Math.max(1,Number(e.target.value)))})),import_react.default.createElement("div",{style:{display:"flex",gap:0,border:"1px solid var(--border)"}},[["Days",false],["Weeks",true]].map(([label,weekly])=>import_react.default.createElement("button",{type:"button",key:label,onClick:()=>setUseWeekly(weekly),style:{flex:1,padding:"7px 0",background:useWeekly===weekly?"rgba(255,255,255,0.1)":"transparent",border:"none",color:useWeekly===weekly?"#fff":"rgba(255,255,255,0.4)",fontSize:11,fontWeight:700,cursor:"pointer"}},label))),import_react.default.createElement("div",{style:{background:"rgba(0,174,239,0.06)",border:"1px solid rgba(0,174,239,0.2)",padding:"12px 14px"}},import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)",marginBottom:4,textTransform:"uppercase",letterSpacing:"0.1em"}},"Rental Total"),import_react.default.createElement("div",{style:{fontSize:24,fontWeight:800,color:"rgba(0,174,239,0.9)"}},"$",lineTotal.toLocaleString()),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text3)",marginTop:2}},"$",rate,"/",useWeekly?"wk":"day"," \xD7 ",qty>1?`${qty} units \xD7 `:"",days," ",useWeekly?"week":"day",days!==1?"s":"")),import_react.default.createElement(Btn,{primary:true,onClick:confirm2,style:{width:"100%"}},"Add to Quote \u2192"))))))}function App(){const[active,setActive]=(0,import_react.useState)(()=>{try{return localStorage.getItem("dce_active_tab")||"home"}catch{return"home"}});const setTab=tab=>{setActive(tab);try{localStorage.setItem("dce_active_tab",tab)}catch{}};const[dark,setDark]=(0,import_react.useState)(()=>{try{return localStorage.getItem("dce_theme")!=="light"}catch{return true}});const toggleTheme=()=>{const next=!dark;setDark(next);try{localStorage.setItem("dce_theme",next?"dark":"light")}catch{}};const t=dark?DARK:LIGHT;return import_react.default.createElement(ThemeCtx.Provider,{value:{dark,toggle:toggleTheme,t}},import_react.default.createElement(GlobalStyle,{dark}),import_react.default.createElement("div",{style:{minHeight:"100vh",background:t.bg,color:t.text,transition:"background 0.2s, color 0.2s"}},import_react.default.createElement(Nav,{active,setActive:setTab,dark,toggleTheme,t}),import_react.default.createElement("main",null,active==="home"&&import_react.default.createElement(Home,{setActive:setTab}),active==="projects"&&import_react.default.createElement(ProjectOverview,{setActive:setTab}),active==="estimator"&&import_react.default.createElement(EstimatorTool,null),active==="milestone"&&import_react.default.createElement(MilestoneCreator,null),active==="hours"&&import_react.default.createElement(ShopHours,null),active==="quickquote"&&import_react.default.createElement(QuickQuote,null),active==="quotes"&&import_react.default.createElement(QuoteTool,null),active==="inventory"&&import_react.default.createElement(InventoryTool,null),active==="portal"&&import_react.default.createElement(ClientPortal,null))))}var buildSystemPrompt=(location,boothSize,sqft)=>`You are a senior fabrication estimator at DreamCraft Events (DCE), a world-class experiential fabrication company in Tustin, CA that builds trade show exhibits, branded activations, music festival experiences, and immersive brand environments.

BOOTH CONTEXT:
- Location: ${location.toUpperCase()}
- Size: ${boothSize} ${sqft?`(~${sqft} sqft)`:""}

PRICING REFERENCE:
${location==="indoor"?`Indoor:
- Flooring: $4.25/sqft (carpet/linoleum)
- Graphics: $15-18/sqft (vinyl wrap / SEG)
- Wall: $37.50/sqft (plywood or aluminum SEG frame)
- Custom Wall: $70/sqft (shelving unit or cutout)
- Hanging Sign: $37.50/sqft
- Reception Counter: $2,500 each
- LED Video Wall: $195/sqft (rental indoor tiles)
- Counter: $600/linear ft (2-6ft range)
- Logo Lighting: $1,850-$2,600 each
- Stanchion: $40 each (tradeshow: $75 each)`:`Outdoor:
- Flooring Snap Block/Carpet: $4.25/sqft
- Rental Platform Flooring: $17.50/sqft
- Astro Turf: $4/sqft
- Graphics: $15-18/sqft (vinyl wrap / SEG)
- Wall: $37.50/sqft (plywood / aluminum SEG)
- Custom Wall: $70/sqft (shelving/cutout)
- Built Signage: $37.50/sqft
- LED Video Wall: $250/sqft (outdoor rental tiles)
- High Boy Table: $135 each
- Printed Canopy: $9/sqft
- Truss Stock: $25/linear ft (12x12)
- Stanchion: $40-75 each
- Rental Counter: $450-600 each`}

LOGISTICS BENCHMARKS:
- Warehouse outbound: $86-$96/hr, 8-20 hrs typical
- Packing/pallets/crating: $385-$485 per unit
- Transportation: local ($900-$1,800), regional ($5,000-$6,000), national ($10,000+)
- I&D labor: small ~$8,000-$15,000 | medium ~$15,000-$25,000 | large ~$25,000-$45,000+
- Labor travel: $3,500-$10,000+
- Warehouse inbound: $688-$1,152
- Sundries: $1.25/sqft
- Pre-show/PM: $2,500-$8,000
- Structural engineering (large outdoor): $3,750-$4,250

TIERING:
- AFFORDABLE: Standard materials, vinyl graphics, basic lighting, minimal custom. Max impact at lowest cost.
- MID-TIER: Quality custom fabrication, SEG graphics, custom counters, moderate LED, possible small display.
- HIGH-END: Premium custom builds, bespoke cabinetry, large LED video walls, interactive tech, full lighting.

TASK: Analyze the render (if provided), identify all elements, and produce three estimate tiers.

Respond ONLY with valid JSON \u2014 no markdown, no backticks, no preamble. Keep all string values under 100 chars. Use this exact structure:
{
  "analysis": { "detected_elements": ["string"], "assumptions": ["string"] },
  "clarifying_questions": [{ "id": "q1", "question": "string", "why_it_matters": "string", "options": ["A","B","other"] }],
  "estimates": {
    "affordable": {
      "label": "Affordable", "description": "string",
      "fabrication_items": [{ "item": "string", "qty": "string", "unit_cost": 0, "subtotal": 0 }],
      "fabrication_subtotal": 0,
      "logistics": { "warehouse_outbound": 0, "packing_materials": 0, "transportation_to_show": 0, "installation_dismantle_labor": 0, "labor_travel_expenses": 0, "freight_return": 0, "warehouse_inbound": 0, "sundries": 0, "preshow_pm": 0 },
      "logistics_subtotal": 0, "grand_total": 0, "notes": "string"
    },
    "mid_tier": { "label": "Mid-Tier", "description": "string", "fabrication_items": [{ "item": "string", "qty": "string", "unit_cost": 0, "subtotal": 0 }], "fabrication_subtotal": 0, "logistics": { "warehouse_outbound": 0, "packing_materials": 0, "transportation_to_show": 0, "installation_dismantle_labor": 0, "labor_travel_expenses": 0, "freight_return": 0, "warehouse_inbound": 0, "sundries": 0, "preshow_pm": 0 }, "logistics_subtotal": 0, "grand_total": 0, "notes": "string" },
    "high_end": { "label": "High-End", "description": "string", "fabrication_items": [{ "item": "string", "qty": "string", "unit_cost": 0, "subtotal": 0 }], "fabrication_subtotal": 0, "logistics": { "warehouse_outbound": 0, "packing_materials": 0, "transportation_to_show": 0, "installation_dismantle_labor": 0, "labor_travel_expenses": 0, "freight_return": 0, "warehouse_inbound": 0, "sundries": 0, "preshow_pm": 0 }, "logistics_subtotal": 0, "grand_total": 0, "notes": "string" }
  },
  "time_estimate": { "fabrication_weeks": "string", "install_days": "string", "dismantle_days": "string" }
}`;var BOOTH_SIZES={"10x20":{sqft:200,label:"Small \u2013 10\xD720 (200 sqft)"},"20x20":{sqft:400,label:"Medium \u2013 20\xD720 (400 sqft)"},"30x30":{sqft:900,label:"Large \u2013 30\xD730 (900 sqft)"},"40x40":{sqft:1600,label:"XL \u2013 40\xD740 (1,600 sqft)"},"custom":{sqft:null,label:"Custom Size"}};var TIER_STYLES={affordable:{accent:"var(--text)",bg:"var(--input-bg)",border:"var(--border2)",icon:"I \u0131"},mid_tier:{accent:"var(--text)",bg:"var(--input-bg)",border:"var(--border)",icon:"II \u0131\u0131"},high_end:{accent:"var(--text)",bg:"var(--input-bg)",border:"var(--border)",icon:"III \u0131\u0131"}};var LOGISTICS_LABELS={warehouse_outbound:"Warehouse Outbound",packing_materials:"Packing Materials",transportation_to_show:"Transportation to Show",installation_dismantle_labor:"Install & Dismantle Labor",labor_travel_expenses:"Labor Travel & Expenses",freight_return:"Freight Return",warehouse_inbound:"Warehouse Inbound",sundries:"Sundries & Incidentals",preshow_pm:"Pre-Show / Project Management"};var STATUS_STYLES={draft:{color:"var(--text3)",bg:"var(--input-bg)",label:"DRAFT"},sent:{color:"rgba(60,140,240,0.9)",bg:"rgba(60,140,240,0.1)",label:"SENT"},accepted:{color:"var(--success)",bg:"rgba(60,180,60,0.1)",label:"ACCEPTED"},revised:{color:"var(--warn)",bg:"rgba(180,120,0,0.1)",label:"REVISED"}};var fmtDate=iso=>{if(!iso)return"\u2014";const d=new Date(iso);const now=new Date;const diffMs=now-d;const diffMins=Math.floor(diffMs/6e4);const diffHrs=Math.floor(diffMs/36e5);const diffDays=Math.floor(diffMs/864e5);if(diffMins<1)return"just now";if(diffMins<60)return`${diffMins}m ago`;if(diffHrs<24)return`${diffHrs}h ago`;if(diffDays===1)return"yesterday";if(diffDays<7)return`${diffDays}d ago`;return d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:diffDays>365?"numeric":void 0})+" "+d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})};function fileToBase64(file){return new Promise((res,rej)=>{const MAX_PX=1024;const QUALITY=.82;const reader=new FileReader;reader.onerror=()=>rej(new Error("Could not read file \u2014 try a JPG or PNG."));reader.onload=e=>{var _a;const dataUrl=(_a=e.target)==null?void 0:_a.result;if(!dataUrl||typeof dataUrl!=="string"||!dataUrl.startsWith("data:")){rej(new Error("FileReader returned invalid data \u2014 try a JPG or PNG."));return}const img=new Image;let settled=false;const fail=msg=>{if(!settled){settled=true;rej(new Error(msg))}};const succeed=b64=>{if(!settled){settled=true;res(b64)}};const timer=setTimeout(()=>fail("Image decode timed out \u2014 try saving as JPG or PNG."),8e3);img.onerror=()=>{clearTimeout(timer);fail("Could not decode image \u2014 try saving as JPG or PNG.")};img.onload=()=>{clearTimeout(timer);try{let{width,height}=img;if(!width||!height){fail("Image has zero dimensions.");return}if(width>MAX_PX||height>MAX_PX){if(width>=height){height=Math.round(height*MAX_PX/width);width=MAX_PX}else{width=Math.round(width*MAX_PX/height);height=MAX_PX}}const canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;const ctx=canvas.getContext("2d");ctx.drawImage(img,0,0,width,height);const out=canvas.toDataURL("image/jpeg",QUALITY);const parts=out.split(",");if(!parts[1]){fail("Canvas export failed \u2014 try a different image.");return}succeed(parts[1])}catch(err){fail("Image resize failed: "+err.message)}};img.src=dataUrl};try{reader.readAsDataURL(file)}catch(e){rej(new Error("Could not open file: "+e.message))}})}function recalcTotals(tier){const fabrication_subtotal=(tier.fabrication_items||[]).reduce((s,i)=>s+(Number(i.subtotal)||0),0);const logistics_subtotal=Object.values(tier.logistics||{}).reduce((s,v)=>s+(Number(v)||0),0);return{...tier,fabrication_subtotal,logistics_subtotal,grand_total:fabrication_subtotal+logistics_subtotal}}var DEPT_PATTERNS={"Graphics":[/graphic/i,/print/i,/vinyl/i,/wrap/i,/banner/i,/signage/i,/sign/i,/decal/i,/mural/i,/backdrop/i,/fabric/i,/seg/i,/display/i,/artwork/i,/logo/i,/branding/i],"Woodwork":[/wood/i,/plywood/i,/lumber/i,/cabinet/i,/counter/i,/shelf/i,/shelving/i,/crate/i,/platform/i,/flooring/i,/floor/i,/substrate/i,/millwork/i,/paneling/i],"Metal & Steel":[/metal/i,/steel/i,/aluminum/i,/alumin/i,/truss/i,/frame/i,/weld/i,/rigging/i,/bracket/i,/hardware/i,/pipe/i,/tubing/i,/extrusion/i],"Tech & AV":[/led/i,/screen/i,/monitor/i,/video/i,/av/i,/audio/i,/light/i,/lighting/i,/interactive/i,/touch/i,/digital/i,/projector/i,/display/i,/tech/i,/electric/i,/power/i,/cable/i],"Installation":[/install/i,/dismantle/i,/rigging/i,/labor/i,/crew/i,/travel/i,/freight/i,/shipping/i,/transport/i,/warehouse/i,/packing/i,/sundry/i,/pm/i,/project\s*manage/i]};function classifyItem(itemName){for(const[dept,patterns]of Object.entries(DEPT_PATTERNS)){if(patterns.some(p=>p.test(itemName)))return dept}return"General Fabrication"}var BUILD_STAGES=[{key:"pre_production",label:"PRE-PRODUCTION",depts:["Graphics","Metal & Steel","Woodwork","Tech & AV","General Fabrication"]},{key:"fabrication",label:"FABRICATION",depts:["Woodwork","Metal & Steel","General Fabrication","Graphics","Tech & AV"]},{key:"finishing",label:"FINISHING & WRAP",depts:["Graphics","Woodwork","General Fabrication"]},{key:"tech_install",label:"TECH INTEGRATION",depts:["Tech & AV"]},{key:"logistics",label:"LOGISTICS & INSTALL",depts:["Installation"]}];function generateHandoff(estimate){var _a,_b,_c,_d;const tier=((_a=estimate.estimates)==null?void 0:_a[estimate.selectedTier])||((_c=(_b=estimate.result)==null?void 0:_b.estimates)==null?void 0:_c["mid_tier"]);if(!tier)return;const projectName=estimate.projectName||"PROJECT";const clientName=estimate.clientName||"CLIENT";const quoteNum=estimate.quoteNumber||"DCE-XXXXX";const today=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});const byDept={};(tier.fabrication_items||[]).forEach(item=>{const dept=classifyItem(item.item);if(!byDept[dept])byDept[dept]=[];byDept[dept].push(item)});const logItems=Object.entries(tier.logistics||{}).filter(([,v])=>v>0).map(([k])=>({item:LOGISTICS_LABELS[k]||k,qty:"1"}));if(logItems.length)byDept["Installation"]=(byDept["Installation"]||[]).concat(logItems);const deptOrder=["Graphics","Woodwork","Metal & Steel","Tech & AV","General Fabrication","Installation"];const allDepts=[...new Set([...deptOrder,...Object.keys(byDept)])].filter(d=>byDept[d]);const deptColors={"Graphics":"#3b82f6","Woodwork":"#d97706","Metal & Steel":"#6b7280","Tech & AV":"#8b5cf6","General Fabrication":"#64748b","Installation":"#059669"};const deptCardsHtml=allDepts.map(dept=>{const items=byDept[dept]||[];const color=deptColors[dept]||"#888";const rows=items.map(item=>`
      <tr>
        <td style="padding:9px 12px;border-bottom:1px solid rgba(255,255,255,0.06);font-size:13px;color:rgba(255,255,255,0.85);">${item.item}</td>
        <td style="padding:9px 12px;border-bottom:1px solid rgba(255,255,255,0.06);font-size:12px;color:rgba(255,255,255,0.4);text-align:center;">${item.qty||"\u2014"}</td>
        <td style="padding:9px 12px;border-bottom:1px solid rgba(255,255,255,0.06);font-size:11px;color:rgba(255,255,255,0.3);text-align:right;">[ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</td>
      </tr>`).join("");return`
    <div style="break-inside:avoid;margin-bottom:32px;">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:0;padding:12px 16px;background:${color}22;border-top:2px solid ${color};">
        <span style="font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:${color};">${dept}</span>
        <span style="font-size:11px;color:rgba(255,255,255,0.3);margin-left:auto;">${items.length} item${items.length!==1?"s":""}</span>
      </div>
      <table style="width:100%;border-collapse:collapse;">
        <thead>
          <tr style="background:rgba(255,255,255,0.04);">
            <th style="padding:7px 12px;font-size:9px;font-weight:700;letter-spacing:0.16em;text-transform:uppercase;color:rgba(255,255,255,0.3);text-align:left;">Scope Item</th>
            <th style="padding:7px 12px;font-size:9px;font-weight:700;letter-spacing:0.16em;text-transform:uppercase;color:rgba(255,255,255,0.3);text-align:center;">Qty</th>
            <th style="padding:7px 12px;font-size:9px;font-weight:700;letter-spacing:0.16em;text-transform:uppercase;color:rgba(255,255,255,0.3);text-align:right;">Sign-off</th>
          </tr>
        </thead>
        <tbody>${rows}</tbody>
      </table>
    </div>`}).join("");const stagesHtml=BUILD_STAGES.map(stage=>{const relevantDepts=stage.depts.filter(d=>byDept[d]);if(!relevantDepts.length)return"";return`
    <div style="display:flex;gap:0;margin-bottom:4px;">
      <div style="min-width:180px;padding:10px 14px;border-left:2px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.03);">
        <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.18em;text-transform:uppercase;color:rgba(255,255,255,0.5);">${stage.label}</div>
      </div>
      <div style="flex:1;padding:10px 14px;border-left:1px solid rgba(255,255,255,0.08);display:flex;gap:8px;flex-wrap:wrap;align-items:center;">
        ${relevantDepts.map(d=>`<span style="padding:2px 8px;background:${deptColors[d]||"#888"}22;border:1px solid ${deptColors[d]||"#888"}44;font-size:10px;font-weight:600;letter-spacing:0.06em;color:${deptColors[d]||"#888"};">${d}</span>`).join("")}
      </div>
    </div>`}).filter(Boolean).join("");const html=`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>DCE Handoff \u2014 ${projectName}</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap');
  *{box-sizing:border-box;margin:0;padding:0;}
  body{font-family:'Inter',sans-serif;background:#000;color:#fff;}
  .page{max-width:900px;margin:0 auto;padding:48px 52px;}
  @media print{body{print-color-adjust:exact;-webkit-print-color-adjust:exact;}}
</style>
</head>
<body>
<div class="page">

  <!-- Header -->
  <div style="display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:28px;border-bottom:1px solid rgba(255,255,255,0.15);margin-bottom:36px;">
    <div>
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:800;letter-spacing:0.04em;margin-bottom:4px;"><strong>DREAM</strong>CRAFT</div>
      <div style="font-size:11px;color:rgba(255,255,255,0.35);letter-spacing:0.06em;">1111 Bell Avenue, Suite A \xB7 Tustin, CA 92780</div>
    </div>
    <div style="text-align:right;">
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:4px;">Production Handoff</div>
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:700;letter-spacing:0.04em;">${quoteNum}</div>
      <div style="font-size:11px;color:rgba(255,255,255,0.35);margin-top:2px;">${today}</div>
    </div>
  </div>

  <!-- Project info -->
  <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:0;margin-bottom:36px;">
    ${[["Client",clientName],["Project",projectName],["Location",(estimate.location||"").toUpperCase()],["Booth Size",estimate.boothSize||"\u2014"]].map(([l,v])=>`
    <div style="padding:14px 16px;border:1px solid rgba(255,255,255,0.1);border-right:none;last-child:border-right:1px;">
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:5px;">${l}</div>
      <div style="font-size:14px;font-weight:600;color:#fff;">${v}</div>
    </div>`).join("")}
  </div>

  <!-- Build Stage Timeline -->
  <div style="margin-bottom:36px;">
    <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:12px;">Build Stages</div>
    ${stagesHtml}
  </div>

  <!-- Department Scope -->
  <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:20px;">Department Scope</div>
  ${deptCardsHtml}

  ${((_d=estimate.result)==null?void 0:_d.time_estimate)?`
  <!-- Timeline -->
  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:0;margin-bottom:36px;">
    ${[["Fabrication Time",estimate.result.time_estimate.fabrication_weeks],["Installation",estimate.result.time_estimate.install_days],["Dismantle",estimate.result.time_estimate.dismantle_days]].map(([l,v])=>`
    <div style="padding:16px;border:1px solid rgba(255,255,255,0.1);text-align:center;border-right:none;">
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;font-weight:700;letter-spacing:0.18em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:6px;">${l}</div>
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:20px;font-weight:700;color:#fff;">${v}</div>
    </div>`).join("")}
  </div>`:""}

  <!-- Sign-off grid -->
  <div style="margin-top:40px;padding-top:28px;border-top:1px solid rgba(255,255,255,0.12);">
    <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:16px;">Approvals</div>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:0;">
      ${["Project Manager","Fabrication Lead","Client Sign-off"].map(role=>`
      <div style="padding:20px 16px;border:1px solid rgba(255,255,255,0.1);border-right:none;">
        <div style="font-size:10px;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:rgba(255,255,255,0.3);margin-bottom:28px;">${role}</div>
        <div style="border-bottom:1px solid rgba(255,255,255,0.2);margin-bottom:8px;height:24px;"></div>
        <div style="font-size:10px;color:rgba(255,255,255,0.25);">Signature &amp; Date</div>
      </div>`).join("")}
    </div>
  </div>

  <div style="margin-top:32px;font-size:11px;color:rgba(255,255,255,0.2);line-height:1.8;">
    INTERNAL DOCUMENT \u2014 This handoff does not include pricing. For client-facing quotes see ${quoteNum}. DreamCraft Events \xB7 dce-usa.com
  </div>
</div>
</body>
</html>`;const blob=new Blob([html],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`DCE-Handoff-${projectName.replace(/\s+/g,"-")}-${quoteNum}.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)}function generatePDF(estimate){var _a,_b;const tier=estimate.estimates[estimate.selectedTier];if(!tier)return;const quoteNum=estimate.quoteNumber||`DCE-${Date.now().toString().slice(-5)}`;const clientName=estimate.clientName||"CLIENT";const projectName=estimate.projectName||"PROJECT";const today=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});const expiry=new Date(Date.now()+14*864e5).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});const rows=(tier.fabrication_items||[]).map(item=>`
    <tr>
      <td style="padding:10px 8px;border-bottom:1px solid #eee;font-size:13px;color:#111;">${item.item}</td>
      <td style="padding:10px 8px;border-bottom:1px solid #eee;font-size:13px;color:#555;text-align:center;">${item.qty||""}</td>
      <td style="padding:10px 8px;border-bottom:1px solid #eee;font-size:13px;color:#555;text-align:right;">${fmt(item.unit_cost)}</td>
      <td style="padding:10px 8px;border-bottom:1px solid #eee;font-size:13px;font-weight:600;color:#111;text-align:right;">${fmt(item.subtotal)}</td>
    </tr>`).join("");const logRows=Object.entries(tier.logistics||{}).filter(([,v])=>v>0).map(([k,v])=>`
    <tr>
      <td style="padding:9px 8px;border-bottom:1px solid #eee;font-size:13px;color:#444;" colspan="3">${LOGISTICS_LABELS[k]||k}</td>
      <td style="padding:9px 8px;border-bottom:1px solid #eee;font-size:13px;font-weight:600;color:#111;text-align:right;">${fmt(v)}</td>
    </tr>`).join("");const html=`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>DCE Quote ${quoteNum}</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;700;800&family=Inter:wght@400;500;600;700;800&display=swap');
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Inter',sans-serif; background: #fff; color: #111; }
  .page { max-width: 860px; margin: 0 auto; padding: 48px 52px; }
  .header { display: flex; justify-content: space-between; align-items: flex-start; padding-bottom: 28px; border-bottom: 2px solid #111; margin-bottom: 32px; }
  .co-name { font-family: 'Barlow Condensed',sans-serif; font-size: 22px; font-weight: 800; color: #111; letter-spacing: 0.04em; }
  .co-addr { font-size: 11px; color: #666; margin-top: 4px; }
  .quote-meta { text-align: right; }
  .quote-label { font-size: 10px; font-weight: 700; letter-spacing: 0.18em; text-transform: uppercase; color: #999; }
  .quote-num { font-family: 'Barlow Condensed',sans-serif; font-size: 28px; font-weight: 800; color: #111; margin-top: 2px; }
  .bill-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0; margin-bottom: 28px; border: 1px solid #ddd; }
  .bill-col { padding: 18px 22px; }
  .bill-col:first-child { border-right: 1px solid #ddd; }
  .bill-label { font-size: 9px; font-weight: 700; letter-spacing: 0.18em; text-transform: uppercase; color: #999; margin-bottom: 7px; }
  .bill-name { font-size: 15px; font-weight: 700; color: #111; margin-bottom: 4px; }
  .bill-detail { font-size: 12px; color: #555; line-height: 1.6; }
  .project-bar { background: #f5f5f5; border: 1px solid #ddd; padding: 14px 22px; margin-bottom: 28px; display: flex; gap: 32px; flex-wrap: wrap; }
  .project-field-label { font-size: 9px; font-weight: 700; letter-spacing: 0.18em; text-transform: uppercase; color: #999; margin-bottom: 3px; }
  .project-field-value { font-size: 13px; font-weight: 600; color: #111; }
  table { width: 100%; border-collapse: collapse; margin-bottom: 0; }
  thead tr { background: #111; }
  thead th { padding: 10px 8px; font-size: 10px; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; color: #fff; }
  thead th:first-child { text-align: left; padding-left: 14px; }
  thead th:last-child { text-align: right; padding-right: 14px; }
  thead th:not(:first-child):not(:last-child) { text-align: center; }
  .section-header td { padding: 14px 8px 6px; font-size: 10px; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; color: #999; border-bottom: 1px solid #ddd; }
  .subtotal-row td { padding: 10px 8px; font-size: 13px; font-weight: 700; background: #f9f9f9; color: #333; }
  .subtotal-row td:last-child { text-align: right; padding-right: 8px; }
  .grand-total { display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-top: 2px solid #111; border-bottom: 1px solid #ddd; margin-top: 20px; }
  .gt-label { font-family: 'Barlow Condensed',sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; color: #666; }
  .gt-value { font-family: 'Barlow Condensed',sans-serif; font-size: 36px; font-weight: 800; color: #111; }
  .timeline { display: grid; grid-template-columns: repeat(3,1fr); gap: 12px; margin-top: 20px; }
  .tl-box { border: 1px solid #ddd; padding: 14px 16px; text-align: center; }
  .tl-label { font-size: 9px; font-weight: 700; letter-spacing: 0.14em; text-transform: uppercase; color: #999; margin-bottom: 5px; }
  .tl-val { font-size: 15px; font-weight: 800; color: #111; }
  .notes-box { margin-top: 20px; padding: 14px 18px; border-left: 3px solid #111; background: #f9f9f9; }
  .notes-label { font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: #999; margin-bottom: 5px; }
  .notes-text { font-size: 12px; color: #444; line-height: 1.6; }
  .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; }
  .footer-legal { font-size: 11px; color: #888; line-height: 1.6; max-width: 420px; }
  .footer-logo { font-family: 'Barlow Condensed',sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: #333; }
  @media print { body { print-color-adjust: exact; -webkit-print-color-adjust: exact; } }
</style>
</head>
<body>
<div class="page">

  <!-- Header -->
  <div class="header">
    <div class="logo-block">
      <div>
        <div class="co-name"><strong>DREAM</strong>CRAFT</div>
        <div class="co-addr">1111 Bell Avenue, Suite A \xB7 Tustin, CA 92780 \xB7 www.dce-usa.com</div>
      </div>
    </div>
    <div class="quote-meta">
      <div class="quote-label">Quote Number</div>
      <div class="quote-num">${quoteNum}</div>
    </div>
  </div>

  <!-- Billing Grid -->
  <div class="bill-grid">
    <div class="bill-col">
      <div class="bill-label">From</div>
      <div class="bill-name">Daniel Roberts</div>
      <div class="bill-detail">DCE USA (DreamCraft Events)<br/>droberts@dce-usa.com</div>
    </div>
    <div class="bill-col">
      <div class="bill-label">To</div>
      <div class="bill-name">${clientName}</div>
      <div class="bill-detail">Date: ${today}<br/>Expiry: ${expiry}</div>
    </div>
  </div>

  <!-- Project Bar -->
  <div class="project-bar">
    <div class="project-field">
      <div class="project-field-label">Project</div>
      <div class="project-field-value">${projectName}</div>
    </div>
    <div class="project-field">
      <div class="project-field-label">Location Type</div>
      <div class="project-field-value">${((_a=estimate.location)==null?void 0:_a.toUpperCase())||"\u2014"}</div>
    </div>
    <div class="project-field">
      <div class="project-field-label">Booth Size</div>
      <div class="project-field-value">${estimate.boothSize||"\u2014"}</div>
    </div>
    <div class="project-field">
      <div class="project-field-label">Tier</div>
      <div class="project-field-value">${tier.label}</div>
    </div>
  </div>

  <!-- Line Items Table -->
  <table>
    <thead>
      <tr>
        <th style="text-align:left;padding-left:14px;">Description</th>
        <th>Qty</th>
        <th>Unit Cost</th>
        <th style="text-align:right;padding-right:14px;">Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <tr class="section-header"><td colspan="4">FABRICATION</td></tr>
      ${rows}
      <tr class="subtotal-row">
        <td colspan="3" style="color:#666;font-size:12px;">Fabrication Subtotal</td>
        <td style="text-align:right;padding-right:0;">${fmt(tier.fabrication_subtotal)}</td>
      </tr>
      <tr class="section-header"><td colspan="4">LABOR &amp; LOGISTICS</td></tr>
      ${logRows}
      <tr class="subtotal-row">
        <td colspan="3" style="color:#666;font-size:12px;">Labor &amp; Logistics Subtotal</td>
        <td style="text-align:right;padding-right:0;">${fmt(tier.logistics_subtotal)}</td>
      </tr>
    </tbody>
  </table>

  <!-- Grand Total -->
  <div class="grand-total">
    <span class="gt-label">Total Estimate</span>
    <span class="gt-value">${fmt(tier.grand_total)}</span>
  </div>

  ${((_b=estimate.result)==null?void 0:_b.time_estimate)?`
  <!-- Timeline -->
  <div class="timeline">
    <div class="tl-box"><div class="tl-label">Fabrication</div><div class="tl-val">${estimate.result.time_estimate.fabrication_weeks}</div></div>
    <div class="tl-box"><div class="tl-label">Install</div><div class="tl-val">${estimate.result.time_estimate.install_days}</div></div>
    <div class="tl-box"><div class="tl-label">Dismantle</div><div class="tl-val">${estimate.result.time_estimate.dismantle_days}</div></div>
  </div>`:""}

  ${tier.notes?`
  <div class="notes-box">
    <div class="notes-label">Notes</div>
    <div class="notes-text">${tier.notes}</div>
  </div>`:""}

  <!-- Footer -->
  <div class="footer">
    <div class="footer-legal">
      This estimate is valid for 14 days from the date of issue. Pricing is subject to final scope confirmation, site survey, and engineering review. Labor rates may vary based on union jurisdiction. All prices exclude applicable taxes.
    </div>
    <div class="footer-logo">DreamCraft Events \xB7 dce-usa.com</div>
  </div>

</div>
</body>
</html>`;const imagesHtml=(()=>{const imgs=estimate.imagesB64||(estimate.imageB64?[{b64:estimate.imageB64,mimeType:"image/jpeg",name:"render"}]:[]);if(!imgs.length)return"";const thumbs=imgs.map(img=>`<img src="data:${img.mimeType||"image/jpeg"};base64,${img.b64}" style="width:${imgs.length===1?"100%":"calc(50% - 6px)"};border-radius:0;object-fit:cover;max-height:280px;display:inline-block;margin-bottom:12px;" />`).join(" ");return`<div style="margin-bottom:28px;"><div style="font-size:10px;font-weight:700;letter-spacing:0.12em;text-transform:uppercase;color:#999;margin-bottom:10px;">PROJECT RENDERS</div><div style="display:flex;flex-wrap:wrap;gap:12px;">${thumbs}</div></div>`})();const htmlWithImages=html.replace("<!-- Line Items Table -->",imagesHtml+"<!-- Line Items Table -->");const blob=new Blob([htmlWithImages],{type:"text/html;charset=utf-8"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`DCE-Quote-${quoteNum}-${(clientName||"Client").replace(/\s+/g,"-")}.html`;document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),5e3)}function StatusBadge({status}){const s=STATUS_STYLES[status]||STATUS_STYLES.draft;return import_react.default.createElement("span",{style:{padding:"3px 10px",borderRadius:0,fontSize:11,fontWeight:700,background:s.bg,color:s.color}},s.label)}function TierPill({tier,isActive,onClick}){const s=TIER_STYLES[tier];const labels={affordable:"I \u2014 Affordable",mid_tier:"II \u2014 Mid-Tier",high_end:"III \u2014 High-End"};return import_react.default.createElement("button",{type:"button",onClick,style:{padding:"6px 14px",borderRadius:0,fontSize:12,fontWeight:700,cursor:"pointer",background:isActive?"var(--btn-pri)":"var(--btn-bg)",border:`1px solid ${isActive?"var(--text)":"var(--border)"}`,color:isActive?"var(--btn-pri-text)":"var(--text3)",transition:"all 0.15s"}},s.icon," ",labels[tier])}function Accordion({label,children,subtotal,accent,defaultOpen=true}){const[open,setOpen]=(0,import_react.useState)(defaultOpen);return import_react.default.createElement("div",{style:{marginBottom:14}},import_react.default.createElement("div",{onClick:()=>setOpen(o=>!o),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"9px 0",borderBottom:"1px solid var(--border2)",cursor:"pointer",background:"transparent"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,letterSpacing:"0.14em",textTransform:"uppercase",color:accent}},label),import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:10}},import_react.default.createElement("span",{style:{fontWeight:700,color:"var(--text)",fontSize:13}},fmt(subtotal)),import_react.default.createElement("span",{style:{color:"var(--text3)",fontSize:11}},open?"\u25B2":"\u25BC"))),open&&import_react.default.createElement("div",{style:{paddingTop:4}},children))}function EditableLineRow({item,onUpdate,onDelete,accent}){const[editing,setEditing]=(0,import_react.useState)(false);const[local,setLocal]=(0,import_react.useState)({...item});const save=()=>{const subtotal=Number(local.unit_cost)*(parseFloat(local.qty)||1);onUpdate({...local,subtotal:isNaN(subtotal)?Number(local.subtotal):subtotal});setEditing(false)};if(editing){return import_react.default.createElement("div",{style:{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"grid",gridTemplateColumns:"1fr 80px 90px 90px 32px",gap:6,alignItems:"center"}},import_react.default.createElement("input",{value:local.item,onChange:e=>setLocal(l=>({...l,item:e.target.value})),style:{background:"var(--input-bg)",border:"1px solid var(--border)",borderRadius:0,padding:"5px 8px",color:"var(--text)",fontSize:12}}),import_react.default.createElement("input",{value:local.qty,onChange:e=>setLocal(l=>({...l,qty:e.target.value})),style:{background:"var(--input-bg)",border:"1px solid var(--border)",borderRadius:0,padding:"5px 8px",color:"var(--text)",fontSize:12,textAlign:"center"}}),import_react.default.createElement("input",{type:"number",value:local.unit_cost,onChange:e=>setLocal(l=>({...l,unit_cost:Number(e.target.value)})),placeholder:"Unit $",style:{background:"var(--input-bg)",border:"1px solid var(--border)",borderRadius:0,padding:"5px 8px",color:"var(--text)",fontSize:12,textAlign:"right"}}),import_react.default.createElement("input",{type:"number",value:local.subtotal,onChange:e=>setLocal(l=>({...l,subtotal:Number(e.target.value)})),style:{background:"var(--input-bg)",border:`1px solid ${accent}55`,borderRadius:0,padding:"5px 8px",color:accent,fontSize:12,fontWeight:700,textAlign:"right"}}),import_react.default.createElement("button",{type:"button",onClick:save,style:{background:accent,border:"none",borderRadius:0,width:28,height:28,color:"var(--btn-pri-text)",fontWeight:900,fontSize:13,cursor:"pointer"}},"\u2713"))}return import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px 90px 30px 24px",gap:6,alignItems:"center",padding:"7px 0",borderBottom:"1px solid var(--border2)"}},import_react.default.createElement("span",{style:{fontSize:13,color:"var(--text2)"}},item.item),import_react.default.createElement("span",{style:{fontSize:12,color:"var(--text3)",textAlign:"center"}},item.qty),import_react.default.createElement("span",{style:{fontSize:13,color:"var(--text)",fontWeight:600,textAlign:"right"}},fmt(item.subtotal)),import_react.default.createElement("button",{type:"button",onClick:()=>{setLocal({...item});setEditing(true)},style:{background:"none",border:"none",color:"var(--text2)",fontSize:13,cursor:"pointer",padding:0,transition:"color 0.15s"},onMouseEnter:e=>e.target.style.color="#fff",onMouseLeave:e=>e.target.style.color="rgba(255,255,255,0.25)"},"\u270E"),import_react.default.createElement("button",{type:"button",onClick:onDelete,style:{background:"none",border:"none",color:"var(--text2)",fontSize:12,cursor:"pointer",padding:0,transition:"color 0.15s"},onMouseEnter:e=>e.target.style.color="#f87171",onMouseLeave:e=>e.target.style.color="rgba(255,255,255,0.18)"},"\u2715"))}function EditableLogisticsRow({logKey,value,onUpdate,accent}){const[editing,setEditing]=(0,import_react.useState)(false);const[local,setLocal]=(0,import_react.useState)(value);const save=()=>{onUpdate(Number(local));setEditing(false)};return import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 110px 24px",alignItems:"center",padding:"7px 0",borderBottom:"1px solid var(--border2)",gap:8}},import_react.default.createElement("span",{style:{fontSize:13,color:"var(--text2)"}},LOGISTICS_LABELS[logKey]||logKey),editing?import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("input",{type:"number",value:local,onChange:e=>setLocal(e.target.value),style:{background:"var(--input-bg)",border:`1px solid ${accent}55`,borderRadius:0,padding:"5px 8px",color:accent,fontSize:12,fontWeight:700,textAlign:"right"}}),import_react.default.createElement("button",{type:"button",onClick:save,style:{background:accent,border:"none",borderRadius:0,width:22,height:22,color:"var(--btn-pri-text)",fontWeight:900,fontSize:11,cursor:"pointer"}},"\u2713")):import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("span",{style:{fontSize:13,color:"var(--text)",fontWeight:600,textAlign:"right"}},fmt(value)),import_react.default.createElement("button",{type:"button",onClick:()=>{setLocal(value);setEditing(true)},style:{background:"none",border:"none",color:"var(--text2)",fontSize:12,cursor:"pointer",padding:0},onMouseEnter:e=>e.target.style.color="#fff",onMouseLeave:e=>e.target.style.color="rgba(255,255,255,0.22)"},"\u270E")))}var MONDAY_STORAGE_KEY="dce_monday_config";function loadMondayConfig(){try{return JSON.parse(localStorage.getItem(MONDAY_STORAGE_KEY)||"{}")}catch{return{}}}function saveMondayConfig(cfg){try{localStorage.setItem(MONDAY_STORAGE_KEY,JSON.stringify(cfg))}catch{}}async function pushToMonday(estimate,cfg){var _a,_b,_c,_d,_e;const tier=((_a=estimate.estimates)==null?void 0:_a[estimate.selectedTier])||((_c=(_b=estimate.result)==null?void 0:_b.estimates)==null?void 0:_c["mid_tier"]);if(!tier)throw new Error("No tier data to push");if(!cfg.apiToken)throw new Error("Monday API token not set");if(!cfg.boardId)throw new Error("Monday board ID not set");const projectName=estimate.projectName||"New DCE Project";const clientName=estimate.clientName||"Client";const headers={"Content-Type":"application/json","Authorization":cfg.apiToken};const gql=async(query,variables={})=>{var _a2;const r=await fetch("https://api.monday.com/v2",{method:"POST",headers,body:JSON.stringify({query,variables})});const json=await r.json();if(json.errors)throw new Error(((_a2=json.errors[0])==null?void 0:_a2.message)||"Monday API error");return json.data};const groupRes=await gql("mutation($boardId:ID!,$name:String!){create_group(board_id:$boardId,group_name:$name){id}}",{boardId:cfg.boardId,name:`${projectName} \u2014 ${clientName} (${estimate.quoteNumber||"DCE"})`});const groupId=(_d=groupRes.create_group)==null?void 0:_d.id;if(!groupId)throw new Error("Failed to create Monday group");const byDept={};(tier.fabrication_items||[]).forEach(item=>{const dept=classifyItem(item.item);if(!byDept[dept])byDept[dept]=[];byDept[dept].push(item.item)});Object.entries(tier.logistics||{}).filter(([,v])=>v>0).forEach(([k])=>{const label=LOGISTICS_LABELS[k]||k;if(!byDept["Installation"])byDept["Installation"]=[];byDept["Installation"].push(label)});const deptOrder=["Graphics","Woodwork","Metal & Steel","Tech & AV","General Fabrication","Installation"];const allDepts=[...new Set([...deptOrder,...Object.keys(byDept)])].filter(d=>byDept[d]);for(const dept of allDepts){const items=byDept[dept];const itemRes=await gql("mutation($boardId:ID!,$groupId:String!,$name:String!){create_item(board_id:$boardId,group_id:$groupId,item_name:$name){id}}",{boardId:cfg.boardId,groupId,name:`[${dept}] ${projectName}`});const itemId=(_e=itemRes.create_item)==null?void 0:_e.id;if(itemId&&items.length){const body=items.map((s,i)=>`${i+1}. ${s}`).join("\n");await gql("mutation($itemId:ID!,$body:String!){create_update(item_id:$itemId,body:$body){id}}",{itemId,body:`Scope:
${body}`})}}return allDepts.length}function MondayPanel({estimate,onClose}){const[cfg,setCfg]=(0,import_react.useState)(()=>loadMondayConfig());const[status,setStatus]=(0,import_react.useState)(null);const[errorMsg,setErrorMsg]=(0,import_react.useState)("");const[taskCount,setTaskCount]=(0,import_react.useState)(0);const saveAndPush=async()=>{saveMondayConfig(cfg);setStatus("pushing");setErrorMsg("");try{const n=await pushToMonday(estimate,cfg);setTaskCount(n);setStatus("success")}catch(e){setErrorMsg(e.message);setStatus("error")}};const lbl={fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",display:"block",marginBottom:8};const inp={width:"100%",padding:"10px 12px",background:"var(--card)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,outline:"none"};return import_react.default.createElement("div",{style:{position:"fixed",inset:0,background:"var(--modal-bg)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center"}},import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",maxWidth:480,width:"100%",margin:16,padding:32}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:28}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:20,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase"}},"Monday.com"),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text3)",marginTop:4}},"Push project to your board as tasks")),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"none",border:"none",color:"var(--text2)",fontSize:18,cursor:"pointer",padding:"0 4px"}},"\u2715")),status==="success"?import_react.default.createElement("div",{style:{textAlign:"center",padding:"32px 0"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:700,marginBottom:8}},"\u2713"),import_react.default.createElement("div",{style:{fontSize:15,fontWeight:600,marginBottom:6}},"Pushed to Monday"),import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text2)"}},taskCount," department task",taskCount!==1?"s":""," created on board ",cfg.boardId),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{marginTop:24,padding:"10px 28px",background:"var(--btn-pri)",border:"none",color:"var(--btn-pri-text)",fontWeight:700,fontSize:12,letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer"}},"Done")):import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement("label",{style:lbl},"API Token"),import_react.default.createElement("input",{type:"password",value:cfg.apiToken||"",onChange:e=>setCfg(c=>({...c,apiToken:e.target.value})),placeholder:"eyJhbGciOi...",style:inp}),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text4)",marginTop:6}},"Profile \u2192 Developers \u2192 My Access Tokens \u2192 copy your personal token")),import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement("label",{style:lbl},"Board ID"),import_react.default.createElement("input",{value:cfg.boardId||"",onChange:e=>setCfg(c=>({...c,boardId:e.target.value})),placeholder:"1234567890",style:inp}),import_react.default.createElement("div",{style:{fontSize:10,color:"var(--text4)",marginTop:6}},"Open your board in Monday \u2192 the number in the URL is the board ID")),status==="error"&&import_react.default.createElement("div",{style:{padding:"12px 16px",border:"1px solid var(--border)",marginBottom:20,fontSize:12,color:"var(--text2)"}},"\u26A0 ",errorMsg),import_react.default.createElement("div",{style:{display:"flex",gap:10,marginTop:28}},import_react.default.createElement("button",{type:"button",onClick:onClose,style:{flex:1,padding:"11px",background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",fontSize:12,fontWeight:600,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Cancel"),import_react.default.createElement("button",{type:"button",onClick:saveAndPush,disabled:status==="pushing"||!cfg.apiToken||!cfg.boardId,style:{flex:2,padding:"11px",background:status==="pushing"?"var(--input-bg)":"var(--btn-pri)",border:"none",color:status==="pushing"?"var(--text4)":"var(--btn-pri-text)",fontWeight:700,fontSize:12,letterSpacing:"0.1em",textTransform:"uppercase",cursor:status==="pushing"?"default":"pointer"}},status==="pushing"?"Pushing\u2026":"Push to Monday")))))}function EstimateDetail({estimate,onBack,onSave}){var _a,_b,_c,_d;const[localEst,setLocalEst]=(0,import_react.useState)(()=>JSON.parse(JSON.stringify(estimate)));const[activeTier,setActiveTier]=(0,import_react.useState)(estimate.selectedTier||"mid_tier");const[showClientView,setShowClientView]=(0,import_react.useState)(false);const[showMonday,setShowMonday]=(0,import_react.useState)(false);const[showEngineering,setShowEngineering]=(0,import_react.useState)(false);const[answers,setAnswers]=(0,import_react.useState)({});const[refining,setRefining]=(0,import_react.useState)(false);const[dirty,setDirty]=(0,import_react.useState)(false);const s=TIER_STYLES[activeTier];const result=localEst.result;const tierData=(_a=result==null?void 0:result.estimates)==null?void 0:_a[activeTier];const update=updatedEst=>{setLocalEst(updatedEst);setDirty(true)};const updateFabItem=(tierKey,idx,newItem)=>{const next=JSON.parse(JSON.stringify(localEst));next.result.estimates[tierKey].fabrication_items[idx]=newItem;next.result.estimates[tierKey]=recalcTotals(next.result.estimates[tierKey]);update(next)};const deleteFabItem=(tierKey,idx)=>{const next=JSON.parse(JSON.stringify(localEst));next.result.estimates[tierKey].fabrication_items.splice(idx,1);next.result.estimates[tierKey]=recalcTotals(next.result.estimates[tierKey]);update(next)};const addFabItem=tierKey=>{const next=JSON.parse(JSON.stringify(localEst));next.result.estimates[tierKey].fabrication_items.push({item:"New Line Item",qty:"1",unit_cost:0,subtotal:0});update(next)};const updateLogistics=(tierKey,logKey,val)=>{const next=JSON.parse(JSON.stringify(localEst));next.result.estimates[tierKey].logistics[logKey]=val;next.result.estimates[tierKey]=recalcTotals(next.result.estimates[tierKey]);update(next)};const updateField=(field,val)=>{const next={...localEst,[field]:val};update(next)};const handleRefine=async()=>{var _a2;if(!(result==null?void 0:result.clarifying_questions))return;setRefining(true);try{const ctx=result.clarifying_questions.map(q=>`Q: ${q.question}
A: ${answers[q.id]||"Not specified"}`).join("\n\n");const system=buildSystemPrompt(localEst.location,localEst.boothSize,localEst.sqft);const savedImgs=localEst.imagesB64||(localEst.imageB64?[{b64:localEst.imageB64,mimeType:"image/jpeg"}]:[]);let content;if(savedImgs.length>0){content=[...savedImgs.map(img=>({type:"image",source:{type:"base64",media_type:img.mimeType||"image/jpeg",data:img.b64}})),{type:"text",text:`Re-estimate with these clarifying answers:
${ctx}

Respond ONLY with valid JSON. No backticks.`}]}else{content=`Re-estimate with these clarifying answers:
${ctx}

Booth: ${localEst.boothSize} | Location: ${localEst.location}

Respond ONLY with valid JSON. No backticks.`}const res=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":getApiKey(),"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:8e3,system,messages:[{role:"user",content}]})});const data=await res.json();if(data.error)throw new Error(data.error.message);const text=((_a2=data.content)==null?void 0:_a2.map(b=>b.text||"").join(""))||"";const parsed=extractJSON(text);const next={...localEst,result:parsed,status:"revised",updatedAt:new Date().toISOString()};update(next)}catch(e){alert("Refine failed: "+e.message)}finally{setRefining(false)}};const save=()=>{const toSave={...localEst,selectedTier:activeTier,updatedAt:new Date().toISOString()};onSave(toSave);setDirty(false)};if(showClientView){return import_react.default.createElement(EstimatorClientView,{estimate:localEst,activeTier,onClose:()=>setShowClientView(false)})}return import_react.default.createElement("div",null,showEngineering&&import_react.default.createElement(EngineeringDrawings,{estimate:{...localEst,selectedTier:activeTier},onClose:()=>setShowEngineering(false)}),showMonday&&import_react.default.createElement(MondayPanel,{estimate:{...localEst,selectedTier:activeTier},onClose:()=>setShowMonday(false)}),import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:28,flexWrap:"wrap",gap:12}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12}},import_react.default.createElement("button",{type:"button",onClick:onBack,style:{background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",padding:"7px 16px",fontSize:11,fontWeight:600,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"\u2190 Back"),import_react.default.createElement(StatusBadge,{status:localEst.status})),import_react.default.createElement("div",{style:{display:"flex",gap:8,flexWrap:"wrap"}},dirty&&import_react.default.createElement("button",{type:"button",onClick:save,style:{padding:"8px 16px",background:"var(--card)",border:"1px solid rgba(255,255,255,0.3)",color:"var(--text)",fontWeight:600,fontSize:11,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Save"),import_react.default.createElement("button",{type:"button",onClick:()=>setShowClientView(true),style:{padding:"8px 16px",background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",fontWeight:600,fontSize:11,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Client View"),import_react.default.createElement("button",{type:"button",onClick:()=>generatePDF({...localEst,selectedTier:activeTier}),style:{padding:"8px 16px",background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",fontWeight:600,fontSize:11,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Export Quote"),import_react.default.createElement("button",{type:"button",onClick:()=>generateHandoff({...localEst,selectedTier:activeTier}),style:{padding:"8px 16px",background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",fontWeight:600,fontSize:11,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Production Handoff"),import_react.default.createElement("button",{type:"button",onClick:()=>setShowEngineering(true),style:{padding:"8px 16px",background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",fontWeight:600,fontSize:11,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"Engineering \u2316"),import_react.default.createElement("button",{type:"button",onClick:()=>setShowMonday(true),style:{padding:"8px 16px",background:"var(--btn-pri)",border:"none",color:"var(--btn-pri-text)",fontWeight:700,fontSize:11,letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer"}},"\u2192 Monday"))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:24}},[["Client / Company","clientName","e.g. Nike, Modelo"],["Project Name","projectName","e.g. Coachella 2025"],["Quote Number","quoteNumber",`DCE-${genId().toUpperCase()}`]].map(([lbl,key,ph])=>import_react.default.createElement("div",{key},import_react.default.createElement("label",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.14em",color:"var(--text3)",textTransform:"uppercase",display:"block",marginBottom:6}},lbl),import_react.default.createElement("input",{value:localEst[key]||"",onChange:e=>updateField(key,e.target.value),placeholder:ph,style:{width:"100%",padding:"9px 12px",borderRadius:0,background:"var(--card-hover)",border:"1px solid var(--border2)",color:"var(--text)",fontSize:13}})))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement("label",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.14em",color:"var(--text3)",textTransform:"uppercase",display:"block",marginBottom:8}},"Status"),import_react.default.createElement("div",{style:{display:"flex",gap:8}},Object.entries(STATUS_STYLES).map(([key,val])=>import_react.default.createElement("button",{type:"button",key,onClick:()=>updateField("status",key),style:{padding:"6px 14px",borderRadius:0,fontSize:12,fontWeight:700,cursor:"pointer",background:localEst.status===key?val.bg:"transparent",border:`1px solid ${localEst.status===key?val.color:"rgba(255,255,255,0.1)"}`,color:localEst.status===key?val.color:"rgba(255,255,255,0.4)",transition:"all 0.15s"}},val.label)))),(()=>{const imgs=localEst.imagesB64||(localEst.imageB64?[{b64:localEst.imageB64,mimeType:"image/jpeg",name:"render"}]:[]);if(!imgs.length)return null;return import_react.default.createElement("div",{style:{marginBottom:20}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.14em",color:"var(--text3)",textTransform:"uppercase",marginBottom:10}},"Project Renders (",imgs.length,")"),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:10}},imgs.map((img,i)=>import_react.default.createElement("div",{key:i,style:{borderRadius:0,overflow:"hidden",border:"1px solid rgba(255,255,255,0.09)",aspectRatio:"4/3",background:"var(--bg3)",position:"relative"}},import_react.default.createElement("img",{src:`data:${img.mimeType||"image/jpeg"};base64,${img.b64}`,alt:img.name||`Render ${i+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",cursor:"pointer"},onClick:()=>window.open(`data:${img.mimeType||"image/jpeg"};base64,${img.b64}`,"_blank")}),import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"3px 7px",background:"rgba(0,0,0,0.6)",fontSize:9,color:"var(--text2)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},img.name||`Angle ${i+1}`)))))})(),((_c=(_b=result==null?void 0:result.analysis)==null?void 0:_b.detected_elements)==null?void 0:_c.length)>0&&import_react.default.createElement("div",{style:{background:"var(--input-bg)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:0,padding:"16px 20px",marginBottom:20}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.14em",color:"var(--text3)",textTransform:"uppercase",marginBottom:10}},"Detected Elements"),import_react.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6}},result.analysis.detected_elements.map((el,i)=>import_react.default.createElement("span",{key:i,style:{padding:"3px 10px",borderRadius:0,background:"var(--card)",border:"1px solid var(--border)",fontSize:11,color:"var(--text2)",letterSpacing:"0.04em"}},el)))),((_d=result==null?void 0:result.clarifying_questions)==null?void 0:_d.length)>0&&import_react.default.createElement("div",{style:{background:"var(--input-bg)",border:"1px solid var(--border)",borderRadius:0,padding:"18px 20px",marginBottom:20}},import_react.default.createElement("div",{style:{fontWeight:800,fontSize:13,marginBottom:14,display:"flex",alignItems:"center",gap:8}},import_react.default.createElement("span",null,"\u2753")," Clarifying Questions",import_react.default.createElement("span",{style:{fontSize:11,fontWeight:400,color:"var(--text3)",marginLeft:4}},"\u2014 answer to refine estimate")),result.clarifying_questions.map((q,i)=>{var _a2;return import_react.default.createElement("div",{key:q.id,style:{marginBottom:14,paddingBottom:14,borderBottom:i<result.clarifying_questions.length-1?"1px solid rgba(255,255,255,0.07)":"none"}},import_react.default.createElement("div",{style:{fontWeight:600,fontSize:13,marginBottom:3}},q.question),import_react.default.createElement("div",{style:{fontSize:11,color:"var(--text3)",marginBottom:8}},q.why_it_matters),((_a2=q.options)==null?void 0:_a2.length)>0?import_react.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6}},q.options.map(opt=>import_react.default.createElement("button",{type:"button",key:opt,onClick:()=>setAnswers(a=>({...a,[q.id]:opt})),style:{padding:"5px 12px",borderRadius:0,fontSize:11,fontWeight:600,cursor:"pointer",background:answers[q.id]===opt?"var(--btn-pri)":"var(--btn-bg)",border:`1px solid ${answers[q.id]===opt?"var(--text)":"var(--border)"}`,color:answers[q.id]===opt?"var(--btn-pri-text)":"var(--text3)"}},opt))):import_react.default.createElement("input",{value:answers[q.id]||"",onChange:e=>setAnswers(a=>({...a,[q.id]:e.target.value})),placeholder:"Your answer...",style:{width:"100%",padding:"7px 11px",borderRadius:0,background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:12}}))}),import_react.default.createElement("button",{type:"button",onClick:handleRefine,disabled:refining,style:{padding:"9px 20px",borderRadius:0,background:"var(--input-bg)",border:"1px solid var(--border)",color:"var(--text)",fontWeight:700,fontSize:12,opacity:refining?.6:1}},refining?"Refining\u2026":"\u21BA Re-run Estimate with Answers")),import_react.default.createElement("div",{style:{display:"flex",gap:8,marginBottom:20}},["affordable","mid_tier","high_end"].map(t=>import_react.default.createElement(TierPill,{key:t,tier:t,isActive:activeTier===t,onClick:()=>setActiveTier(t)}))),tierData&&import_react.default.createElement("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:0,padding:"22px 24px"}},import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:22,flexWrap:"wrap",gap:10}},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,letterSpacing:"0.2em",color:"var(--text2)",textTransform:"uppercase",marginBottom:4}},tierData.label," Tier"),import_react.default.createElement("div",{style:{color:"var(--text2)",fontSize:13,maxWidth:420}},tierData.description)),import_react.default.createElement("div",{style:{textAlign:"right"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,color:"rgba(255,255,255,0.32)",letterSpacing:"0.12em",marginBottom:3}},"TOTAL ESTIMATE"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:40,fontWeight:700,letterSpacing:"0.02em",color:"var(--text)"}},fmt(tierData.grand_total)))),import_react.default.createElement(Accordion,{label:"Fabrication",subtotal:tierData.fabrication_subtotal,accent:s.accent,defaultOpen:true},import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px 90px 30px 24px",gap:6,padding:"4px 0 6px",borderBottom:"1px solid rgba(255,255,255,0.06)"}},["Description","Qty","Total","",""].map((h,i)=>import_react.default.createElement("span",{key:i,style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--text2)",textAlign:i===2?"right":i===1?"center":"left"}},h))),(tierData.fabrication_items||[]).map((item,i)=>import_react.default.createElement(EditableLineRow,{key:i,item,accent:s.accent,onUpdate:updated=>updateFabItem(activeTier,i,updated),onDelete:()=>deleteFabItem(activeTier,i)})),import_react.default.createElement("button",{type:"button",onClick:()=>addFabItem(activeTier),style:{marginTop:10,width:"100%",padding:"8px",borderRadius:0,border:`1px dashed ${s.accent}44`,background:"var(--card)",color:s.accent,fontSize:12,fontWeight:600,cursor:"pointer",opacity:.7}},"+ Add Line Item")),import_react.default.createElement(Accordion,{label:"Labor & Logistics",subtotal:tierData.logistics_subtotal,accent:s.accent,defaultOpen:false},Object.entries(tierData.logistics||{}).map(([k,v])=>import_react.default.createElement(EditableLogisticsRow,{key:k,logKey:k,value:v,accent:s.accent,onUpdate:val=>updateLogistics(activeTier,k,val)}))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 18px",borderRadius:0,background:`${s.accent}0e`,border:`1px solid ${s.border}`,marginTop:6}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase"}},"Grand Total"),import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:34,fontWeight:700,color:"var(--text)",letterSpacing:"0.02em"}},fmt(tierData.grand_total))),tierData.notes&&import_react.default.createElement("div",{style:{marginTop:12,padding:"12px 16px",background:"var(--input-bg)",borderRadius:0,fontSize:13,color:"var(--text2)",borderLeft:`3px solid ${s.accent}`}},tierData.notes)),(result==null?void 0:result.time_estimate)&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:10,marginTop:16}},[["Fabrication",result.time_estimate.fabrication_weeks],["Install",result.time_estimate.install_days],["Dismantle",result.time_estimate.dismantle_days]].map(([l,v])=>import_react.default.createElement("div",{key:l,style:{background:"var(--input-bg)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:0,padding:"14px 16px",textAlign:"center"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.14em",color:"var(--text3)",textTransform:"uppercase",marginBottom:5}},l),import_react.default.createElement("div",{style:{fontWeight:800,fontSize:16}},v)))))}function EstimatorClientView({estimate,activeTier,onClose}){var _a,_b,_c;const tier=(_b=(_a=estimate.result)==null?void 0:_a.estimates)==null?void 0:_b[activeTier];if(!tier)return null;const s=TIER_STYLES[activeTier];return import_react.default.createElement("div",{style:{background:"var(--bg)",color:"var(--text)",minHeight:"100vh",fontFamily:"'Inter',sans-serif"}},import_react.default.createElement("style",null,`@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap');`),import_react.default.createElement("div",{style:{background:"var(--bg)",borderBottom:"1px solid var(--border)",padding:"14px 32px",display:"flex",justifyContent:"space-between",alignItems:"center"}},import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12}},import_react.default.createElement("div",{style:{width:32,height:32,background:"var(--btn-pri)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,color:"var(--btn-pri-text)",fontSize:13}},"DC"),import_react.default.createElement("span",{style:{fontWeight:800}},"DREAM"),import_react.default.createElement("span",{style:{fontWeight:300}},"CRAFT")),import_react.default.createElement("button",{type:"button",onClick:onClose,style:{background:"var(--btn-bg)",border:"none",color:"var(--text)",padding:"7px 14px",borderRadius:0,fontSize:12,fontWeight:700,cursor:"pointer"}},"\u2190 Back to Editor")),import_react.default.createElement("div",{style:{maxWidth:760,margin:"0 auto",padding:"48px 32px"}},import_react.default.createElement("div",{style:{marginBottom:36}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:600,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)",marginBottom:8}},"Fabrication Estimate"),import_react.default.createElement("h1",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:48,fontWeight:700,color:"var(--text)",letterSpacing:"0.04em",textTransform:"uppercase",marginBottom:8,lineHeight:1.1}},estimate.projectName||"Your Project"),import_react.default.createElement("p",{style:{fontSize:14,color:"var(--text3)"}},"Prepared for ",estimate.clientName||"Client"," \xB7 ",fmtDate(estimate.createdAt))),(()=>{const imgs=estimate.imagesB64||(estimate.imageB64?[{b64:estimate.imageB64,mimeType:"image/jpeg",name:"render"}]:[]);if(!imgs.length)return null;return import_react.default.createElement("div",{style:{marginBottom:36}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,fontWeight:600,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:12}},"Project Renders"),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:imgs.length===1?"1fr":"repeat(auto-fill, minmax(200px, 1fr))",gap:12}},imgs.map((img,i)=>import_react.default.createElement("div",{key:i,style:{borderRadius:0,overflow:"hidden",border:"1px solid #e2e8f0",aspectRatio:"16/9",background:"var(--input-bg)"}},import_react.default.createElement("img",{src:`data:${img.mimeType||"image/jpeg"};base64,${img.b64}`,alt:img.name||`Render ${i+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})))))})(),import_react.default.createElement("div",{style:{display:"flex",gap:12,marginBottom:32}},["affordable","mid_tier","high_end"].map(t=>{var _a2,_b2;const ts=TIER_STYLES[t];const td=(_b2=(_a2=estimate.result)==null?void 0:_a2.estimates)==null?void 0:_b2[t];const isActive=t===activeTier;return import_react.default.createElement("div",{key:t,style:{flex:1,padding:"18px",borderRadius:0,border:`2px solid ${isActive?ts.accent:"#e2e8f0"}`,background:isActive?"var(--btn-pri)":"var(--input-bg)",cursor:"pointer"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:11,fontWeight:600,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text2)",marginBottom:6}},td==null?void 0:td.label),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:28,fontWeight:700,color:"var(--text)",letterSpacing:"0.02em"}},fmt(td==null?void 0:td.grand_total)),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text3)",marginTop:4}},((td==null?void 0:td.description)||"").substring(0,60),"\u2026"))})),import_react.default.createElement("div",{style:{background:"var(--input-bg)",borderRadius:0,overflow:"hidden",marginBottom:24}},import_react.default.createElement("div",{style:{background:"var(--card)",borderBottom:"1px solid var(--border)",padding:"10px 20px"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontWeight:600,fontSize:11,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text2)"}},"Fabrication")),(tier.fabrication_items||[]).map((item,i)=>import_react.default.createElement("div",{key:i,style:{display:"flex",justifyContent:"space-between",padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"}},import_react.default.createElement("span",{style:{fontSize:14,color:"var(--text2)"}},item.item),import_react.default.createElement("span",{style:{fontSize:14,fontWeight:600,color:"var(--text)"}},fmt(item.subtotal)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 20px",borderTop:"1px solid var(--border)"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:12,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--text3)"}},"Fabrication Subtotal"),import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:13,fontWeight:700,color:"var(--text)"}},fmt(tier.fabrication_subtotal)))),import_react.default.createElement("div",{style:{background:"var(--input-bg)",borderRadius:0,overflow:"hidden",marginBottom:32}},import_react.default.createElement("div",{style:{background:"var(--card)",borderBottom:"1px solid var(--border)",padding:"10px 20px"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontWeight:600,fontSize:11,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text2)"}},"Labor & Logistics")),Object.entries(tier.logistics||{}).filter(([,v])=>v>0).map(([k,v],i)=>import_react.default.createElement("div",{key:k,style:{display:"flex",justifyContent:"space-between",padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"}},import_react.default.createElement("span",{style:{fontSize:14,color:"var(--text2)"}},LOGISTICS_LABELS[k]||k),import_react.default.createElement("span",{style:{fontSize:14,fontWeight:600,color:"var(--text)"}},fmt(v)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 20px",borderTop:"1px solid var(--border)"}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:12,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--text3)"}},"Labor & Logistics Subtotal"),import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:13,fontWeight:700,color:"var(--text)"}},fmt(tier.logistics_subtotal)))),import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 28px",background:"var(--bg)",borderRadius:0,marginBottom:28}},import_react.default.createElement("span",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:12,fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--text3)"}},"Total Estimate"),import_react.default.createElement("span",{style:{fontSize:32,fontWeight:800,color:"var(--text)",letterSpacing:"-0.02em"}},fmt(tier.grand_total))),((_c=estimate.result)==null?void 0:_c.time_estimate)&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:14,marginBottom:28}},[["Fabrication Time",estimate.result.time_estimate.fabrication_weeks],["Installation",estimate.result.time_estimate.install_days],["Dismantle",estimate.result.time_estimate.dismantle_days]].map(([l,v])=>import_react.default.createElement("div",{key:l,style:{border:"1px solid #e2e8f0",borderRadius:0,padding:"16px",textAlign:"center"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,fontWeight:600,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:5}},l),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontWeight:700,fontSize:20,color:"var(--text)"}},v)))),tier.notes&&import_react.default.createElement("div",{style:{padding:"16px 20px",background:"var(--input-bg)",border:"1px solid var(--border)",borderRadius:0,marginBottom:28}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:10,fontWeight:700,letterSpacing:"0.18em",textTransform:"uppercase",color:"var(--text3)",marginBottom:6}},"Notes"),import_react.default.createElement("div",{style:{fontSize:13,color:"var(--text2)",lineHeight:1.7}},tier.notes)),import_react.default.createElement("div",{style:{fontSize:12,color:"var(--text2)",lineHeight:1.8,paddingTop:24,borderTop:"1px solid var(--border2)"}},"This estimate is valid for 14 days. Pricing is subject to final scope confirmation, site survey, and engineering review. All prices exclude applicable taxes.",import_react.default.createElement("br",null),"Questions? Contact us at ",import_react.default.createElement("strong",null,"droberts@dce-usa.com")," \xB7 ",import_react.default.createElement("strong",null,"www.dce-usa.com"))))}function EstimatesList({estimates,onOpen,onNew,onDelete}){const sorted=[...estimates].sort((a,b)=>new Date(b.updatedAt)-new Date(a.updatedAt));return import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:28}},import_react.default.createElement("div",null,import_react.default.createElement("h1",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:42,fontWeight:700,letterSpacing:"0.04em",textTransform:"uppercase",marginBottom:4}},"Estimates"),import_react.default.createElement("p",{style:{color:"var(--text3)",fontSize:14}},estimates.length," saved estimate",estimates.length!==1?"s":"")),import_react.default.createElement("button",{type:"button",onClick:onNew,style:{padding:"11px 22px",borderRadius:0,background:"var(--btn-pri)",border:"none",color:"var(--btn-pri-text)",fontWeight:700,fontSize:13,letterSpacing:"0.08em"}},"+ New Estimate")),estimates.length===0?import_react.default.createElement("div",{style:{textAlign:"center",padding:"80px 0",color:"var(--text3)"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:64,fontWeight:800,marginBottom:16,opacity:.08,letterSpacing:"0.04em"}},"NO ESTIMATES"),import_react.default.createElement("div",{style:{fontWeight:700,fontSize:16}},"No estimates yet"),import_react.default.createElement("div",{style:{fontSize:13,marginTop:6}},"Create your first estimate to get started")):import_react.default.createElement("div",{style:{display:"grid",gap:10}},sorted.map(est=>{var _a,_b,_c,_d;const tier=((_a=est.estimates)==null?void 0:_a[est.selectedTier||"mid_tier"])||((_c=(_b=est.result)==null?void 0:_b.estimates)==null?void 0:_c["mid_tier"]);return import_react.default.createElement("div",{key:est.id,onClick:()=>onOpen(est),style:{display:"grid",gridTemplateColumns:"1fr auto auto auto",alignItems:"center",gap:16,background:"var(--input-bg)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:0,padding:"16px 20px",cursor:"pointer",transition:"all 0.15s"},onMouseEnter:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.25)",onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.07)"},import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{fontWeight:700,fontSize:15,marginBottom:4}},est.projectName||"Untitled Project",est.clientName&&import_react.default.createElement("span",{style:{fontWeight:400,color:"var(--text3)",marginLeft:8,fontSize:13}},"\xB7 ",est.clientName)),import_react.default.createElement("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"}},import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)"}},(_d=est.location)==null?void 0:_d.toUpperCase()," \xB7 ",est.boothSize),est.updatedAt&&est.updatedAt!==est.createdAt?import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)"}},"Edited ",fmtDate(est.updatedAt)):est.createdAt?import_react.default.createElement("span",{style:{fontSize:11,color:"var(--text3)"}},"Created ",fmtDate(est.createdAt)):null)),import_react.default.createElement(StatusBadge,{status:est.status}),import_react.default.createElement("div",{style:{textAlign:"right"}},import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,color:"var(--text3)",letterSpacing:"0.1em",marginBottom:2}},"ESTIMATE"),import_react.default.createElement("div",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:22,fontWeight:700,color:"var(--text)",letterSpacing:"0.02em"}},fmt(tier==null?void 0:tier.grand_total))),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();if(confirm("Delete this estimate?"))onDelete(est.id)},style:{background:"none",border:"none",color:"var(--text2)",fontSize:16,cursor:"pointer",padding:"4px 6px"},onMouseEnter:e=>e.target.style.color="#f87171",onMouseLeave:e=>e.target.style.color="rgba(255,255,255,0.2)"},"\u2715"))})))}var fldLabel={fontFamily:"'Barlow Condensed',sans-serif",fontSize:9,letterSpacing:"0.15em",color:"var(--text3)",textTransform:"uppercase",display:"block",marginBottom:9};var fldInput={width:"100%",padding:"10px 0",background:"transparent",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,outline:"none"};var fldSelect={width:"100%",padding:"10px 0",background:"var(--input-bg)",border:"none",borderBottom:"1px solid var(--input-border)",color:"var(--text)",fontSize:13,appearance:"none",cursor:"pointer",outline:"none"};function NewEstimate({onBack,onCreated}){var _a;const[mode,setMode]=(0,import_react.useState)("upload");const[location,setLocation]=(0,import_react.useState)("indoor");const[boothSize,setBoothSize]=(0,import_react.useState)("20x20");const[customSqft,setCustomSqft]=(0,import_react.useState)("");const[images,setImages]=(0,import_react.useState)([]);const fileRef=(0,import_react.useRef)();const[form,setForm]=(0,import_react.useState)({eventType:"",clientBrand:"",description:"",structureType:"",mustHaves:"",avNeeds:"",graphicStyle:"",timeline:"",showCity:"",showZip:"",audience:"",budget:"",specialRequirements:""});const[loading,setLoading]=(0,import_react.useState)(false);const[error,setError]=(0,import_react.useState)(null);const sqft=boothSize==="custom"?parseInt(customSqft)||null:(_a=BOOTH_SIZES[boothSize])==null?void 0:_a.sqft;const setF=(k,v)=>setForm(f=>({...f,[k]:v}));const addFiles=(0,import_react.useCallback)(files=>{const all=Array.from(files||[]);const validFiles=all.filter(file=>{var _a2;if(!file||!(file instanceof Blob)||file.size===0)return false;const ext=(file.name||"").split(".").pop().toLowerCase();const knownExts=["jpg","jpeg","png","webp","gif","heic","heif"];return((_a2=file.type)==null?void 0:_a2.startsWith("image/"))||knownExts.includes(ext)||!file.type});if(!validFiles.length){if(all.length>0)setError("No valid image files found \u2014 use JPG, PNG, or WEBP files saved to disk.");return}validFiles.forEach(file=>{let preview;try{preview=URL.createObjectURL(file)}catch(e){setError("Could not load "+(file.name||"file")+" \u2014 save as JPG or PNG first.");return}const entry={id:genId(),file,preview,b64:null,name:file.name||"render.jpg",ready:false};setImages(prev=>{if(prev.length>=10){setError("Maximum 10 images allowed.");return prev}return[...prev,entry]});fileToBase64(file).then(b64=>setImages(prev=>prev.map(e=>e.preview===preview?{...e,b64,ready:true}:e))).catch(err=>{setError("Could not read "+(file.name||"file")+": "+err.message);setImages(prev=>prev.filter(e=>e.preview!==preview))})})},[]);const removeImage=(0,import_react.useCallback)(id=>setImages(prev=>prev.filter(e=>e.id!==id)),[]);const run=async()=>{var _a2,_b;if(!getApiKey()){setError("No API key set \u2014 click the key icon in the header to add your Anthropic API key.");return}setLoading(true);setError(null);try{const system=buildSystemPrompt(location,boothSize,sqft);let content;if(mode==="upload"){const notReady=images.filter(e=>!e.ready);if(notReady.length>0){await new Promise(r=>setTimeout(r,1200));const stillNotReady=images.filter(e=>!e.ready);if(stillNotReady.length>0)throw new Error(`${stillNotReady.length} image(s) still loading \u2014 wait a moment and try again.`)}const readyImages=images.filter(e=>e.ready&&e.b64);if(readyImages.length>0){const imageBlocks=readyImages.map(img=>({type:"image",source:{type:"base64",media_type:"image/jpeg",data:img.b64}}));const angleNote=readyImages.length>1?`You have been provided ${readyImages.length} render angles. Analyze all of them together.`:"";content=[...imageBlocks,{type:"text",text:`Analyze ${readyImages.length>1?"these renders (multiple angles)":"this render"} and produce a full fabrication estimate.
${angleNote}
Booth: ${boothSize} | Location: ${location.toUpperCase()} | ${sqft?sqft+" sqft":"size TBD"}

IMPORTANT: Respond ONLY with a single valid JSON object. No markdown, no backticks, no text before or after.`}]}else{content=`Generate a general fabrication estimate.
Booth: ${boothSize} | Location: ${location.toUpperCase()} | ${sqft?sqft+" sqft":"size TBD"}

IMPORTANT: Respond ONLY with valid JSON. No backticks, no preamble.`}}else{const parts=[`Generate a detailed fabrication estimate based on the following project brief.`,`Booth: ${boothSize} | Location: ${location.toUpperCase()} | ${sqft?sqft+" sqft":"size TBD"}`,form.eventType&&`Event Type: ${form.eventType}`,form.clientBrand&&`Client / Brand: ${form.clientBrand}`,form.description&&`Project Description: ${form.description}`,form.structureType&&`Structure / Build Type: ${form.structureType}`,form.mustHaves&&`Must-Have Elements: ${form.mustHaves}`,form.avNeeds&&`AV / Tech Needs: ${form.avNeeds}`,form.graphicStyle&&`Graphic / Branding Style: ${form.graphicStyle}`,form.timeline&&`Timeline / Show Date: ${form.timeline}`,form.showCity&&`Show City / Venue: ${form.showCity}`,form.audience&&`Expected Audience / Traffic: ${form.audience}`,form.budget&&`Budget Guidance: ${form.budget}`,form.specialRequirements&&`Special Requirements: ${form.specialRequirements}`,`
Use all details above to identify realistic fabrication line items and logistics for each tier. Be specific \u2014 name actual elements like counters, walls, flooring type, hanging signs, LED panels, etc. based on what was described.

IMPORTANT: Respond ONLY with a single valid JSON object. No markdown, no backticks, no text before or after.`].filter(Boolean).join("\n");content=parts}const res=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":getApiKey(),"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:8e3,system,messages:[{role:"user",content}]})});const data=await res.json();if(data.error)throw new Error(`API error: ${data.error.message}`);const text=((_a2=data.content)==null?void 0:_a2.map(b=>b.text||"").join(""))||"";if(!text)throw new Error("Empty response");const parsed=extractJSON(text);const now=new Date().toISOString();const newEst={id:genId(),status:"draft",location,boothSize,sqft,imageB64:((_b=images[0])==null?void 0:_b.b64)||null,imagesB64:images.filter(e=>e.ready).map(e=>({b64:e.b64,name:e.name,mimeType:"image/jpeg"})),formData:mode==="form"?form:null,clientName:form.clientBrand||"",projectName:form.eventType||"",quoteNumber:`DCE-${Math.floor(5e4+Math.random()*5e3)}`,createdAt:now,updatedAt:now,selectedTier:"mid_tier",result:parsed,estimates:parsed.estimates};onCreated(newEst)}catch(e){console.error(e);setError(e.message)}finally{setLoading(false)}};if(loading){return import_react.default.createElement("div",{style:{textAlign:"center",padding:"90px 0"}},import_react.default.createElement("div",{style:{fontSize:44,marginBottom:20,display:"inline-block",animation:"spin 1.8s linear infinite"}},"\u2699"),import_react.default.createElement("style",null,`@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}`),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:36,fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:10}},mode==="form"?"Building Your Estimate":"Analyzing Your Project"),import_react.default.createElement("p",{style:{color:"var(--text2)",fontSize:14}},mode==="form"?"Reading project brief, scoping elements, building three tiers\u2026":"Reading render, identifying elements, building three tiers\u2026"))}const sharedFields=import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Location Type"),import_react.default.createElement("div",{style:{display:"flex",gap:8}},[["indoor","Indoor"],["outdoor","Outdoor"]].map(([val,lbl])=>import_react.default.createElement("button",{type:"button",key:val,onClick:()=>setLocation(val),style:{flex:1,padding:"10px 8px",fontWeight:600,fontSize:12,cursor:"pointer",background:location===val?"rgba(255,255,255,0.1)":"transparent",border:`1px solid ${location===val?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.15)"}`,color:location===val?"#fff":"rgba(255,255,255,0.45)"}},lbl)))),import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Booth Size"),import_react.default.createElement("select",{value:boothSize,onChange:e=>setBoothSize(e.target.value),style:fldSelect},Object.entries(BOOTH_SIZES).map(([k,v])=>import_react.default.createElement("option",{key:k,value:k,style:{background:"var(--bg3)"}},v.label))))),boothSize==="custom"&&import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement("label",{style:fldLabel},"Custom Square Footage"),import_react.default.createElement("input",{type:"number",value:customSqft,onChange:e=>setCustomSqft(e.target.value),placeholder:"e.g. 2400",style:fldInput})));return import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:32}},import_react.default.createElement("button",{type:"button",onClick:onBack,style:{background:"var(--card)",border:"1px solid var(--border)",color:"var(--text2)",padding:"7px 16px",fontSize:11,fontWeight:600,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},"\u2190 Back"),import_react.default.createElement("h2",{style:{fontFamily:"'Barlow Condensed',sans-serif",fontSize:32,fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase"}},"New Estimate")),import_react.default.createElement("div",{style:{display:"flex",gap:0,marginBottom:32,borderBottom:"1px solid var(--border)"}},[["upload","Upload Renders"],["form","Describe Project"]].map(([m,lbl])=>import_react.default.createElement("button",{type:"button",key:m,onClick:()=>{setMode(m);setError(null)},style:{padding:"10px 24px",background:"var(--card)",border:"none",cursor:"pointer",fontFamily:"'Barlow Condensed',sans-serif",fontSize:13,fontWeight:700,letterSpacing:"0.12em",textTransform:"uppercase",color:mode===m?"#fff":"rgba(255,255,255,0.35)",borderBottom:`2px solid ${mode===m?"#fff":"transparent"}`,marginBottom:-1}},lbl))),error&&import_react.default.createElement("div",{style:{border:"1px solid var(--border)",padding:"14px 18px",marginBottom:22}},import_react.default.createElement("div",{style:{color:"var(--text)",fontWeight:700,fontSize:13,marginBottom:4}},"\u26A0 Error"),import_react.default.createElement("div",{style:{color:"var(--text2)",fontSize:12,lineHeight:1.6}},error)),mode==="upload"&&import_react.default.createElement("div",null,import_react.default.createElement("div",{onDrop:e=>{e.preventDefault();addFiles(e.dataTransfer.files)},onDragOver:e=>e.preventDefault(),onClick:()=>{var _a2;return(_a2=fileRef.current)==null?void 0:_a2.click()},style:{border:`1px dashed ${images.length>0?"rgba(255,255,255,0.35)":"rgba(255,255,255,0.18)"}`,padding:"32px 24px",textAlign:"center",cursor:"pointer",marginBottom:images.length>0?16:28,background:"var(--input-bg)",transition:"border-color 0.2s"}},import_react.default.createElement("div",{style:{fontSize:28,marginBottom:8,opacity:.3}},"\u2191"),import_react.default.createElement("div",{style:{fontWeight:600,marginBottom:6,fontSize:14}},images.length===0?"Drop renders here or click to upload":`Add more angles (${images.length}/10)`),import_react.default.createElement("div",{style:{color:"var(--text3)",fontSize:12}},"PNG, JPG, WEBP \xB7 Up to 10 images \xB7 Multiple angles improve accuracy"),import_react.default.createElement("input",{ref:fileRef,type:"file",accept:"image/*",multiple:true,style:{display:"none"},onChange:e=>addFiles(e.target.files)})),images.length>0&&import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:8,marginBottom:24}},images.map(img=>import_react.default.createElement("div",{key:img.id,style:{position:"relative",overflow:"hidden",border:"1px solid var(--border2)",aspectRatio:"4/3",background:"var(--bg3)"}},import_react.default.createElement("img",{src:img.preview,alt:img.name,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),!img.ready&&import_react.default.createElement("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center"}},import_react.default.createElement("div",{style:{fontSize:18,animation:"spin 1.2s linear infinite"}},"\u2699")),img.ready&&import_react.default.createElement("div",{style:{position:"absolute",top:5,left:5,background:"#fff",padding:"2px 5px",fontSize:9,fontWeight:700,color:"var(--btn-pri-text)",letterSpacing:"0.06em"}},"\u2713"),import_react.default.createElement("button",{type:"button",onClick:e=>{e.stopPropagation();removeImage(img.id)},style:{position:"absolute",top:5,right:5,width:20,height:20,background:"var(--modal-bg)",border:"1px solid var(--border)",color:"var(--text)",fontSize:10,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},"\u2715"),import_react.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"4px 6px",background:"rgba(0,0,0,0.65)",fontSize:9,color:"var(--text2)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},img.name)))),sharedFields,import_react.default.createElement("button",{type:"button",onClick:run,style:{width:"100%",padding:"16px",background:"var(--btn-pri)",border:"none",color:"var(--btn-pri-text)",fontWeight:700,fontSize:13,letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"}},images.length>0?`Analyze ${images.length} Render${images.length>1?"s":""} & Build Estimate`:"Build General Estimate")),mode==="form"&&import_react.default.createElement("div",null,import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Event Type"),import_react.default.createElement("select",{value:form.eventType,onChange:e=>setF("eventType",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select event type\u2026"),["Trade Show","Music Festival","Brand Activation","Sporting Event","Corporate Event","Retail Pop-Up","Product Launch","Experiential Tour","Other"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o)))),import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Client / Brand"),import_react.default.createElement("input",{value:form.clientBrand,onChange:e=>setF("clientBrand",e.target.value),placeholder:"e.g. Nike, Modelo, EA Sports",style:fldInput}))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement("label",{style:fldLabel},"Project Description"),import_react.default.createElement("textarea",{value:form.description,onChange:e=>setF("description",e.target.value),placeholder:"Describe the overall vision, aesthetic, and purpose of the booth or activation. What should attendees experience? What story is the brand telling?",style:{...fldInput,resize:"vertical",minHeight:90,padding:"10px 0",lineHeight:1.6}})),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Structure / Build Type"),import_react.default.createElement("select",{value:form.structureType,onChange:e=>setF("structureType",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select structure type\u2026"),["Island Booth (open all sides)","Peninsula Booth (3 sides open)","Inline Booth (1 side open)","Outdoor Activation","Tent / Canopy Structure","Double-Deck Structure","Modular / Re-usable System","Custom One-Off Build","Other"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o)))),import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"AV / Tech Needs"),import_react.default.createElement("select",{value:form.avNeeds,onChange:e=>setF("avNeeds",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select AV level\u2026"),["None / Minimal","Basic (monitors, simple lighting)","Moderate (LED wall, branded lighting, audio)","High (large LED video wall, interactive, immersive AV)","Full Production (multiple screens, show control, full lighting rig)"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o))))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement("label",{style:fldLabel},"Must-Have Elements"),import_react.default.createElement("input",{value:form.mustHaves,onChange:e=>setF("mustHaves",e.target.value),placeholder:"e.g. Reception counter, product display shelving, lounge seating area, hanging sign, demo stations",style:fldInput})),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:24}},import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Graphic / Branding Style"),import_react.default.createElement("select",{value:form.graphicStyle,onChange:e=>setF("graphicStyle",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select graphic level\u2026"),["Minimal / Clean","Standard vinyl wrap graphics","Full SEG fabric graphics","Illuminated / backlit graphics","Custom painted / specialty finishes","Mixed (multiple graphic types)"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o)))),import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Show Date / Timeline"),import_react.default.createElement("input",{value:form.timeline,onChange:e=>setF("timeline",e.target.value),placeholder:"e.g. CES Jan 2026, 8 weeks out",style:fldInput}))),import_react.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:12,marginBottom:24,alignItems:"end"}},import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Show City / Venue"),import_react.default.createElement(LocationAutocomplete,{value:form.showCity||"",onChange:v=>setF("showCity",v),onSelect:({cityState,zip,venue})=>{setF("showCity",venue||cityState);if(zip)setF("showZip",zip)},placeholder:"e.g. Las Vegas Convention Center, NV"})),import_react.default.createElement("div",{style:{width:80}},import_react.default.createElement("label",{style:fldLabel},"ZIP"),import_react.default.createElement("input",{value:form.showZip||"",onChange:e=>setF("showZip",e.target.value),placeholder:"89101",style:{...fldInput,textAlign:"center"}})),import_react.default.createElement("div",null,import_react.default.createElement("label",{style:fldLabel},"Expected Attendance / Traffic"),import_react.default.createElement("select",{value:form.audience,onChange:e=>setF("audience",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"Select traffic level\u2026"),["Low (under 500/day)","Medium (500\u20132,000/day)","High (2,000\u201310,000/day)","Very High (10,000+/day)"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o))))),import_react.default.createElement("div",{style:{marginBottom:24}},import_react.default.createElement("label",{style:fldLabel},"Budget Guidance (optional)"),import_react.default.createElement("select",{value:form.budget,onChange:e=>setF("budget",e.target.value),style:fldSelect},import_react.default.createElement("option",{value:"",style:{background:"var(--bg3)"}},"No guidance / let the estimate decide"),["Under $25,000","$25,000 \u2013 $50,000","$50,000 \u2013 $100,000","$100,000 \u2013 $200,000","$200,000 \u2013 $500,000","$500,000+"].map(o=>import_react.default.createElement("option",{key:o,value:o,style:{background:"var(--bg3)"}},o)))),import_react.default.createElement("div",{style:{marginBottom:28}},import_react.default.createElement("label",{style:fldLabel},"Special Requirements / Notes"),import_react.default.createElement("textarea",{value:form.specialRequirements,onChange:e=>setF("specialRequirements",e.target.value),placeholder:"Union labor requirements, venue weight limits, fire marshal restrictions, sustainability requirements, re-use from prior builds, specific materials, etc.",style:{...fldInput,resize:"vertical",minHeight:70,padding:"10px 0",lineHeight:1.6}})),sharedFields,import_react.default.createElement("button",{type:"button",onClick:run,disabled:!form.description&&!form.eventType,style:{width:"100%",padding:"16px",background:"var(--btn-pri)",border:"none",color:"var(--btn-pri-text)",opacity:!form.description&&!form.eventType?.4:1,fontWeight:700,fontSize:13,letterSpacing:"0.08em",textTransform:"uppercase",cursor:!form.description&&!form.eventType?"not-allowed":"pointer"}},"Build Estimate from Brief"),!form.description&&!form.eventType&&import_react.default.createElement("div",{style:{textAlign:"center",fontSize:11,color:"var(--text3)",marginTop:8}},"Fill in at least Event Type or Project Description to continue")))}function EstimatorApp(){const[view,setView]=(0,import_react.useState)("list");const[estimates,setEstimates]=(0,import_react.useState)([]);const[openEstimate,setOpenEstimate]=(0,import_react.useState)(null);const[showApiKey,setShowApiKey]=(0,import_react.useState)(false);(0,import_react.useEffect)(()=>{try{const stored=localStorage.getItem(STORAGE_KEY);if(stored)setEstimates(JSON.parse(stored))}catch(e){}sbLoad("estimates").then(rows=>{if(rows&&rows.length>0){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(rows))}catch{}setEstimates(rows)}})},[]);(0,import_react.useEffect)(()=>{try{localStorage.setItem(STORAGE_KEY,JSON.stringify(estimates))}catch(e){}sbSaveAll("estimates",estimates)},[estimates]);const saveEstimate=est=>{setEstimates(prev=>{const idx=prev.findIndex(e=>e.id===est.id);if(idx>=0){const next=[...prev];next[idx]=est;return next}return[est,...prev]})};const deleteEstimate=id=>{setEstimates(prev=>prev.filter(e=>e.id!==id))};const handleCreated=est=>{saveEstimate(est);setOpenEstimate(est);setView("detail")};const handleOpen=est=>{setOpenEstimate(est);setView("detail")};return import_react.default.createElement(import_react.default.Fragment,null,import_react.default.createElement("style",null,`
        @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
      `),import_react.default.createElement("div",{style:{minHeight:"100vh",background:"var(--bg)"}},import_react.default.createElement("div",{style:{maxWidth:900,margin:"0 auto",padding:"36px 24px 80px"}},view==="list"&&import_react.default.createElement(EstimatesList,{estimates,onOpen:handleOpen,onNew:()=>setView("new"),onDelete:deleteEstimate}),view==="new"&&import_react.default.createElement(NewEstimate,{onBack:()=>setView("list"),onCreated:handleCreated}),view==="detail"&&openEstimate&&import_react.default.createElement(EstimateDetail,{estimate:openEstimate,onBack:()=>{setView("list");setOpenEstimate(null)},onSave:est=>{saveEstimate(est);setOpenEstimate(est)}}))))}function EstimatorTool(){return import_react.default.createElement(EstimatorApp,null)}var container=document.getElementById("root");var root=import_client.default.createRoot(container);root.render(import_react.default.createElement(App));})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
</script>
</body>
</html>
